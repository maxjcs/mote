<div ms-controller="teacherHome">
    <div class="masker-loading" ms-class="hide:root.initialized"></div>
    <div class="panel">
        <div class="section teacher-hd">
            <div class="base-info clearfix">
                <p class="avatar">
                    <img ms-if="teacherInfo.avatarUrl" ms-src="{{teacherInfo.avatarUrl}}v6">
                    <img ms-if="!teacherInfo.avatarUrl" ms-src="{root.defaultAvatarUrl}}">
                    <span ms-if="teacherInfo.isOrg" class="icon icon-organ"></span>
                </p>
                <dl>
                    <dt><span class="teacher-name">{{teacherInfo.nickname}}<em ms-text="teacherInfo.isOrg?'':'老师'"></em></span><i
                            ms-if="!teacherInfo.isOrg"
                            ms-class-1="icon-female:teacherInfo.gender==2"
                            ms-class-2="icon-male:teacherInfo.gender==1"
                            class="icon icon-sex"></i></dt>
                    <dd>
                        <span ms-if="!teacherInfo.isOrg">教龄<em>{{teacherInfo.courseYear}} 年</em></span>
                        <span>级别<em>{{teacherInfo.star}} 星</em></span>
                    </dd>
                </dl>
                <a class="icon icon-qcode" ms-click="goToQRCodeView()"></a>
            </div>
            <div class="count-info clearfix">
                <dl ms-click="goToFollowed()">
                    <dt>{{teacherInfo.totalFollowed}}</dt>
                    <dd>学生关注</dd>
                </dl>
                <dl>
                    <dt>{{teacherInfo.countAudio}}</dt>
                    <dd>累计辅导</dd>
                </dl>
                <dl>
                    <dt>{{teacherInfo.countAudioSet}}</dt>
                    <dd>习题集</dd>
                </dl>
            </div>
        </div>
        <div class="teacher-main">
            <ul class="section other-info">
                <li ms-click="showMore"><em>辅导学科：</em><span>{{teacherInfo.subjects}}</span><i
                        class="icon icon-more"></i>
                </li>
                <li ms-click="showMore"><em>辅导年级：</em><span>{{teacherInfo.grades}}</span><i class="icon icon-more"></i>
                </li>
                <li ms-click="showMore"><em ms-text="teacherInfo.isOrg?'机构简介：':'个人简介：'"></em><span>{{teacherInfo.selfDescription}}</span><i
                        class="icon icon-more"></i></li>
            </ul>
            <div class="section workbook" ms-controller="workbook" ms-if="wbList.size()>0">
                <h2>习题集<span>（精心整理，突破重难点）</span></h2>
                <i class="icon icon-new"></i>
                <ul class="workbook-list">
                    <li ms-repeat="wbList" ms-click="wbItemDetail(el.id)">
                        <div class="wb-txt">
                            <i ms-if="el.topTag==0" class="icon icon-play"></i>
                            <i ms-if="el.topTag==1" class="icon icon-top"></i>

                            <div>{{el.name}}</div>
                            <i class="icon icon-arrow"></i>
                        </div>
                        <div class="wb-info">
                            <span ms-if="el.isFree==1" class="free">免费</span>
                            <span ms-if="el.isFree==0" class="price">￥{{el.price | centToYuan}}</span>
                            <span class="sell">售出{{el.countSales}}份</span>
                            <span class="segment">|</span>
                            <span class="evaluate">
                                <em>{{el.goodCounts}}好评</em><em>{{el.midCounts}}中评</em><em>{{el.badCounts}}差评</em>
                            </span>
                        </div>
                    </li>
                </ul>
                <a class="loadmore-btn" ms-click="goWbList()" ms-if="wbList.size()>20"><span>查看全部习题集>></span></a>
            </div>
            <div class="section guestbook" ms-controller="guessbook">
                <h3>留言<a href="javascript:;"
                         ms-click="goMessageList()"><em>{{gbReplyer}}</em>个小伙伴围观，<em>{{gbCount}} </em>条留言>></a></h3>
                <ul id="gbMsgList" class="msg-list">
                    <li class="clearfix" ms-repeat="gbList">
                        <p class="user-avatar">
                            <span ms-if="el.type==1">
                                <img ms-if="el.studentImageUrl" ms-src="{{el.studentImageUrl}}v6">
                                <img ms-if="!el.studentImageUrl" ms-src="{{root.defaultAvatarUrl}}">
                            </span>
                            <span ms-if="el.type==2">
                                <img ms-if="el.teacherImageUrl" ms-src="{{el.teacherImageUrl}}v6">
                                <img ms-if="!el.teacherImageUrl" ms-src="{{root.defaultAvatarUrl}}">
                            </span>
                        </p>
                        <dl ms-click="goMessageDetail(el.id)">
                            <dt>
                                <span class="t-left msg-floor">{{el.floor}} #</span>
                                <span class="t-left" ms-if="el.type==1">
                                    <span class="user-name">{{el.studentName}}</span><i
                                        ms-class-1="icon-female:el.studentGender==2"
                                        ms-class-2="icon-male:el.studentGender==1" class="icon icon-sex"></i>
                                </span>
                                <span class="t-left" ms-if="el.type==2">
                                    <span class="user-name">{{el.teacherName}}</span><i
                                        ms-class-1="icon-female:el.teacherGender==2"
                                        ms-class-2="icon-male:el.teacherGender==1" class="icon icon-sex"></i>
                                </span>

                                <span class="t-right">
                                    <span class="msg-reply" ms-if="el.replyCount>0"><i class="icon icon-reply"></i><em>{{el.replyCount}}</em></span>
                                    <span class="segment" ms-if="el.canDelete">
                                        <em ms-if="el.replyCount>0">|</em>
                                    </span>
                                    <a class="btn-remove" ms-if="el.canDelete" ms-click="deleteMessage(event,el.id)"><i
                                            class="icon icon-remove"></i></a>
                                </span>
                            </dt>
                            <dd class="msg-parent-cnt" ms-if="el.parentMessage">
                                <em>{{el.parentMessage.floor}} #</em><span>{{el.parentMessage.emojiContent}}</span>
                            </dd>
                            <dd class="msg-content">
                                <i ms-if="el.type==2" class="icon icon-teacher"></i>{{el.emojiContent}}
                            </dd>
                            <dd class="msg-time">
                                {{el.createTimeDetailStr}}
                            </dd>
                        </dl>
                    </li>
                </ul>
                <div class="no-comments" ms-if="gbCount==0">
                    <div class="msg">还没有小伙伴给你留言</div>
                </div>
                <a class="loadmore-btn" ms-if="gbCount>5" ms-click="goMessageList()"><span>查看全部留言>></span></a>
            </div>
        </div>
    </div>
</div>
