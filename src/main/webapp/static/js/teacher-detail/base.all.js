!function(){"use strict";function e(t,r){function a(e,t){return function(){return e.apply(t,arguments)}}var i;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!e.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,l=0,c=o.length;c>l;l++)s[o[l]]=a(s[o[l]],s);n&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var a=Node.prototype.removeEventListener;"click"===e?a.call(t,e,n.hijacked||n,r):a.call(t,e,n,r)},t.addEventListener=function(e,n,r){var a=Node.prototype.addEventListener;"click"===e?a.call(t,e,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):a.call(t,e,n,r)}),"function"==typeof t.onclick&&(i=t.onclick,t.addEventListener("click",function(e){i(e)},!1),t.onclick=null)}}var t=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!t,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!t,a=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),i=r&&/OS [6-7]_\d/.test(navigator.userAgent),o=navigator.userAgent.indexOf("BB10")>0;e.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(r&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},e.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},e.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},e.prototype.determineEventType=function(e){return n&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(e){var t;r&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},e.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},e.prototype.onTouchStart=function(e){var t,n,i;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],r){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!a){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},e.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},e.prototype.onTouchMove=function(e){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},e.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(e){var t,o,s,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,o=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,i&&(c=e.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=u.tagName.toLowerCase(),"label"===s){if(t=this.findControl(u)){if(this.focus(u),n)return!1;u=t}}else if(this.needsFocus(u))return e.timeStamp-o>100||r&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,e),r&&"select"===s||(this.targetElement=null,e.preventDefault()),!1);return r&&!a&&(l=u.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(u)||(e.preventDefault(),this.sendClick(u,e)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(e){return this.targetElement?e.forwardedTouchEvent?!0:!e.cancelable||this.needsClick(this.targetElement)&&!this.cancelNextClick?!0:(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0},e.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},e.prototype.destroy=function(){var e=this.layer;n&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(e){var t,r,a,i;if("undefined"==typeof window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&(a=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),a[1]>=10&&a[2]>=3&&(t=document.querySelector("meta[name=viewport]")))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction?!0:(i=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],i>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===e.style.touchAction||"manipulation"===e.style.touchAction?!0:!1)},e.attach=function(t,n){return new e(t,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?(module.exports=e.attach,module.exports.FastClick=e):window.FastClick=e}(),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("Avalon requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(){avalon.config.debug&&console.log.apply(console,arguments)}function r(){return Object.create(null)}function i(){}function o(e,t){"string"==typeof e&&(e=e.match($e)||[]);for(var n={},r=void 0!==t?t:1,a=0,i=e.length;i>a;a++)n[e[a]]=r;return n}function s(){if(e.VBArray){var t=document.documentMode;return t?t:e.XMLHttpRequest?7:6}return 0}function l(e){if(e&&"object"==typeof e){var t=e.length,n=Me.call(e);if(/(Array|List|Collection|Map|Arguments)\]$/.test(n))return!0;if("[object Object]"===n&&t===t>>>0)return!0}return!1}function c(e,t){if(e&&e.childNodes)for(var n,r=e.childNodes,a=0;n=r[a++];)if(n.tagName){var i=ge.createElementNS(ze,n.tagName.toLowerCase());je.forEach.call(n.attributes,function(e){i.setAttribute(e.name,e.value)}),c(n,i),t.appendChild(i)}}function u(e){for(var t in e)if(Ne.call(e,t)){var n=e[t];"function"==typeof u.plugins[t]?u.plugins[t](n):"object"==typeof u[t]?avalon.mix(u[t],n):u[t]=n}return this}function f(e){return(e+"").replace(et,"\\$&")}function p(e,t,n){if(Array.isArray(e)){var a=e.concat();e.length=0;var i=x(e);return i.pushArray(a),i}if(!e||e.nodeType>0||e.$id&&e.$events)return e;var o=Array.isArray(e.$skipArray)?e.$skipArray:[];o.$special=t||r();var s={};n=n||{};var l=r(),c=r(),u=[];it.forEach(function(t){delete e[t]});for(var f in e)!function(e,t,r){if(n[e]=t,w(e,t,o)){l[e]=[];var a=avalon.type(t);"object"===a&&Ve(t.get)&&Object.keys(t).length<=2?(r=h(e,t),u.push(r)):r=ke.test(a)?v(e,t,a,l[e]):d(e,t),c[e]=r}}(f,e[f]);s=Object.defineProperties(s,st(c));for(var p in e)c[p]||(s[p]=e[p]);s.$id=Fe(),s.$model=n,s.$events=l;for(f in rt)s[f]=rt[f];return Object.defineProperty(s,"hasOwnProperty",{value:function(e){return e in this.$model},writable:!1,enumerable:!1,configurable:!0}),s.$compute=function(){u.forEach(function(e){ft.begin({callback:function(t,n){var r=n._name;if(n!==e){var a=t.$events[r];e.vm=s,S(a,e.digest)}}});try{e.get.call(s)}finally{ft.end()}})},s.$compute(),s}function d(e,t){function n(e){var t=n._value;return arguments.length>0?(Te||ot(e,t)||(n.updateValue(this,e),n.notify(this,e,t)),this):(ft.collectDependency(this,n),t)}return b(n,e),n._value=t,n}function h(e,t){function n(e){var t=n._value,r="_value"in n;return arguments.length>0?Te?this:(n.set.call(this,e),this):(e=n.get.call(this),t!==e&&(n.updateValue(this,e),r&&n.notify(this,e,t)),e)}t.set=t.set||i,n.set=t.set||i,n.get=t.get,b(n,e);var r;return n.digest=function(){n.updateValue=g,n.notify=i,n.call(n.vm),clearTimeout(r),r=setTimeout(function(){b(n,n._name),n.call(n.vm)})},n}function v(e,t,n,r){function a(t){var r=a._value,i=a._vmodel;if(arguments.length>0){if(Te)return this;if("array"===n){var o=i._;i._=[],i.clear(),i._=o,i.pushArray(t)}else if("object"===n){var s=i.$proxy,l=this.$events[e]||[];i=a._vmodel=p(t),i.$proxy=s,l.length&&(l.forEach(function(e){var t=Ue[e.type];t&&(e.rollback&&e.rollback(),t(e,e.vmodels))}),i.$events[e]=l)}return a.updateValue(this,i.$model),a.notify(this,this._value,r),this}return ft.collectDependency(this,a),i}b(a,e);var i=a._vmodel=p(t);return i.$events[xe]=r,a}function m(e,t){e.$model[this._name]=this._value=t}function g(e,t){e.$model[this._name]=t}function y(e,t,n){var r=this._name,a=e.$events[r];a&&(A(a),rt.$fire.call(e,r,t,n))}function b(e,t){e._name=t,e.updateValue=m,e.notify=y}function w(e,t,n){if(Ve(t)||t&&t.nodeType)return!1;if(-1!==n.indexOf(e))return!1;var r=n.$special;return e&&"$"===e.charAt(0)&&!r[e]?!1:!0}function x(e){var t=[];t.$id=Fe(),t.$model=e,t.$events={},t.$events[xe]=[],t._=p({length:e.length}),t._.$watch("length",function(e,n){t.$fire("length",e,n)});for(var n in rt)t[n]=rt[n];return t.$map={el:1},t.$proxy=[],avalon.mix(t,ct),t}function E(e,t,n,r,a,i,o){for(var s=this.length,l=2;--l;){switch(e){case"add":var c=t+n,u=this.$model.slice(t,c).map(function(e){return ke.test(avalon.type(e))?e.$id?e:p(e,0,e):e});lt.apply(this,[t,0].concat(u));for(var f=t;c>f;f++){var d=k(f,this);this.$proxy.splice(f,0,d)}this._fire("add",t,n);break;case"del":var h=this._splice(t,n),v=this.$proxy.splice(t,n);pe(v,"each"),this._fire("del",t,n)}a&&(e=a,t=i,n=o,l=2,a=0)}return C(this.$proxy,r),this.length!==s&&(this._.length=this.length),h}function C(e,t){for(var n,r=e.length-1;n=e[t];t++)n.$index=t,n.$first=0===t,n.$last=t===r}function T(e,t){for(var n={},r=0,a=t.length;a>r;r++){n[r]=e[r];var i=t[r];i in n?(e[r]=n[i],delete n[i]):e[r]=e[i]}}function $(){var e={$index:0/0,$first:0/0,$last:0/0,$map:{},$host:{},$outer:{},$remove:avalon.noop,el:{get:function(){return this.$host[this.$index]},set:function(e){this.$host.set(this.$index,e)}}},t={$last:1,$first:1,$index:1},n=p(e,t);return n.$id=Fe("$proxy$each"),n}function k(e,t){var n=ut.shift();n?n.$compute():n=$();var r=t.length-1;return n.$host=t,n.$index=e,n.$first=0===e,n.$last=e===r,n.$map=t.$map,n.$remove=function(){return t.removeAt(n.$index)},n}function S(e,t){t=t||Pe[me],e&&t&&avalon.Array.ensure(e,t)&&t.element&&N(t,e)}function A(e){if(e&&e.length){new Date-vt>444&&"object"==typeof e[0]&&M();for(var t,n=Le.call(arguments,1),r=e.length;t=e[--r];){var a=t.element;if(a&&a.parentNode)try{if(t.$repeat)t.handler.apply(t,n);else if("on"!==t.type){var o=t.evaluator||i;t.handler(o.apply(0,t.args||[]),a,t)}}catch(s){}}}}function O(e){return e.uniqueNumber||(e.uniqueNumber=++dt)}function N(e,t){var n=e.element;e.uuid||(e.uuid=1!==n.nodeType?e.type+(e.pos||0)+"-"+O(n.parentNode):e.name+"-"+O(n));var r=e.lists||(e.lists=[]);avalon.Array.ensure(r,t),t.$uuid=t.$uuid||Fe(),ht[e.uuid]||(ht[e.uuid]=1,ht.push(e))}function M(e){if(!avalon.optimize){for(var t=ht.length,n=t,r=[],a={},i={};e=ht[--t];){var o=e.type;i[o]?i[o]++:(i[o]=1,r.push(o))}var s=!1;if(r.forEach(function(e){mt[e]!==i[e]&&(a[e]=1,s=!0)}),t=n,s)for(;e=ht[--t];)if(e.element&&a[e.type]&&L(e.element)){ht.splice(t,1),delete ht[e.uuid];for(var l,c=e.lists,u=0;l=c[u++];)avalon.Array.remove(c,l),avalon.Array.remove(l,e);j(e)}mt=i,vt=new Date}}function j(e){e.element=null,e.rollback&&e.rollback();for(var t in e)e[t]=null}function L(e){try{if(!e.parentNode)return!0}catch(t){return!0}return e.msRetain?0:1===e.nodeType?!He.contains(e):!avalon.contains(He,e)}function P(e){return e.replace(/([a-z\d])([A-Z]+)/g,"$1-$2").toLowerCase()}function D(e){return e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(/[-_][^-_]/g,function(e){return e.charAt(1).toUpperCase()})}function H(e){try{if("object"==typeof e)return e;e="true"===e?!0:"false"===e?!1:"null"===e?null:+e+""===e?+e:Ct.test(e)?JSON.parse(e):e}catch(t){}return e}function _(e){return e.window&&e.document?e:9===e.nodeType?e.defaultView:!1}function R(e,t){if(e.offsetWidth<=0){var n=getComputedStyle(e,null);if(At.test(n.display)){var r={node:e};for(var a in St)r[a]=n[a],e.style[a]=St[a];t.push(r)}var i=e.parentNode;i&&1===i.nodeType&&R(i,t)}}function I(e){var t=e.tagName.toLowerCase();return"input"===t&&/checkbox|radio/.test(e.type)?"checked":t}function F(e,t,n,r){for(var a,i=[],o=" = "+n+".",s=/\$proxy\$each/.test(t.$id),l=e.length;a=e[--l];){var c=s&&t.$map[a]?"el":a;t.hasOwnProperty(c)&&(i.push(a+o+c),r.vars.push(a),"duplex"===r.type&&(e.get=n+"."+c),e.splice(l,1))}return i}function B(e){for(var t=[],n={},r=0;r<e.length;r++){var a=e[r],i=a&&"string"==typeof a.$id?a.$id:a;n[i]||(n[i]=t.push(a))}return t}function V(e,t){return t=t.replace(Vt,"").replace(Ut,function(){return"],|"}).replace(qt,function(e,t){return"["+Nt(t)}).replace(Wt,function(){return'"],["'}).replace(zt,function(){return'",'})+"]","return avalon.filters.$filter("+e+", "+t+")"}function U(e,t,r){var a=r.type,o=r.filters||"",s=t.map(function(e){return String(e.$id).replace(Bt,"$1")})+e+a+o,l=Rt(e).concat(),c=[],u=[],f=[],p="";t=B(t),r.vars=[];for(var d=0,h=t.length;h>d;d++)if(l.length){var v="vm"+me+"_"+d;u.push(v),f.push(t[d]),c.push.apply(c,F(l,t[d],v,r))}if(c.length||"duplex"!==a){"duplex"!==a&&(e.indexOf("||")>-1||e.indexOf("&&")>-1)&&r.vars.forEach(function(t){var n=new RegExp("\\b"+t+"(?:\\.\\w+|\\[\\w+\\])+","ig");e=e.replace(n,function(n){var r=n.charAt(t.length),a=Be?e.slice(arguments[1]+n.length):RegExp.rightContext,i=/^\s*\(/.test(a);if("."===r||"["===r||i){var o="var"+String(Math.random()).replace(/^0\./,"");if(i){var s=n.split(".");if(s.length>2){var l=s.pop();return c.push(o+" = "+s.join(".")),o+"."+l}return n}return c.push(o+" = "+n),o}return n})}),r.args=f,delete r.vars;var m=It.get(s);if(m)return void(r.evaluator=m);if(p=c.join(", "),p&&(p="var "+p),/\S/.test(o)){if(!/text|html/.test(r.type))throw Error("ms-"+r.type+"不支持过滤器");e="\nvar ret"+me+" = "+e+";\r\n",e+=V("ret"+me,o)}else{if("duplex"===a){var g="'use strict';\nreturn function(vvv){\n	"+p+";\n	if(!arguments.length){\n		return "+e+"\n	}\n	"+(Ft.test(e)?e:l.get)+"= vvv;\n} ";try{m=Function.apply(i,u.concat(g)),r.evaluator=It.put(s,m)}catch(y){n("debug: parse error,"+y.message)}return}if("on"===a){-1===e.indexOf("(")?e+=".call(this, $event)":e=e.replace("(",".call(this,"),u.push("$event"),e="\nreturn "+e+";";var b=e.lastIndexOf("\nreturn"),w=e.slice(0,b),x=e.slice(b);e=w+"\n"+x}else e="\nreturn "+e+";"}try{m=Function.apply(i,u.concat("'use strict';\n"+p+e)),r.evaluator=It.put(s,m)}catch(y){n("debug: parse error,"+y.message)}finally{l=c=u=null}}}function q(e,t,n,r,a){Array.isArray(r)&&(e=r.map(function(e){return e.expr?"("+e.value+")":Nt(e.value)}).join(" + ")),U(e,t,n),n.evaluator&&!a&&(n.handler=qe[n.handlerName||n.type],avalon.injectBinding(n))}function W(e,t,n){var r=setTimeout(function(){var a=e.innerHTML;clearTimeout(r),a===n?t():W(e,t,a)})}function z(e,t){var n=e.getAttribute("avalonctrl")||t.$id;e.setAttribute("avalonctrl",n),t.$events.expr=e.tagName+'[avalonctrl="'+n+'"]'}function Z(e,t){for(var n,r=0;n=e[r++];)n.vmodels=t,Ue[n.type](n,t),n.evaluator&&n.element&&1===n.element.nodeType&&n.element.removeAttribute(n.name);e.length=0}function X(e,t){return e.priority-t.priority}function Y(e,t,a){var i=!0;if(t.length){for(var o,s=e.attributes,l=[],c=[],u=r(),f=0;o=s[f++];)if(o.specified&&(a=o.name.match(Gt))){var p=a[1],d=a[2]||"",h=o.value,v=o.name;if(Qt[p]?(d=p,p="on"):Kt[p]&&("enabled"===p&&(n("warning!ms-enabled或ms-attr-enabled已经被废弃"),p="disabled",h="!("+h+")"),d=p,p="attr",v="ms-"+p+"-"+d,c.push([o.name,v,h])),u[v]=h,"function"==typeof Ue[p]){var m={type:p,param:d,element:e,name:v,value:h,priority:(Jt[p]||10*p.charCodeAt(0))+(Number(d.replace(/\D/g,""))||0)};if("html"===p||"text"===p){var g=ee(h);avalon.mix(m,g),m.filters=m.filters.replace(nn,function(){return m.type="html",m.group=1,""})}else if("duplex"===p)var y=v;else"ms-if-loop"===v&&(m.priority+=100);l.push(m),"widget"===p&&(e.msData=e.msData||u)}}if(l.length){l.sort(X),c.forEach(function(t){n("warning!请改用"+t[1]+"代替"+t[0]+"!"),e.removeAttribute(t[0]),e.setAttribute(t[1],t[2])});var b=e.type;for(b&&y&&(u["ms-attr-checked"]&&n("warning!"+b+"控件不能同时定义ms-attr-checked与"+y),u["ms-attr-value"]&&n("warning!"+b+"控件不能同时定义ms-attr-value与"+y)),f=0;m=l[f];f++){if(p=m.type,en.test(p))return Z(l.slice(0,f+1),t);i&&(i=!tn.test(p))}Z(l,t)}}i&&!Zt[e.tagName]&&Ke.test(e.innerHTML+e.textContent)&&(Yt&&Yt(e),G(e,t))}function G(e,t){var n=avalon.slice(e.childNodes);J(n,t)}function J(e,t){for(var n,r=0;n=e[r++];)Q(n,n.nodeType,t)}function Q(e,t,n){1===t?(K(e,n),e.msCallback&&(e.msCallback(),e.msCallback=void 0)):3===t&&Je.test(e.data)?ne(e,n):u.commentInterpolate&&8===t&&!Je.test(e.nodeValue)&&ne(e,n)}function K(e,t,n){var r=e.getAttribute("ms-skip"),a=e.getAttributeNode("ms-important"),i=e.getAttributeNode("ms-controller");if("string"!=typeof r){if(n=a||i){var o=avalon.vmodels[n.value];if(!o)return;t=n===a?[o]:[o].concat(t),e.removeAttribute(n.name),e.classList.remove(n.name),z(e,o)}Y(e,t)}}function ee(e,t){if(e.indexOf("|")>0){var n=e.replace(an,function(e){return Array(e.length+1).join("1")}),r=n.replace(rn,"ᄢ㍄").indexOf("|");if(r>-1)return{filters:e.slice(r),value:e.slice(0,r),pos:t||0,expr:!0}}return{value:e,filters:"",expr:!0}}function te(e){for(var t,n,r=[],a=0;(n=e.indexOf(Ye,a),-1!==n)&&(t=e.slice(a,n),t&&r.push({value:t,filters:"",expr:!1}),a=n+Ye.length,n=e.indexOf(Ge,a),-1!==n);)t=e.slice(a,n),t&&r.push(ee(t,a)),a=n+Ge.length;return t=e.slice(a),t&&r.push({value:t,expr:!1,filters:""}),r}function ne(e,t){var n=[];if(8===e.nodeType)var r=ee(e.nodeValue),a=[r];else a=te(e.data);if(a.length){for(var i=0;r=a[i++];){var o=ge.createTextNode(r.value);r.expr&&(r.type="text",r.element=o,r.filters=r.filters.replace(nn,function(){return r.type="html",""}),n.push(r)),_e.appendChild(o)}e.parentNode.replaceChild(_e,e),n.length&&Z(n,t)}}function re(e,t,n){var r=e.templateCache&&e.templateCache[t];if(r){for(var a,i=ge.createDocumentFragment();a=r.firstChild;)i.appendChild(a);return i}return avalon.parseHTML(n)}function ae(e){return null==e?"":e}function ie(e,t,n){return t.param.replace(/\w+/g,function(r){var a=avalon.duplexHooks[r];a&&"function"==typeof a[n]&&(e=a[n](e,t))}),e}function oe(){for(var e=mn.length-1;e>=0;e--){var t=mn[e];t()===!1&&mn.splice(e,1)}mn.length||clearInterval(vn)}function se(e,t,n,r){var a=e.template.cloneNode(!0),i=avalon.slice(a.childNodes);e.$with||a.insertBefore(ge.createComment(e.signature),a.firstChild),t.appendChild(a);var o=[n].concat(e.vmodels),s={nodes:i,vmodels:o};r.push(s)}function le(e){for(var t=e.element,n=t.nodeValue.replace(":end",""),r=t.previousSibling,a=[];r;)r.nodeValue===n&&a.unshift(r),r=r.previousSibling;return a}function ce(e,t,n){for(;;){var r=t.previousSibling;if(!r)break;if(r.parentNode.removeChild(r),n&&n.call(r),r===e)break}}function ue(){var e=p({$key:"",$outer:{},$host:{},$val:{get:function(){return this.$host[this.$key]},set:function(e){this.$host[this.$key]=e}}},{$val:1});return e.$id=Fe("$proxy$with"),e}function fe(e,t,n){e=e||wn.pop(),e||(e=ue());var r=n.$repeat;return e.$key=t,e.$host=r,e.$outer=n.$outer,r.$events?e.$events.$val=r.$events[t]:e.$events={},e}function pe(e){e.forEach(function(e){de(e,ut)}),e.length=0}function de(e,t){for(var n in e.$events)Array.isArray(e.$events[n])&&(e.$events[n].forEach(function(e){"object"==typeof e&&j(e)}),e.$events[n].length=0);e.$host=e.$outer={},t.unshift(e)>u.maxRepeatSize&&t.pop()}function he(e,t){var n="_"+e;if(!he[n]){var r=ge.createElement(e);He.appendChild(r),t=De?getComputedStyle(r,null).display:r.currentStyle.display,He.removeChild(r),he[n]=t}return he[n]}function ve(e,t,n,r){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var a=isFinite(+e)?+e:0,i=isFinite(+t)?Math.abs(t):3,o=r||",",s=n||".",l="",c=function(e,t){var n=Math.pow(10,t);return""+(Math.round(e*n)/n).toFixed(t)};return l=(i?c(a,i):""+Math.round(a)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,o)),(l[1]||"").length<i&&(l[1]=l[1]||"",l[1]+=new Array(i-l[1].length+1).join("0")),l.join(s)}var me=Date.now(),ge=e.document,ye=ge.head;ye.insertAdjacentHTML("afterBegin",'<avalon ms-skip class="avalonHide"><style id="avalonStyle">.avalonHide{ display: none!important }</style></avalon>');var be,we=ye.firstChild,xe="$"+me,Ee=e.require,Ce=e.define,Te=!1,$e=/[^, ]+/g,ke=/^(?:object|array)$/,Se=/^\[object SVG\w*Element\]$/,Ae=/^\[object (?:Window|DOMWindow|global)\]$/,Oe=Object.prototype,Ne=Oe.hasOwnProperty,Me=Oe.toString,je=Array.prototype,Le=je.slice,Pe={},De=e.dispatchEvent,He=ge.documentElement,_e=ge.createDocumentFragment(),Re=ge.createElement("div"),Ie={};"Boolean Number String Function Array Date RegExp Object Error".replace($e,function(e){Ie["[object "+e+"]"]=e.toLowerCase()});var Fe=function(e){return e=e||"avalon",String(Math.random()+Math.random()).replace(/\d\.\d{4}/,e)},Be=s();avalon=function(e){return new avalon.init(e)},avalon.profile=function(){e.console&&avalon.config.profile&&Function.apply.call(console.log,console,arguments)},avalon.nextTick=new function(){function t(){for(var e=i.length,t=0;e>t;t++)i[t]();i=i.slice(e)}var n=e.setImmediate,r=e.MutationObserver,a=De&&e.postMessage;if(n)return n.bind(e);var i=[];if(r){var o=document.createTextNode("avalon");return new r(t).observe(o,{characterData:!0}),function(e){i.push(e),o.data=Math.random()}}return a?(e.addEventListener("message",function(n){var r=n.source;r!==e&&null!==r||"process-tick"!==n.data||(n.stopPropagation(),t())}),function(t){i.push(t),e.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}},avalon.init=function(e){this[0]=this.element=e},avalon.fn=avalon.prototype=avalon.init.prototype,avalon.type=function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?Ie[Me.call(e)]||"object":typeof e};var Ve=function(e){return"[object Function]"===Me.call(e)};avalon.isFunction=Ve,avalon.isWindow=function(e){return Ae.test(Me.call(e))},avalon.isPlainObject=function(e){return"[object Object]"===Me.call(e)&&Object.getPrototypeOf(e)===Oe},avalon.mix=avalon.fn.mix=function(){var e,t,n,r,a,i,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[1]||{},s++),"object"==typeof o||Ve(o)||(o={}),s===l&&(o=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],r=e[t],o!==r&&(c&&r&&(avalon.isPlainObject(r)||(a=Array.isArray(r)))?(a?(a=!1,i=n&&Array.isArray(n)?n:[]):i=n&&avalon.isPlainObject(n)?n:{},o[t]=avalon.mix(c,i,r)):void 0!==r&&(o[t]=r));return o},avalon.mix({rword:$e,subscribers:xe,version:1.44,ui:{},log:n,slice:function(e,t,n){return Le.call(e,t,n)},noop:i,error:function(e,t){throw new(t||Error)(e)},oneObject:o,range:function(e,t,n){n||(n=1),null==t&&(t=e||0,e=0);for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n)),i=new Array(a);++r<a;)i[r]=e,e+=n;return i},eventHooks:{},bind:function(e,t,n,r){var a=avalon.eventHooks,i=a[t];return"object"==typeof i&&(t=i.type,i.deel&&(n=i.deel(e,t,n,r))),n.unbind||e.addEventListener(t,n,!!r),n},unbind:function(e,t,n,r){var a=avalon.eventHooks,o=a[t],s=n||i;"object"==typeof o&&(t=o.type,o.deel&&(n=o.deel(e,t,n,!1))),e.removeEventListener(t,s,!!r)},css:function(e,t,n){e instanceof avalon&&(e=e[0]);var r,a=/[_-]/.test(t)?D(t):t;if(t=avalon.cssName(a)||a,void 0===n||"boolean"==typeof n){r=Tt[a+":get"]||Tt["@:get"],"background"===t&&(t="backgroundColor");var i=r(e,t);return n===!0?parseFloat(i)||0:i}if(""===n)e.style[t]="";else{if(null==n||n!==n)return;isFinite(n)&&!avalon.cssNumber[a]&&(n+="px"),(r=Tt[a+":set"]||Tt["@:set"])(e,t,n)}},each:function(e,t){if(e){var n=0;if(l(e))for(var r=e.length;r>n&&t(n,e[n])!==!1;n++);else for(n in e)if(e.hasOwnProperty(n)&&t(n,e[n])===!1)break}},getWidgetData:function(e,t){var n=avalon(e).data(),r={};for(var a in n)0===a.indexOf(t)&&(r[a.replace(t,"").replace(/\w/,function(e){return e.toLowerCase()})]=n[a]);return r},Array:{ensure:function(e,t){return-1===e.indexOf(t)?e.push(t):void 0},removeAt:function(e,t){return!!e.splice(t,1).length},remove:function(e,t){var n=e.indexOf(t);return~n?avalon.Array.removeAt(e,n):!1}}});var Ue=avalon.bindingHandlers={},qe=avalon.bindingExecutors={},We=new function(){function e(e){this.size=0,this.limit=e,this.head=this.tail=void 0,this._keymap={}}var t=e.prototype;return t.put=function(e,t){var n={key:e,value:t};return this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit?this.shift():this.size++,t},t.shift=function(){var e=this.head;e&&(this.head=this.head.newer,this.head.older=e.newer=e.older=this._keymap[e.key]=void 0)},t.get=function(e){var t=this._keymap[e];return void 0!==t?t===this.tail?t.value:(t.newer&&(t===this.head&&(this.head=t.newer),t.newer.older=t.older),t.older&&(t.older.newer=t.newer),t.newer=void 0,t.older=this.tail,this.tail&&(this.tail.newer=t),this.tail=t,t.value):void 0},e};if(ge.contains||(Node.prototype.contains=function(e){return!!(16&this.compareDocumentPosition(e))}),avalon.contains=function(e,t){try{for(;t=t.parentNode;)if(t===e)return!0;return!1}catch(n){return!1}},e.SVGElement){var ze="http://www.w3.org/2000/svg",Ze=ge.createElementNS(ze,"svg");Ze.innerHTML='<circle cx="50" cy="50" r="40" fill="red" />',Se.test(Ze.firstChild)||Object.defineProperties(SVGElement.prototype,{outerHTML:{enumerable:!0,configurable:!0,get:function(){return(new XMLSerializer).serializeToString(this)},set:function(e){var t=this.tagName.toLowerCase(),n=this.parentNode,r=avalon.parseHTML(e);if("svg"===t)n.insertBefore(r,this);else{var a=ge.createDocumentFragment();c(r,a),n.insertBefore(a,this)}n.removeChild(this)}},innerHTML:{enumerable:!0,configurable:!0,get:function(){var e=this.outerHTML,t=new RegExp("<"+this.nodeName+'\\b(?:(["\'])[^"]*?(\\1)|[^>])*>',"i"),n=new RegExp("</"+this.nodeName+">$","i");return e.replace(t,"").replace(n,"")},set:function(e){if(avalon.clearHTML){avalon.clearHTML(this);var t=avalon.parseHTML(e);c(t,this)}}}})}var Xe=avalon.eventHooks;"onmouseenter"in He||avalon.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Xe[e]={type:t,deel:function(t,n,r){return function(n){var a=n.relatedTarget;return a&&(a===t||16&t.compareDocumentPosition(a))?void 0:(delete n.type,n.type=e,r.call(t,n))}}}}),avalon.each({AnimationEvent:"animationend",WebKitAnimationEvent:"webkitAnimationEnd"},function(t,n){e[t]&&!Xe.animationend&&(Xe.animationend={type:n})}),void 0===ge.onmousewheel&&(Xe.mousewheel={type:"wheel",deel:function(e,t,n){return function(t){t.wheelDeltaY=t.wheelDelta=t.deltaY>0?-120:120,t.wheelDeltaX=0,Object.defineProperty(t,"type",{value:"mousewheel"}),n.call(e,t)}}});var Ye,Ge,Je,Qe,Ke,et=/[-.*+?^${}()|[\]\/\\]/g,tt={loader:function(t){var n=be&&t;e.require=n?be:Ee,e.define=n?be.define:Ce},interpolate:function(e){if(Ye=e[0],Ge=e[1],Ye===Ge)throw new SyntaxError("openTag!==closeTag");if(e+""=="<!--,-->")u.commentInterpolate=!0;else{var t=Ye+"test"+Ge;if(Re.innerHTML=t,Re.innerHTML!==t&&Re.innerHTML.indexOf("&lt;")>-1)throw new SyntaxError("此定界符不合法");Re.innerHTML=""}var n=f(Ye),r=f(Ge);Je=new RegExp(n+"(.*?)"+r),Qe=new RegExp(n+"(.*?)"+r,"g"),Ke=new RegExp(n+".*?"+r+"|\\sms-")}};u.debug=!0,u.plugins=tt,u.plugins.interpolate(["{{","}}"]),u.paths={},u.shim={},u.maxRepeatSize=100,avalon.config=u;var nt=function(e){return ge.querySelectorAll(e)},rt={$watch:function(e,t){if("function"==typeof t){var n=this.$events[e];n?n.push(t):this.$events[e]=[t]}else this.$events=this.$watch.backup;return this},$unwatch:function(e,t){var n=arguments.length;if(0===n)this.$watch.backup=this.$events,this.$events={};else if(1===n)this.$events[e]=[];else for(var r=this.$events[e]||[],a=r.length;~--a<0;)if(r[a]===t)return r.splice(a,1);return this},$fire:function(e){var t,n,r,a;/^(\w+)!(\S+)$/.test(e)&&(t=RegExp.$1,e=RegExp.$2);var i=this.$events;if(i){var o=Le.call(arguments,1),s=[e].concat(o);if("all"===t)for(n in avalon.vmodels)r=avalon.vmodels[n],r!==this&&r.$fire.apply(r,s);else if("up"===t||"down"===t){var l=i.expr?nt(i.expr):[];if(0===l.length)return;for(n in avalon.vmodels)if(r=avalon.vmodels[n],r!==this&&r.$events.expr){var c=nt(r.$events.expr);if(0===c.length)continue;je.forEach.call(c,function(e){je.forEach.call(l,function(n){var a="down"===t?n.contains(e):e.contains(n);a&&(e._avalon=r)})})}var u=ge.getElementsByTagName("*"),f=[];for(je.forEach.call(u,function(e){e._avalon&&(f.push(e._avalon),e._avalon="",e.removeAttribute("_avalon"))}),"up"===t&&f.reverse(),n=0;(a=f[n++])&&a.$fire.apply(a,s)!==!1;);}else{var p=i[e]||[],d=i.$all||[];for(n=0;a=p[n++];)Ve(a)&&a.apply(this,o);for(n=0;a=d[n++];)Ve(a)&&a.apply(this,arguments)}}}},at=avalon.vmodels={};avalon.define=function(e,t){var r=e.$id||e;if(r||n("warning: vm必须指定$id"),at[r]&&n("warning: "+r+" 已经存在于avalon.vmodels中"),"object"==typeof e)var a=p(e);else{var o={$watch:i};t(o),a=p(o),Te=!0,t(a),Te=!1}return a.$id=r,at[r]=a};var it=String("$id,$watch,$unwatch,$fire,$events,$model,$skipArray,$proxy").match($e),ot=Object.is||function(e,t){return 0===e&&0===t?1/e===1/t:e!==e?t!==t:e===t},st=function(e){var t={};for(var n in e)t[n]={get:e[n],set:e[n],enumerable:!0,configurable:!0};return t},lt=je.splice,ct={_splice:lt,_fire:function(e,t,n){A(this.$events[xe],e,t,n)},size:function(){return this._.length},pushArray:function(e){var t=e.length,n=this.length;return t&&(je.push.apply(this.$model,e),E.call(this,"add",n,t,Math.max(0,n-1))),t+n},push:function(){var e,t=[],n=arguments.length;for(e=0;n>e;e++)t[e]=arguments[e];return this.pushArray(t);

},unshift:function(){var e=arguments.length,t=this.length;return e&&(je.unshift.apply(this.$model,arguments),E.call(this,"add",0,e,0)),e+t},shift:function(){if(this.length){var e=this.$model.shift();return E.call(this,"del",0,1,0),e}},pop:function(){var e=this.length;if(e){var t=this.$model.pop();return E.call(this,"del",e-1,1,Math.max(0,e-2)),t}},splice:function(e){var t,n=arguments.length,r=[],a=lt.apply(this.$model,arguments);return a.length&&(r.push("del",e,a.length,0),t=!0),n>2&&(t?r.splice(3,1,0,"add",e,n-2):r.push("add",e,n-2,0),t=!0),t?E.apply(this,r):[]},contains:function(e){return-1!==this.indexOf(e)},remove:function(e){return this.removeAt(this.indexOf(e))},removeAt:function(e){return e>=0?(this.$model.splice(e,1),E.call(this,"del",e,1,0)):[]},clear:function(){return pe(this.$proxy,"each"),this.$model.length=this.$proxy.length=this.length=this._.length=0,this._fire("clear",0),this},removeAll:function(e){if(Array.isArray(e))for(var t=this.length-1;t>=0;t--)-1!==e.indexOf(this[t])&&this.removeAt(t);else if("function"==typeof e)for(t=this.length-1;t>=0;t--)e(this[t],t)&&this.removeAt(t);else this.clear()},ensure:function(e){return this.contains(e)||this.push(e),this},set:function(e,t){if(e>=0){var n=avalon.type(t);t&&t.$model&&(t=t.$model);var r=this[e];if("object"===n)for(var a in t)r.hasOwnProperty(a)&&(r[a]=t[a]);else if("array"===n)r.clear().push.apply(r,t);else if(r!==t){this[e]=t,this.$model[e]=t;var i=this.$proxy[e];i&&A(i.$events.$index)}}return this}};"sort,reverse".replace($e,function(e){ct[e]=function(){var t,n=this.$model,r=n.concat(),a=Math.random(),i=[];je[e].apply(n,arguments);for(var o=0,s=r.length;s>o;o++){var l=n[o],c=r[o];if(ot(l,c))i.push(o);else{var u=r.indexOf(l);i.push(u),r[u]=a,t=!0}}return t&&(T(this,i),T(this.$proxy,i),this._fire("move",i),C(this.$proxy,0)),this}});var ut=[],ft=function(){var e,t=[];return{begin:function(n){t.push(e),e=n},end:function(){e=t.pop()},collectDependency:function(t,n){e&&e.callback(t,n)}}}(),pt=/^(duplex|on)$/;avalon.injectBinding=function(e){var t=e.evaluator;if(t){ft.begin({callback:function(t,n){S(t.$events[n._name],e)}});try{var n=pt.test(e.type)?e:t.apply(0,e.args);e.handler(n,e.element,e)}catch(r){delete e.evaluator;var a=e.element;if(3===a.nodeType){var i=a.parentNode;u.commentInterpolate?i.replaceChild(ge.createComment(e.value),a):a.data=Ye+e.value+Ge}}finally{ft.end()}}};var dt=0,ht=avalon.$$subscribers=[],vt=new Date,mt={},gt=new function(){avalon.mix(this,{option:ge.createElement("select"),thead:ge.createElement("table"),td:ge.createElement("tr"),area:ge.createElement("map"),tr:ge.createElement("tbody"),col:ge.createElement("colgroup"),legend:ge.createElement("fieldset"),_default:ge.createElement("div"),g:ge.createElementNS("http://www.w3.org/2000/svg","svg")}),this.optgroup=this.option,this.tbody=this.tfoot=this.colgroup=this.caption=this.thead,this.th=this.td};String("circle,defs,ellipse,image,line,path,polygon,polyline,rect,symbol,text,use").replace($e,function(e){gt[e]=gt.g});var yt=/<([\w:]+)/,bt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,wt=o(["","text/javascript","text/ecmascript","application/ecmascript","application/javascript"]),xt=ge.createElement("script"),Et=/<|&#?\w+;/;avalon.parseHTML=function(e){var t=_e.cloneNode(!1);if("string"!=typeof e)return t;if(!Et.test(e))return t.appendChild(ge.createTextNode(e)),t;e=e.replace(bt,"<$1></$2>").trim();var n,r=(yt.exec(e)||["",""])[1].toLowerCase(),a=gt[r]||gt._default;a.innerHTML=e;var i=a.getElementsByTagName("script");if(i.length)for(var o,s=0;o=i[s++];)if(wt[o.type]){var l=xt.cloneNode(!1);je.forEach.call(o.attributes,function(e){l.setAttribute(e.name,e.value)}),l.text=o.text,o.parentNode.replaceChild(l,o)}for(;n=a.firstChild;)t.appendChild(n);return t},avalon.innerHTML=function(e,t){var n=this.parseHTML(t);this.clearHTML(e).appendChild(n)},avalon.clearHTML=function(e){for(e.textContent="";e.firstChild;)e.removeChild(e.firstChild);return e},"add,remove".replace($e,function(e){avalon.fn[e+"Class"]=function(t){var n=this[0];return t&&"string"==typeof t&&n&&1===n.nodeType&&t.replace(/\S+/g,function(t){n.classList[e](t)}),this}}),avalon.fn.mix({hasClass:function(e){var t=this[0]||{};return 1===t.nodeType&&t.classList.contains(e)},toggleClass:function(e,t){for(var n,r=0,a=String(e).split(/\s+/),i="boolean"==typeof t;n=a[r++];){var o=i?t:!this.hasClass(n);this[o?"addClass":"removeClass"](n)}return this},attr:function(e,t){return 2===arguments.length?(this[0].setAttribute(e,t),this):this[0].getAttribute(e)},data:function(e,t){switch(e="data-"+P(e||""),arguments.length){case 2:return this.attr(e,t),this;case 1:var n=this.attr(e);return H(n);case 0:var r={};return je.forEach.call(this[0].attributes,function(t){t&&(e=t.name,e.indexOf("data-")||(e=D(e.slice(5)),r[e]=H(t.value)))}),r}},removeData:function(e){return e="data-"+P(e),this[0].removeAttribute(e),this},css:function(e,t){if(avalon.isPlainObject(e))for(var n in e)avalon.css(this,n,e[n]);else var r=avalon.css(this,e,t);return void 0!==r?r:this},position:function(){var e,t,n=this[0],r={top:0,left:0};return n?("fixed"===this.css("position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),"HTML"!==e[0].tagName&&(r=e.offset()),r.top+=avalon.css(e[0],"borderTopWidth",!0),r.left+=avalon.css(e[0],"borderLeftWidth",!0),r.top-=e.scrollTop(),r.left-=e.scrollLeft()),{top:t.top-r.top-avalon.css(n,"marginTop",!0),left:t.left-r.left-avalon.css(n,"marginLeft",!0)}):void 0},offsetParent:function(){for(var e=this[0].offsetParent;e&&"static"===avalon.css(e,"position");)e=e.offsetParent;return avalon(e||He)},bind:function(e,t,n){return this[0]?avalon.bind(this[0],e,t,n):void 0},unbind:function(e,t,n){return this[0]&&avalon.unbind(this[0],e,t,n),this},val:function(e){var t=this[0];if(t&&1===t.nodeType){var n=0===arguments.length,r=n?":get":":set",a=Ot[I(t)+r];if(a)var i=a(t,e);else{if(n)return(t.value||"").replace(/\r/g,"");t.value=e}}return n?i:this}}),He.dataset&&(avalon.fn.data=function(e,t){e=e&&D(e);var n=this[0].dataset;switch(arguments.length){case 2:return n[e]=t,this;case 1:return t=n[e],H(t);case 0:var a=r();for(e in n)a[e]=H(n[e]);return a}});var Ct=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/;avalon.parseJSON=JSON.parse,avalon.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){avalon.fn[e]=function(n){var r=this[0]||{},a=_(r),i="scrollTop"===e;return arguments.length?void(a?a.scrollTo(i?a[t]:n,i?n:a[t]):r[e]=n):a?a[t]:r[e]}});var Tt=avalon.cssHooks=r(),$t=["","-webkit-","-moz-","-ms-"],kt={"float":"cssFloat"};avalon.cssNumber=o("columnCount,order,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom"),avalon.cssName=function(e,t,n){if(kt[e])return kt[e];t=t||He.style;for(var r=0,a=$t.length;a>r;r++)if(n=D($t[r]+e),n in t)return kt[e]=n;return null},Tt["@:set"]=function(e,t,n){e.style[t]=n},Tt["@:get"]=function(e,t){if(!e||!e.style)throw new Error("getComputedStyle要求传入一个节点 "+e);var n,r=getComputedStyle(e);return r&&(n="filter"===t?r.getPropertyValue(t):r[t],""===n&&(n=e.style[t])),n},Tt["opacity:get"]=function(e){var t=Tt["@:get"](e,"opacity");return""===t?"1":t},"top,left".replace($e,function(e){Tt[e+":get"]=function(t){var n=Tt["@:get"](t,e);return/px$/.test(n)?n:avalon(t).position()[e]+"px"}});var St={position:"absolute",visibility:"hidden",display:"block"},At=/^(none|table(?!-c[ea]).+)/;"Width,Height".replace($e,function(e){var t=e.toLowerCase(),n="client"+e,r="scroll"+e,a="offset"+e;Tt[t+":get"]=function(t,n,r){var i=-4;"number"==typeof r&&(i=r),n="Width"===e?["Left","Right"]:["Top","Bottom"];var o=t[a];return 2===i?o+avalon.css(t,"margin"+n[0],!0)+avalon.css(t,"margin"+n[1],!0):(0>i&&(o=o-avalon.css(t,"border"+n[0]+"Width",!0)-avalon.css(t,"border"+n[1]+"Width",!0)),-4===i&&(o=o-avalon.css(t,"padding"+n[0],!0)-avalon.css(t,"padding"+n[1],!0)),o)},Tt[t+"&get"]=function(e){var n=[];R(e,n);for(var r,a=Tt[t+":get"](e),i=0;r=n[i++];){e=r.node;for(var o in r)"string"==typeof r[o]&&(e.style[o]=r[o])}return a},avalon.fn[t]=function(i){var o=this[0];if(0===arguments.length){if(o.setTimeout)return o["inner"+e];if(9===o.nodeType){var s=o.documentElement;return Math.max(o.body[r],s[r],o.body[a],s[a],s[n])}return Tt[t+"&get"](o)}return this.css(t,i)},avalon.fn["inner"+e]=function(){return Tt[t+":get"](this[0],void 0,-2)},avalon.fn["outer"+e]=function(e){return Tt[t+":get"](this[0],void 0,e===!0?2:0)}}),avalon.fn.offset=function(){var e=this[0];try{var t=e.getBoundingClientRect();if(t.width||t.height||e.getClientRects().length){var n=e.ownerDocument,r=n.documentElement,a=n.defaultView;return{top:t.top+a.pageYOffset-r.clientTop,left:t.left+a.pageXOffset-r.clientLeft}}}catch(i){return{left:0,top:0}}};var Ot={"select:get":function(e,t){for(var n,r=e.options,a=e.selectedIndex,i="select-one"===e.type||0>a,o=i?null:[],s=i?a+1:r.length,l=0>a?s:i?a:0;s>l;l++)if(n=r[l],(n.selected||l===a)&&!n.disabled){if(t=n.value,i)return t;o.push(t)}return o},"select:set":function(e,t,n){t=[].concat(t);for(var r,a=0;r=e.options[a++];)(r.selected=t.indexOf(r.value)>-1)&&(n=!0);n||(e.selectedIndex=-1)}},Nt=JSON.stringify,Mt=["break,case,catch,continue,debugger,default,delete,do,else,false","finally,for,function,if,in,instanceof,new,null,return,switch,this","throw,true,try,typeof,var,void,while,with","abstract,boolean,byte,char,class,const,double,enum,export,extends","final,float,goto,implements,import,int,interface,long,native","package,private,protected,public,short,static,super,synchronized","throws,transient,volatile","arguments,let,yield,undefined"].join(","),jt=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,Lt=/[^\w$]+/g,Pt=new RegExp(["\\b"+Mt.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),Dt=/\b\d[^,]*/g,Ht=/^,+|,+$/g,_t=new We(512),Rt=function(e){var t=","+e.trim(),n=_t.get(t);if(n)return n;var r=e.replace(jt,"").replace(Lt,",").replace(Pt,"").replace(Dt,"").replace(Ht,"").split(/^$|,+/);return _t.put(t,B(r))},It=new We(128),Ft=/\w\[.*\]|\w\.\w/,Bt=/(\$proxy\$[a-z]+)\d+$/,Vt=/\)\s*$/,Ut=/\)\s*\|/g,qt=/\|\s*([$\w]+)/g,Wt=/"\s*\["/g,zt=/"\s*\(/g;avalon.parseExprProxy=q,avalon.scan=function(e,t){e=e||He;var n=t?[].concat(t):[];K(e,n)};var Zt=o("area,base,basefont,br,col,command,embed,hr,img,input,link,meta,param,source,track,wbr,noscript,script,style,textarea".toUpperCase()),Xt=function(e,t,n){var r=e.getAttribute(t);if(r)for(var a,i=0;a=n[i++];)if(a.hasOwnProperty(r)&&"function"==typeof a[r])return a[r]},Yt=Be&&e.MutationObserver?function(e){for(var t,n=e.firstChild;n;){var r=n.nextSibling;3===n.nodeType?t?(t.nodeValue+=n.nodeValue,e.removeChild(n)):t=n:t=null,n=r}}:0,Gt=/ms-(\w+)-?(.*)/,Jt={"if":10,repeat:90,data:100,widget:110,each:1400,"with":1500,duplex:2e3,on:3e3},Qt=o("animationend,blur,change,input,click,dblclick,focus,keydown,keypress,keyup,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,scan,scroll,submit"),Kt=o("value,title,alt,checked,selected,disabled,readonly,enabled"),en=/^if|widget|repeat$/,tn=/^each|with|html|include$/,nn=/\|\s*html\s*/,rn=/\|\|/g,an=/(['"])(\\\1|.)+?\1/g,on=["autofocus,autoplay,async,allowTransparency,checked,controls","declare,disabled,defer,defaultChecked,defaultSelected","contentEditable,isMap,loop,multiple,noHref,noResize,noShade","open,readOnly,selected"].join(","),sn={};on.replace($e,function(e){sn[e.toLowerCase()]=e});var ln={"accept-charset":"acceptCharset","char":"ch",charoff:"chOff","class":"className","for":"htmlFor","http-equiv":"httpEquiv"},cn=["accessKey,bgColor,cellPadding,cellSpacing,codeBase,codeType,colSpan","dateTime,defaultValue,frameBorder,longDesc,maxLength,marginWidth,marginHeight","rowSpan,tabIndex,useMap,vSpace,valueType,vAlign"].join(",");cn.replace($e,function(e){ln[e.toLowerCase()]=e});var un=/<noscript.*?>(?:[\s\S]+?)<\/noscript>/gim,fn=/<noscript.*?>([\s\S]+?)<\/noscript>/im,pn=function(){return new(e.XMLHttpRequest||ActiveXObject)("Microsoft.XMLHTTP")},dn=avalon.templateCache={};Ue.attr=function(e,t){var n=e.value.trim(),r=!0;if(n.indexOf(Ye)>-1&&n.indexOf(Ge)>2&&(r=!1,Je.test(n)&&""===RegExp.rightContext&&""===RegExp.leftContext&&(r=!0,n=RegExp.$1)),"include"===e.type){var a=e.element;e.includeRendered=Xt(a,"data-include-rendered",t),e.includeLoaded=Xt(a,"data-include-loaded",t);var i=e.includeReplace=!!avalon(a).data("includeReplace");avalon(a).data("includeCache")&&(e.templateCache={}),e.startInclude=ge.createComment("ms-include"),e.endInclude=ge.createComment("ms-include-end"),i?(e.element=e.startInclude,a.parentNode.insertBefore(e.startInclude,a),a.parentNode.insertBefore(e.endInclude,a.nextSibling)):(a.insertBefore(e.startInclude,a.firstChild),a.appendChild(e.endInclude))}e.handlerName="attr",q(n,t,e,r?0:te(e.value))},qe.attr=function(t,n,r){var a=r.type,i=r.param;if("css"===a)avalon(n).css(i,t);else if("attr"===a){var o=t===!1||null===t||void 0===t;!De&&ln[i]&&(i=ln[i]);var s=sn[i];if("boolean"==typeof n[s]&&(n[s]=!!t,t||(o=!0)),o)return n.removeAttribute(i);var l=Se.test(n)?!1:ge.namespaces&&isVML(n)?!0:i in n.cloneNode(!1);l?n[i]=t:n.setAttribute(i,t)}else if("include"===a&&t){var c=r.vmodels,u=r.includeRendered,f=r.includeLoaded,p=r.includeReplace,d=p?n.parentNode:n,h=function(e){if(f){var n=f.apply(d,[e].concat(c));"string"==typeof n&&(e=n)}u&&W(d,function(){u.call(d)},0/0);var a=r.includeLastID;if(r.templateCache&&a&&a!==t){var i=r.templateCache[a];i||(i=r.templateCache[a]=ge.createElement("div"),we.appendChild(i))}for(r.includeLastID=t;;){var o=r.startInclude.nextSibling;if(!o||o===r.endInclude)break;d.removeChild(o),i&&i.appendChild(o)}var s=re(r,t,e),l=avalon.slice(s.childNodes);d.insertBefore(s,r.endInclude),J(l,c)};if("src"===r.param)if("string"==typeof dn[t])avalon.nextTick(function(){h(dn[t])});else if(Array.isArray(dn[t]))dn[t].push(h);else{var v=pn();v.onreadystatechange=function(){if(4===v.readyState){var e=v.status;if(e>=200&&300>e||304===e||1223===e){for(var n,r=v.responseText,a=0;n=dn[t][a++];)n(r);dn[t]=r}}},dn[t]=[h],v.open("GET",t,!0),"withCredentials"in v&&(v.withCredentials=!0),v.setRequestHeader("X-Requested-With","XMLHttpRequest"),v.send(null)}else{var m=t&&1===t.nodeType?t:ge.getElementById(t);if(m){if("NOSCRIPT"===m.tagName&&!m.innerHTML&&!m.fixIE78){v=pn(),v.open("GET",location,!1),v.send(null);for(var g=ge.getElementsByTagName("noscript"),y=(v.responseText||"").match(un)||[],b=y.length,w=0;b>w;w++){var x=g[w];x&&(x.style.display="none",x.fixIE78=(y[w].match(fn)||["","&nbsp;"])[1])}}avalon.nextTick(function(){h(m.fixIE78||m.value||m.innerText||m.innerHTML)})}}}else if(He.hasAttribute||"string"!=typeof t||"src"!==a&&"href"!==a||(t=t.replace(/&amp;/g,"&")),n[a]=t,e.chrome&&"EMBED"===n.tagName){var E=n.parentNode,C=document.createComment("ms-src");E.replaceChild(C,n),E.replaceChild(n,C)}},"title,alt,src,value,css,include,href".replace($e,function(e){Ue[e]=Ue.attr}),Ue["class"]=function(e,t){var r,a=e.param,i=e.value;if(e.handlerName="class",!a||isFinite(a)){e.param="";var o=i.replace(Qe,function(e){return e.replace(/./g,"0")}),s=o.indexOf(":");if(-1===s)var l=i;else{if(l=i.slice(0,s),r=i.slice(s+1),U(r,t,e),!e.evaluator)return n("debug: ms-class '"+(r||"").trim()+"' 不存在于VM中"),!1;e._evaluator=e.evaluator,e._args=e.args}var c=Je.test(l);c||(e.immobileClass=l),q("",t,e,c?te(l):0)}else e.immobileClass=e.oldStyle=e.param,q(i,t,e)},qe["class"]=function(e,t,n){var r=avalon(t),a=n.type;if("class"===a&&n.oldStyle)r.toggleClass(n.oldStyle,!!e);else switch(n.toggleClass=n._evaluator?!!n._evaluator.apply(t,n._args):!0,n.newClass=n.immobileClass||e,n.oldClass&&n.newClass!==n.oldClass&&r.removeClass(n.oldClass),n.oldClass=n.newClass,a){case"class":r.toggleClass(n.newClass,n.toggleClass);break;case"hover":case"active":if(!n.hasBindEvent){var i="mouseenter",o="mouseleave";if("active"===a){t.tabIndex=t.tabIndex||-1,i="mousedown",o="mouseup";var s=r.bind("mouseleave",function(){n.toggleClass&&r.removeClass(n.newClass)})}var l=r.bind(i,function(){n.toggleClass&&r.addClass(n.newClass)}),c=r.bind(o,function(){n.toggleClass&&r.removeClass(n.newClass)});n.rollback=function(){r.unbind("mouseleave",s),r.unbind(i,l),r.unbind(o,c)},n.hasBindEvent=!0}}},"hover,active".replace($e,function(e){Ue[e]=Ue["class"]}),qe.data=function(e,t,n){var r="data-"+n.param;e&&"object"==typeof e?t[r]=e:t.setAttribute(r,String(e))};var hn=Ue.duplex=function(e,t){var r,a=e.element;if(q(e.value,t,e,0,1),e.changed=Xt(a,"data-duplex-changed",t)||i,e.evaluator&&e.args){var s=[],l=o("string,number,boolean,checked");"radio"===a.type&&""===e.param&&(e.param="checked"),a.msData&&(a.msData["ms-duplex"]=e.value),e.param.replace(/\w+/g,function(t){/^(checkbox|radio)$/.test(a.type)&&/^(radio|checked)$/.test(t)&&("radio"===t&&n("ms-duplex-radio已经更名为ms-duplex-checked"),t="checked",e.isChecked=!0),"bool"===t?(t="boolean",n("ms-duplex-bool已经更名为ms-duplex-boolean")):"text"===t&&(t="string",n("ms-duplex-text已经更名为ms-duplex-string")),l[t]&&(r=!0),avalon.Array.ensure(s,t)}),r||s.push("string"),e.param=s.join("-"),e.bound=function(t,n){a.addEventListener?a.addEventListener(t,n,!1):a.attachEvent("on"+t,n);var r=e.rollback;e.rollback=function(){a.avalonSetter=null,avalon.unbind(a,t,n),r&&r()}};for(var c in avalon.vmodels){var u=avalon.vmodels[c];u.$fire("avalon-ms-duplex-init",e)}var f=e.pipe||(e.pipe=ie);f(null,e,"init");var p=a.tagName;hn[p]&&hn[p](a,e.evaluator.apply(null,e.args),e)}};avalon.duplexHooks={checked:{get:function(e,t){return!t.element.oldValue}},string:{get:function(e){return e},set:ae},"boolean":{get:function(e){return"true"===e},set:ae},number:{get:function(e,t){var n=parseFloat(e);if(-e===-n)return n;var r=/strong|medium|weak/.exec(t.element.getAttribute("data-duplex-number"))||["medium"];switch(r[0]){case"strong":return 0;case"medium":return""===e?"":0;case"weak":return e}},set:ae}};var vn,mn=[];avalon.tick=function(e){1===mn.push(e)&&(vn=setInterval(oe,60))};var gn=i,yn=/text|password|hidden/;!new function(){function e(e){if(avalon.optimize||this.parentNode){if(t[this.tagName].call(this,e),!yn.test(this.type))return;!this.msFocus&&this.avalonSetter&&this.avalonSetter()}}try{var t={},n=HTMLInputElement.prototype,r=HTMLTextAreaElement.prototype,a=HTMLInputElement.prototype;Object.getOwnPropertyNames(a),t.INPUT=Object.getOwnPropertyDescriptor(n,"value").set,Object.defineProperty(n,"value",{set:e}),t.TEXTAREA=Object.getOwnPropertyDescriptor(r,"value").set,Object.defineProperty(r,"value",{set:e})}catch(i){gn=avalon.tick}},hn.INPUT=function(e,t,r){function a(e){r.changed.call(this,e,r)}function i(){u=!0}function o(){u=!1}var s=e.type,l=r.bound,c=avalon(e),u=!1,f=function(){if(!u){var n=e.oldValue=e.value,i=r.pipe(n,r,"get");c.data("duplexObserve")!==!1&&(t(i),a.call(e,i),c.data("duplex-focus")&&avalon.nextTick(function(){e.focus()}))}};if(r.handler=function(){var n=r.pipe(t(),r,"set")+"";n!==e.oldValue&&(e.value=n)},r.isChecked||"radio"===s)f=function(){if(c.data("duplexObserve")!==!1){var n=r.pipe(e.value,r,"get");t(n),a.call(e,n)}},r.handler=function(){var n=t(),a=r.isChecked?!!n:n+""===e.value;e.checked=e.oldValue=a},l("click",f);else if("checkbox"===s)f=function(){if(c.data("duplexObserve")!==!1){var i=e.checked?"ensure":"remove",o=t();Array.isArray(o)||(n("ms-duplex应用于checkbox上要对应一个数组"),o=[o]),avalon.Array[i](o,r.pipe(e.value,r,"get")),a.call(e,o)}},r.handler=function(){var n=[].concat(t());e.checked=n.indexOf(r.pipe(e.value,r,"get"))>-1},l("change",f);else{var p=e.getAttribute("data-duplex-event")||"input";e.attributes["data-event"]&&n("data-event指令已经废弃，请改用data-duplex-event"),p.replace($e,function(e){switch(e){case"input":l("input",f),l("DOMAutoComplete",f),Be||(l("compositionstart",i),l("compositionend",o));break;default:l(e,f)}}),l("focus",function(){e.msFocus=!0}),l("blur",function(){e.msFocus=!1}),yn.test(s)&&gn(function(){if(avalon.optimize||e.parentNode)e.msFocus||e.oldValue===e.value||f();else if(!e.msRetain)return!1}),e.avalonSetter=f}e.oldValue=e.value,avalon.injectBinding(r),a.call(e,e.value)},hn.TEXTAREA=hn.INPUT,hn.SELECT=function(e,t,r){function a(){if(i.data("duplexObserve")!==!1){var n=i.val();n=Array.isArray(n)?n.map(function(e){return r.pipe(e,r,"get")}):r.pipe(n,r,"get"),n+""!==e.oldValue&&t(n),r.changed.call(e,n,r)}}var i=avalon(e);r.handler=function(){var r=t();r=r&&r.$model||r,Array.isArray(r)?e.multiple||n("ms-duplex在<select multiple=true>上要求对应一个数组"):e.multiple&&n("ms-duplex在<select multiple=false>不能对应一个数组"),r=Array.isArray(r)?r.map(String):r+"",r+""!==e.oldValue&&(i.val(r),e.oldValue=r+"")},r.bound("change",a),e.msCallback=function(){avalon.injectBinding(r),r.changed.call(e,t(),r)}},qe.html=function(e,t,n){var r=1!==t.nodeType,a=r?t.parentNode:t;if(a&&(e=null==e?"":e,n.oldText!==e)){if(n.oldText=e,3===t.nodeType){var i=Fe("html");a.insertBefore(ge.createComment(i),t),n.element=ge.createComment(i+":end"),a.replaceChild(n.element,t),t=n.element}if("object"!=typeof e)var o=avalon.parseHTML(String(e));else if(11===e.nodeType)o=e;else if(1===e.nodeType||e.item){var s=1===e.nodeType?e.childNodes:e.item;for(o=_e.cloneNode(!0);s[0];)o.appendChild(s[0])}if(s=avalon.slice(o.childNodes),r){for(var l=t.nodeValue.slice(0,-4);;){var c=t.previousSibling;if(!c||8===c.nodeType&&c.nodeValue===l)break;a.removeChild(c)}a.insertBefore(o,t)}else avalon.clearHTML(t).appendChild(o);J(s,n.vmodels)}},Ue["if"]=Ue.data=Ue.text=Ue.html=function(e,t){q(e.value,t,e)},qe["if"]=function(e,t,n){try{if(!t.parentNode)return}catch(r){return}if(e)8===t.nodeType&&(t.parentNode.replaceChild(n.template,t),t=n.element=n.template),t.getAttribute(n.name)&&(t.removeAttribute(n.name),Y(t,n.vmodels)),n.rollback=null;else if(1===t.nodeType){var a=n.element=ge.createComment("ms-if");t.parentNode.replaceChild(a,t),n.template=t,we.appendChild(t),n.rollback=function(){t.parentNode===we&&we.removeChild(t)}}};var bn=/\(([^)]*)\)/;Ue.on=function(e,t){var n=e.value;e.type="on";var r=e.param.replace(/-\d+$/,"");if("function"==typeof Ue.on[r+"Hook"]&&Ue.on[r+"Hook"](e),n.indexOf("(")>0&&n.indexOf(")")>-1){var a=(n.match(bn)||["",""])[1].trim();(""===a||"$event"===a)&&(n=n.replace(bn,""))}q(n,t,e)},qe.on=function(e,t,n){e=function(e){var t=n.evaluator||i;return t.apply(this,n.args.concat(e))};var r=n.param.replace(/-\d+$/,"");if("scan"===r)e.call(t,{type:r});else if("function"==typeof n.specialBind)n.specialBind(t,e);else var a=avalon.bind(t,r,e);n.rollback=function(){"function"==typeof n.specialUnbind?n.specialUnbind():avalon.unbind(t,r,a)}},Ue.repeat=function(e,t){var n=e.type;q(e.value,t,e,0,1);var r=!1;try{var a=e.$repeat=e.evaluator.apply(0,e.args||[]),i=avalon.type(a);"object"!==i&&"array"!==i&&(r=!0,avalon.log("warning:"+e.value+"只能是对象或数组"))}catch(o){r=!0}var s=e.value.split(".")||[];if(s.length>1){s.pop();for(var l,c=s[0],u=0;l=t[u++];)if(l&&l.hasOwnProperty(c)){var f=l[c].$events||{};f[xe]=f[xe]||[],f[xe].push(e);break}}var p=e.element;if(1===p.nodeType){p.removeAttribute(e.name),e.sortedCallback=Xt(p,"data-with-sorted",t),e.renderedCallback=Xt(p,"data-"+n+"-rendered",t);var d=Fe(n),h=ge.createComment(d),v=ge.createComment(d+":end");if(e.signature=d,e.template=_e.cloneNode(!1),"repeat"===n){var m=p.parentNode;m.replaceChild(v,p),m.insertBefore(h,v),e.template.appendChild(p)}else{for(;p.firstChild;)e.template.appendChild(p.firstChild);p.appendChild(h),p.appendChild(v)}e.element=v,e.handler=qe.repeat,e.rollback=function(){var t=e.element;t&&e.handler("clear")}}if(!r){e.$outer={};var g="$key",y="$val";if(Array.isArray(a)){if(!a.$map){a.$map={el:1};var b=a.length,w=[];for(u=0;b>u;u++)w.push(k(u,a));a.$proxy=w}a.$map[e.param||"el"]=1,g="$first",y="$last"}for(u=0;l=t[u++];)if(l.hasOwnProperty(g)&&l.hasOwnProperty(y)){e.$outer=l;break}var x=a.$events,E=(x||{})[xe];S(E,e),"object"===i?(e.$with=!0,a.$proxy||(a.$proxy={}),e.handler("append",a)):a.length&&e.handler("add",0,a.length)}},qe.repeat=function(e,t,n){if(e){var r,a,o=this,s=o.element,l=le(o),c=s.parentNode,u=_e.cloneNode(!1);switch(e){case"add":for(var f=t+n,p=[],d=o.$repeat,h=t;f>h;h++){var v=d.$proxy[h];v.$outer=o.$outer,se(o,u,v,p)}var m=new Date-0;for(avalon.optimize=avalon.optimize||m,h=0;a=p[h++];)J(a.nodes,a.vmodels),a.nodes=a.vmodels=null;avalon.optimize===m&&delete avalon.optimize,c.insertBefore(u,l[t]||s),avalon.profile("插入操作花费了 "+(new Date-m));break;case"del":ce(l[t],l[t+n]||s);break;case"clear":r=l[0],r&&ce(r,s);break;case"move":if(r=l[0]){var g,y=r.nodeValue,b=[],w=[];for(ce(r,s,function(){w.unshift(this),this.nodeValue===y&&(b.unshift(w),w=[])}),T(b,t);w=b.shift();)for(;g=w.shift();)u.appendChild(g);c.insertBefore(u,s)}break;case"append":var x=t,E=x.$proxy,C=[];p=[];for(var $ in E)x.hasOwnProperty($)||(de(E[$],wn),delete E[$]);for($ in x)x.hasOwnProperty($)&&"hasOwnProperty"!==$&&"$proxy"!==$&&C.push($);if(o.sortedCallback){var k=o.sortedCallback.call(c,C);k&&Array.isArray(k)&&k.length&&(C=k)}for(h=0;$=C[h++];)"hasOwnProperty"!==$&&(E[$]=fe(E[$],$,o),se(o,u,E[$],p));for(c.insertBefore(u,s),h=0;a=p[h++];)J(a.nodes,a.vmodels),a.nodes=a.vmodels=null}"clear"===e&&(e="del");var S=o.renderedCallback||i,A=arguments;W(c,function(){S.apply(c,A),c.oldValue&&"SELECT"===c.tagName&&avalon(c).val(c.oldValue.split(","))},0/0)}},"with,each".replace($e,function(e){Ue[e]=Ue.repeat}),avalon.pool=ut;var wn=[];qe.text=function(e,t){if(e=null==e?"":e,3===t.nodeType)try{t.data=e}catch(n){}else t.textContent=e},avalon.parseDisplay=he,Ue.visible=function(e,t){var n=avalon(e.element),r=n.css("display");if("none"===r){var a=n[0].style,i=/visibility/i.test(a.cssText),o=n.css("visibility");a.display="",a.visibility="hidden",r=n.css("display"),"none"===r&&(r=he(n[0].nodeName)),a.visibility=i?o:""}e.display=r,q(e.value,t,e)},qe.visible=function(e,t,n){t.style.display=e?n.display:"none"},Ue.widget=function(t,r){var a=t.value.match($e),o=t.element,s=a[0],l=a[1];l&&"$"!==l||(l=Fe(s));var c=a[2]||s,u=avalon.ui[s];if("function"==typeof u){r=o.vmodels||r;for(var f,p=0;f=r[p++];)if(f.hasOwnProperty(c)&&"object"==typeof f[c]){var d=f[c];d=d.$model||d;break}if(d){var h=d[s+"Id"];"string"==typeof h&&(n("warning!不再支持"+s+"Id"),l=h)}var v=avalon.getWidgetData(o,s);t.value=[s,l,c].join(","),t[s+"Id"]=l,t.evaluator=i,o.msData["ms-widget-id"]=l;var m=t[s+"Options"]=avalon.mix({},u.defaults,d||{},v);o.removeAttribute("ms-widget");var g=u(o,t,r)||{};if(g.$id){avalon.vmodels[l]=g,z(o,g);try{g.$init(function(){avalon.scan(o,[g].concat(r)),"function"==typeof m.onInit&&m.onInit.call(o,g,m,r)})}catch(y){}t.rollback=function(){try{g.widgetElement=null,g.$remove()}catch(e){}o.msData={},delete avalon.vmodels[g.$id]},N(t,xn),e.chrome&&o.addEventListener("DOMNodeRemovedFromDocument",function(){setTimeout(M)})}else avalon.scan(o,r)}else r.length&&(o.vmodels=r)};var xn=[],En=/<script[^>]*>([\S\s]*?)<\/script\s*>/gim,Cn=/\s+(on[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,Tn=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/gi,$n={a:/\b(href)\=("javascript[^"]*"|'javascript[^']*')/gi,img:/\b(src)\=("javascript[^"]*"|'javascript[^']*')/gi,form:/\b(action)\=("javascript[^"]*"|'javascript[^']*')/gi},kn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Sn=/([^\#-~| |!])/g,An=avalon.filters={uppercase:function(e){return e.toUpperCase()},lowercase:function(e){return e.toLowerCase()},truncate:function(e,t,n){return t=t||30,n="string"==typeof n?n:"...",e.length>t?e.slice(0,t-n.length)+n:String(e)},$filter:function(e){for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t],a=avalon.filters[r.shift()];if("function"==typeof a){var i=[e].concat(r);e=a.apply(null,i)}}return e},camelize:D,sanitize:function(e){return e.replace(En,"").replace(Tn,function(e){var t=e.toLowerCase().match(/<(\w+)\s/);if(t){var n=$n[t[1]];n&&(e=e.replace(n,function(e,t,n){var r=n.charAt(0);return t+"="+r+"javascript:void(0)"+r}))}return e.replace(Cn," ").replace(/\s+/g," ")})},escape:function(e){return String(e).replace(/&/g,"&amp;").replace(kn,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(Sn,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")},currency:function(e,t,n){return(t||"￥")+ve(e,isFinite(n)?n:2)},number:ve};!new function(){function e(e){return parseInt(e,10)||0}function t(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function n(e,n,r,a){return function(i){var o=i["get"+e]();return(r>0||o>-r)&&(o+=r),0===o&&-12===r&&(o=12),t(o,n,a)}}function r(e,t){return function(n,r){var a=n["get"+e](),i=(t?"SHORT"+e:e).toUpperCase();return r[i][a]}}function a(e){var n=-1*e.getTimezoneOffset(),r=n>=0?"+":"";return r+=t(Math[n>0?"floor":"ceil"](n/60),2)+t(Math.abs(n%60),2)}function i(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}var o={yyyy:n("FullYear",4),yy:n("FullYear",2,0,!0),y:n("FullYear",1),MMMM:r("Month"),MMM:r("Month",!0),MM:n("Month",2,1),M:n("Month",1,1),dd:n("Date",2),d:n("Date",1),HH:n("Hours",2),H:n("Hours",1),hh:n("Hours",2,-12),h:n("Hours",1,-12),mm:n("Minutes",2),m:n("Minutes",1),ss:n("Seconds",2),s:n("Seconds",1),sss:n("Milliseconds",3),EEEE:r("Day"),EEE:r("Day",!0),a:i,Z:a},s=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,l=/^\/Date\((\d+)\)\/$/;An.date=function(t,n){var r,a,i=An.date.locate,c="",u=[];if(n=n||"mediumDate",n=i[n]||n,"string"==typeof t)if(/^\d+$/.test(t))t=e(t);else if(l.test(t))t=+RegExp.$1;else{var f=t.trim(),p=[0,0,0,0,0,0,0],d=new Date(0);f=f.replace(/^(\d+)\D(\d+)\D(\d+)/,function(t,n,r,a){var i=4===a.length?[a,n,r]:[n,r,a];return p[0]=e(i[0]),p[1]=e(i[1])-1,p[2]=e(i[2]),""});var h=d.setFullYear,v=d.setHours;f=f.replace(/[T\s](\d+):(\d+):?(\d+)?\.?(\d)?/,function(t,n,r,a,i){return p[3]=e(n),p[4]=e(r),p[5]=e(a),i&&(p[6]=Math.round(1e3*parseFloat("0."+i))),""});var m=0,g=0;f=f.replace(/Z|([+-])(\d\d):?(\d\d)/,function(t,n,r,a){return h=d.setUTCFullYear,v=d.setUTCHours,n&&(m=e(n+r),g=e(n+a)),""}),p[3]-=m,p[4]-=g,h.apply(d,p.slice(0,3)),v.apply(d,p.slice(3)),t=d}if("number"==typeof t&&(t=new Date(t)),"date"===avalon.type(t)){for(;n;)a=s.exec(n),a?(u=u.concat(a.slice(1)),n=u.pop()):(u.push(n),n=null);return u.forEach(function(e){r=o[e],c+=r?r(t,i):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}};var c={AMPMS:{0:"上午",1:"下午"},DAY:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},MONTH:{0:"1月",1:"2月",2:"3月",3:"4月",4:"5月",5:"6月",6:"7月",7:"8月",8:"9月",9:"10月",10:"11月",11:"12月"},SHORTDAY:{0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"},fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"yyyy-M-d H:mm:ss",mediumDate:"yyyy-M-d",mediumTime:"H:mm:ss","short":"yy-M-d ah:mm",shortDate:"yy-M-d",shortTime:"ah:mm"};c.SHORTMONTH=c.MONTH,An.date.locate=c};var On=avalon.modules={"domReady!":{exports:avalon,state:3},avalon:{exports:avalon,state:4}};On.exports=On.avalon,new function(){function t(e,t){var r="js";e=e.replace(/^(\w+)\!/,function(e,t){return r=t,""}),"ready"===r&&(n("debug: ready!已经被废弃，请使用domReady!"),r="domReady");var a="";e=e.replace(D,function(e){return a=e,""});var i="."+r,o=/js|css/.test(i)?i:"";e=e.replace(/\.[a-z0-9]+$/g,function(e){return e===i?(o=e,""):e});var s=avalon.mix({query:a,ext:o,res:r,name:e,toUrl:m},t);return s.toUrl(e),s}function o(e){var t=e.name,n=e.res,r=On[t],a=t&&e.urlNoQuery;if(r&&r.state>=1)return t;if(r=On[a],r&&r.state>=3)return be(r.deps||[],r.factory,a),a;if(t&&!r){r=On[a]={id:a,state:1};var i=function(a){P[n]=a,a.load(t,e,function(e){arguments.length&&void 0!==e&&(r.exports=e),r.state=4,c()})};P[n]?i(P[n]):be([n],i)}return t?a:n+"!"}function s(e,t){for(var n,r=0;n=e[r++];)if(4!==On[n].state&&(n===t||s(On[n].deps,t)))return!0}function l(e,t){var r=p(e.src);return e.onload=e.onerror=null,t?(setTimeout(function(){ye.removeChild(e),e=null}),void n("debug: 加载 "+r+" 失败"+t+" "+!On[r].state)):!0}function c(){e:for(var e,t=$.length;e=$[--t];){var n=On[e],r=n.deps;if(r){for(var a,i=0;a=r[i];i++)if(4!==Object(On[a]).state)continue e;4!==n.state&&($.splice(t,1),v(n.id,n.deps,n.factory),c())}}}function f(e,t,r){var a=ge.createElement("script");a.className=xe,a.onload=function(){var a=k.pop();a&&a.require(t),r&&r(),n("debug: 已成功加载 "+e),t&&$.push(t),c()},a.onerror=function(){l(a,!0)},ye.insertBefore(a,ye.firstChild),
a.src=e,n("debug: 正准备加载 "+e)}function p(e){return(e||"").replace(D,"")}function d(e){return/^(?:[a-z]+:)?\/\//i.test(String(e))}function h(){var e;try{a.b.c()}catch(t){e=t.stack}if(e)return e=e.split(/[@ ]/g).pop(),e="("===e[0]?e.slice(1,-1):e.replace(/\s/,""),p(e.replace(/(:\d+)?:\d+$/i,""));for(var n,r=ye.getElementsByTagName("script"),i=r.length;n=r[--i];)if(n.className===xe&&"interactive"===n.readyState){var o=n.src;return n.className=p(o)}}function v(t,a,i){var o=Object(On[t]);o.state=4;for(var s,l=0,c=[];s=a[l++];)if("exports"===s){var u=o.exports||(o.exports=r());c.push(u)}else c.push(On[s].exports);try{var f=i.apply(e,c)}catch(p){n("执行["+t+"]模块的factory抛错： "+p)}return void 0!==f&&(o.exports=f),H.test(t)&&delete On[t],delete o.factory,f}function m(e){0===e.indexOf(this.res+"!")&&(e=e.slice(this.res.length+1));var t=e,n=0,r=this.baseUrl,a=this.parentUrl||r;x(e,u.paths,function(e,r){t=t.replace(r,e),n=1}),n||x(e,u.packages,function(e,n,r){t=t.replace(r.name,r.location)}),this.mapUrl&&x(this.mapUrl,u.map,function(e){x(t,e,function(e,n){t=t.replace(n,e),a=r})});var i=this.ext;i&&n&&t.slice(-i.length)===i&&(t=t.slice(0,-i.length)),d(t)||(a=this.built||/^\w/.test(t)?r:a,t=C(a,t));var o=t+i;return t=o+this.query,x(e,u.urlArgs,function(e){t+=(-1===t.indexOf("?")?"?":"&")+e}),this.url=t,this.urlNoQuery=o}function g(e,t,n){var r=w(e,t,n);return r.sort(E),r}function y(e){return new RegExp("^"+e+"(/|$)")}function b(t){return function(){var n;return t.init&&(n=t.init.apply(e,arguments)),n||t.exports&&T(t.exports)}}function w(e,t,n){var r=[];for(var a in e){var i={name:a,val:e[a]};r.push(i),i.reg="*"===a&&t?/^/:y(a),n&&"*"!==a&&(i.reg=new RegExp("/"+a.replace(/^\//,"")+"(/|$)"))}return r}function x(e,t,n){t=t||[];for(var r,a=0;r=t[a++];)if(r.reg.test(e))return n(r.val,r.name,r),!1}function E(e,t){var n=e.name,r=t.name;return"*"===r?-1:"*"===n?1:r.length-n.length}function C(e,t){if("/"!==e.charAt(e.length-1)&&(e+="/"),"./"===t.slice(0,2))return e+t.slice(2);if(".."===t.slice(0,2)){for(e+=t;_.test(e);)e=e.replace(_,"");return e}return"/"===t.slice(0,1)?e+t.slice(1):e+t}function T(t){if(!t)return t;var n=e;return t.split(".").forEach(function(e){n=n[e]}),n}var $=[],k=[],S=/\.js$/i,A=[],O=!1;be=avalon.require=function(e,n,a,s){if(O){Array.isArray(e)||avalon.error("require方法的第一个参数应为数组 "+e);var l=[],f=r(),p=a||"callback"+setTimeout("1");s=s||r(),s.baseUrl=u.baseUrl;var d=!!s.built;if(a&&(s.parentUrl=a.substr(0,a.lastIndexOf("/")),s.mapUrl=a.replace(S,"")),d){var h=t(s.defineName,s);p=h.urlNoQuery}else e.forEach(function(e){var n=t(e,s),r=o(n);r&&(f[r]||(l.push(r),f[r]="司徒正美"))});var v=On[p];v&&4===v.state||(On[p]={id:p,deps:d?e.concat():l,factory:n||i,state:3}),v||$.push(p),c()}else if(A.push(avalon.slice(arguments)),arguments.length<=2){O=!0;for(var m,g=A.splice(0,A.length);m=g.shift();)be.apply(null,m)}},be.define=function(e,t,n){"string"!=typeof e&&(n=t,t=e,e="anonymous"),Array.isArray(t)||(n=t,t=[]);var r={built:!O,defineName:e},a=[t,n,r];n.require=function(e){if(a.splice(2,0,e),On[e]){On[e].state=3;var t=!1;try{t=s(On[e].deps,e)}catch(r){}t&&avalon.error(e+"模块与之前的模块存在循环依赖，请不要直接用script标签引入"+e+"模块")}delete n.require,be.apply(null,a)};var i=r.built?"unknown":h();if(i){var o=On[i];o&&(o.state=2),n.require(i)}else k.push(n)},be.config=u,be.define.amd=On;var N=u["orig.paths"]=r(),M=u["orig.map"]=r(),j=u.packages=[],L=u["orig.args"]=r();avalon.mix(tt,{paths:function(e){avalon.mix(N,e),u.paths=g(N)},map:function(e){avalon.mix(M,e);var t=g(M,1,1);avalon.each(t,function(e,t){t.val=g(t.val)}),u.map=t},packages:function(e){e=e.concat(j);for(var t,n=r(),a=[],i=0;t=e[i++];){t="string"==typeof t?{name:t}:t;var o=t.name;if(!n[o]){var s=C(t.location||o,t.main||"main");s=s.replace(S,""),a.push(t),n[o]=t.location=s,t.reg=y(o)}}u.packages=a.sort()},urlArgs:function(e){"string"==typeof e&&(e={"*":e}),avalon.mix(L,e),u.urlArgs=g(L,1)},baseUrl:function(e){if(!d(e)){var t=ye.getElementsByTagName("base")[0];t&&ye.removeChild(t);var n=ge.createElement("a");n.href=e,e=n.href,t&&ye.insertBefore(t,ye.firstChild)}e.length>3&&(u.baseUrl=e)},shim:function(e){for(var t in e){var n=e[t];Array.isArray(n)&&(n=e[t]={deps:n}),n.exportsFn||!n.exports&&!n.init||(n.exportsFn=b(n))}u.shim=e}});var P=be.plugins={ready:{load:i},js:{load:function(e,t,n){var r=t.url,a=t.urlNoQuery,i=u.shim[e.replace(S,"")];i?be(i.deps||[],function(){var e=avalon.slice(arguments);f(r,a,function(){n(i.exportsFn?i.exportsFn.apply(0,e):void 0)})}):f(r,a)}},css:{load:function(e,t,r){var a=t.url;ye.insertAdjacentHTML("afterBegin",'<link rel="stylesheet" href="'+a+'">'),n("debug: 已成功加载 "+a),r()}},text:{load:function(e,t,r){var a=t.url,i=pn();i.onload=function(){var e=i.status;e>399&&600>e?avalon.error(a+" 对应资源不存在或没有开启 CORS"):(n("debug: 已成功加载 "+a),r(i.responseText))};var o="_="+(new Date-0),s=-1===a.indexOf("?")?a+"?"+o:a+"&"+o;i.open("GET",s,!0),"withCredentials"in i&&(i.withCredentials=!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(),n("debug: 正准备加载 "+a)}}};be.checkDeps=c;var D=/(\?[^#]*)$/,H=/^callback\d+$/,_=/\/\w+\/\.\./,R=ge.scripts[ge.scripts.length-1],I=R.getAttribute("data-main");if(I){tt.baseUrl(I);var F=u.baseUrl;u.baseUrl=F.slice(0,F.lastIndexOf("/")+1),f(F.replace(S,"")+".js")}else{var B=p(R.src);u.baseUrl=B.slice(0,B.lastIndexOf("/")+1)}};var Nn,Mn=[],jn=function(e){for(Nn=!0,be&&(On["domReady!"].state=4,be.checkDeps());e=Mn.shift();)e(avalon)};"complete"===ge.readyState?setTimeout(jn):ge.addEventListener("DOMContentLoaded",jn),e.addEventListener("load",jn),avalon.ready=function(e){Nn?e(avalon):Mn.push(e)},avalon.config({loader:!0}),avalon.ready(function(){avalon.scan(ge.body)}),"function"==typeof define&&define.amd&&define("avalon",[],function(){return avalon});var Ln=e.avalon;return avalon.noConflict=function(t){return t&&e.avalon===avalon&&(e.avalon=Ln),avalon},void 0===t&&(e.avalon=avalon),avalon});var Zepto=function(){function e(e){return null==e?String(e):X[Y.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function r(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function a(t){return"object"==e(t)}function i(e){return a(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function o(e){return"number"==typeof e.length}function s(e){return N.call(e,function(e){return null!=e})}function l(e){return e.length>0?T.fn.concat.apply([],e):e}function c(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(e){return e in P?P[e]:P[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function f(e,t){return"number"!=typeof t||D[c(e)]?t:t+"px"}function p(e){var t,n;return L[e]||(t=j.createElement(e),j.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),L[e]=n),L[e]}function d(e){return"children"in e?M.call(e.children):T.map(e.childNodes,function(e){return 1==e.nodeType?e:void 0})}function h(e,t){var n,r=e?e.length:0;for(n=0;r>n;n++)this[n]=e[n];this.length=r,this.selector=t||""}function v(e,t,n){for(C in t)n&&(i(t[C])||K(t[C]))?(i(t[C])&&!i(e[C])&&(e[C]={}),K(t[C])&&!K(e[C])&&(e[C]=[]),v(e[C],t[C],n)):t[C]!==E&&(e[C]=t[C])}function m(e,t){return null==t?T(e):T(e).filter(t)}function g(e,n,r,a){return t(n)?n.call(e,r,a):n}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function b(e,t){var n=e.className||"",r=n&&n.baseVal!==E;return t===E?r?n.baseVal:n:void(r?n.baseVal=t:e.className=t)}function w(e){try{return e?"true"==e||("false"==e?!1:"null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?T.parseJSON(e):e):e}catch(t){return e}}function x(e,t){t(e);for(var n=0,r=e.childNodes.length;r>n;n++)x(e.childNodes[n],t)}var E,C,T,$,k,S,A=[],O=A.concat,N=A.filter,M=A.slice,j=window.document,L={},P={},D={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},H=/^\s*<(\w+|!)[^>]*>/,_=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,R=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,I=/^(?:body|html)$/i,F=/([A-Z])/g,B=["val","css","html","text","data","width","height","offset"],V=["after","prepend","before","append"],U=j.createElement("table"),q=j.createElement("tr"),W={tr:j.createElement("tbody"),tbody:U,thead:U,tfoot:U,td:q,th:q,"*":j.createElement("div")},z=/complete|loaded|interactive/,Z=/^[\w-]*$/,X={},Y=X.toString,G={},J=j.createElement("div"),Q={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},K=Array.isArray||function(e){return e instanceof Array};return G.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var r,a=e.parentNode,i=!a;return i&&(a=J).appendChild(e),r=~G.qsa(a,t).indexOf(e),i&&J.removeChild(e),r},k=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},S=function(e){return N.call(e,function(t,n){return e.indexOf(t)==n})},G.fragment=function(e,t,n){var r,a,o;return _.test(e)&&(r=T(j.createElement(RegExp.$1))),r||(e.replace&&(e=e.replace(R,"<$1></$2>")),t===E&&(t=H.test(e)&&RegExp.$1),t in W||(t="*"),o=W[t],o.innerHTML=""+e,r=T.each(M.call(o.childNodes),function(){o.removeChild(this)})),i(n)&&(a=T(r),T.each(n,function(e,t){B.indexOf(e)>-1?a[e](t):a.attr(e,t)})),r},G.Z=function(e,t){return new h(e,t)},G.isZ=function(e){return e instanceof G.Z},G.init=function(e,n){var r;if(!e)return G.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&H.test(e))r=G.fragment(e,RegExp.$1,n),e=null;else{if(n!==E)return T(n).find(e);r=G.qsa(j,e)}else{if(t(e))return T(j).ready(e);if(G.isZ(e))return e;if(K(e))r=s(e);else if(a(e))r=[e],e=null;else if(H.test(e))r=G.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==E)return T(n).find(e);r=G.qsa(j,e)}}return G.Z(r,e)},T=function(e,t){return G.init(e,t)},T.extend=function(e){var t,n=M.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){v(e,n,t)}),e},G.qsa=function(e,t){var n,r="#"==t[0],a=!r&&"."==t[0],i=r||a?t.slice(1):t,o=Z.test(i);return e.getElementById&&o&&r?(n=e.getElementById(i))?[n]:[]:1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType?[]:M.call(o&&!r&&e.getElementsByClassName?a?e.getElementsByClassName(i):e.getElementsByTagName(t):e.querySelectorAll(t))},T.contains=j.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},T.type=e,T.isFunction=t,T.isWindow=n,T.isArray=K,T.isPlainObject=i,T.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},T.inArray=function(e,t,n){return A.indexOf.call(t,e,n)},T.camelCase=k,T.trim=function(e){return null==e?"":String.prototype.trim.call(e)},T.uuid=0,T.support={},T.expr={},T.noop=function(){},T.map=function(e,t){var n,r,a,i=[];if(o(e))for(r=0;r<e.length;r++)n=t(e[r],r),null!=n&&i.push(n);else for(a in e)n=t(e[a],a),null!=n&&i.push(n);return l(i)},T.each=function(e,t){var n,r;if(o(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(r in e)if(t.call(e[r],r,e[r])===!1)return e;return e},T.grep=function(e,t){return N.call(e,t)},window.JSON&&(T.parseJSON=JSON.parse),T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){X["[object "+t+"]"]=t.toLowerCase()}),T.fn={constructor:G.Z,length:0,forEach:A.forEach,reduce:A.reduce,push:A.push,sort:A.sort,splice:A.splice,indexOf:A.indexOf,concat:function(){var e,t,n=[];for(e=0;e<arguments.length;e++)t=arguments[e],n[e]=G.isZ(t)?t.toArray():t;return O.apply(G.isZ(this)?this.toArray():this,n)},map:function(e){return T(T.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return T(M.apply(this,arguments))},ready:function(e){return z.test(j.readyState)&&j.body?e(T):j.addEventListener("DOMContentLoaded",function(){e(T)},!1),this},get:function(e){return e===E?M.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return A.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):T(N.call(this,function(t){return G.matches(t,e)}))},add:function(e,t){return T(S(this.concat(T(e,t))))},is:function(e){return this.length>0&&G.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==E)this.each(function(t){e.call(this,t)||n.push(this)});else{var r="string"==typeof e?this.filter(e):o(e)&&t(e.item)?M.call(e):T(e);this.forEach(function(e){r.indexOf(e)<0&&n.push(e)})}return T(n)},has:function(e){return this.filter(function(){return a(e)?T.contains(this,e):T(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!a(e)?e:T(e)},last:function(){var e=this[this.length-1];return e&&!a(e)?e:T(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?T(e).filter(function(){var e=this;return A.some.call(n,function(t){return T.contains(t,e)})}):1==this.length?T(G.qsa(this[0],e)):this.map(function(){return G.qsa(this,e)}):T()},closest:function(e,t){var n=this[0],a=!1;for("object"==typeof e&&(a=T(e));n&&!(a?a.indexOf(n)>=0:G.matches(n,e));)n=n!==t&&!r(n)&&n.parentNode;return T(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=T.map(n,function(e){return(e=e.parentNode)&&!r(e)&&t.indexOf(e)<0?(t.push(e),e):void 0});return m(t,e)},parent:function(e){return m(S(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return d(this)}),e)},contents:function(){return this.map(function(){return this.contentDocument||M.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return N.call(d(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return T.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var r=T(e).get(0),a=r.parentNode||this.length>1;return this.each(function(t){T(this).wrapAll(n?e.call(this,t):a?r.cloneNode(!0):r)})},wrapAll:function(e){if(this[0]){T(this[0]).before(e=T(e));for(var t;(t=e.children()).length;)e=t.first();T(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var r=T(this),a=r.contents(),i=n?e.call(this,t):e;a.length?a.wrapAll(i):r.append(i)})},unwrap:function(){return this.parent().each(function(){T(this).replaceWith(T(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=T(this);(e===E?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return T(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return T(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;T(this).empty().append(g(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=g(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(a(e))for(C in e)y(this,C,e[C]);else y(this,e,g(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:E},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){y(this,e)},this)})},prop:function(e,t){return e=Q[e]||e,1 in arguments?this.each(function(n){this[e]=g(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(F,"-$1").toLowerCase(),r=1 in arguments?this.attr(n,t):this.attr(n);return null!==r?w(r):E},val:function(e){return 0 in arguments?this.each(function(t){this.value=g(this,e,t,this.value)}):this[0]&&(this[0].multiple?T(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=T(this),r=g(this,e,t,n.offset()),a=n.offsetParent().offset(),i={top:r.top-a.top,left:r.left-a.left};"static"==n.css("position")&&(i.position="relative"),n.css(i)});if(!this.length)return null;if(!T.contains(j.documentElement,this[0]))return{top:0,left:0};var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var r,a=this[0];if(!a)return;if(r=getComputedStyle(a,""),"string"==typeof t)return a.style[k(t)]||r.getPropertyValue(t);if(K(t)){var i={};return T.each(t,function(e,t){i[t]=a.style[k(t)]||r.getPropertyValue(t)}),i}}var o="";if("string"==e(t))n||0===n?o=c(t)+":"+f(t,n):this.each(function(){this.style.removeProperty(c(t))});else for(C in t)t[C]||0===t[C]?o+=c(C)+":"+f(C,t[C])+";":this.each(function(){this.style.removeProperty(c(C))});return this.each(function(){this.style.cssText+=";"+o})},index:function(e){return e?this.indexOf(T(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return e?A.some.call(this,function(e){return this.test(b(e))},u(e)):!1},addClass:function(e){return e?this.each(function(t){if("className"in this){$=[];var n=b(this),r=g(this,e,t,n);r.split(/\s+/g).forEach(function(e){T(this).hasClass(e)||$.push(e)},this),$.length&&b(this,n+(n?" ":"")+$.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===E)return b(this,"");$=b(this),g(this,e,t,$).split(/\s+/g).forEach(function(e){$=$.replace(u(e)," ")}),b(this,$.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var r=T(this),a=g(this,e,n,b(this));a.split(/\s+/g).forEach(function(e){(t===E?!r.hasClass(e):t)?r.addClass(e):r.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===E?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===E?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),r=I.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(T(e).css("margin-top"))||0,n.left-=parseFloat(T(e).css("margin-left"))||0,r.top+=parseFloat(T(t[0]).css("border-top-width"))||0,r.left+=parseFloat(T(t[0]).css("border-left-width"))||0,{top:n.top-r.top,left:n.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||j.body;e&&!I.test(e.nodeName)&&"static"==T(e).css("position");)e=e.offsetParent;return e})}},T.fn.detach=T.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});T.fn[e]=function(a){var i,o=this[0];return a===E?n(o)?o["inner"+t]:r(o)?o.documentElement["scroll"+t]:(i=this.offset())&&i[e]:this.each(function(t){o=T(this),o.css(e,g(this,a,t,o[e]()))})}}),V.forEach(function(t,n){var r=n%2;T.fn[t]=function(){var t,a,i=T.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:G.fragment(n)}),o=this.length>1;return i.length<1?this:this.each(function(e,t){a=r?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var s=T.contains(j.documentElement,a);i.forEach(function(e){if(o)e=e.cloneNode(!0);else if(!a)return T(e).remove();a.insertBefore(e,t),s&&x(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},T.fn[r?t+"To":"insert"+(n?"Before":"After")]=function(e){return T(e)[t](this),this}}),G.Z.prototype=h.prototype=T.fn,G.uniq=S,G.deserializeValue=w,T.zepto=G,T}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(e){function t(e){return e._zid||(e._zid=p++)}function n(e,n,i,o){if(n=r(n),n.ns)var s=a(n.ns);return(m[t(e)]||[]).filter(function(e){return!(!e||n.e&&e.e!=n.e||n.ns&&!s.test(e.ns)||i&&t(e.fn)!==t(i)||o&&e.sel!=o)})}function r(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function a(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function i(e,t){return e.del&&!y&&e.e in b||!!t}function o(e){return w[e]||y&&b[e]||e}function s(n,a,s,l,u,p,d){var h=t(n),v=m[h]||(m[h]=[]);a.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(s);var a=r(t);a.fn=s,a.sel=u,a.e in w&&(s=function(t){var n=t.relatedTarget;return!n||n!==this&&!e.contains(this,n)?a.fn.apply(this,arguments):void 0}),a.del=p;var h=p||s;a.proxy=function(e){if(e=c(e),!e.isImmediatePropagationStopped()){e.data=l;var t=h.apply(n,e._args==f?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},a.i=v.length,v.push(a),"addEventListener"in n&&n.addEventListener(o(a.e),a.proxy,i(a,d))})}function l(e,r,a,s,l){var c=t(e);(r||"").split(/\s/).forEach(function(t){n(e,t,a,s).forEach(function(t){delete m[c][t.i],"removeEventListener"in e&&e.removeEventListener(o(t.e),t.proxy,i(t,l))})})}function c(t,n){return(n||!t.isDefaultPrevented)&&(n||(n=t),e.each(T,function(e,r){var a=n[e];t[e]=function(){return this[r]=x,a&&a.apply(n,arguments)},t[r]=E}),(n.defaultPrevented!==f?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=x)),t}function u(e){var t,n={originalEvent:e};for(t in e)C.test(t)||e[t]===f||(n[t]=e[t]);return c(n,e)}var f,p=1,d=Array.prototype.slice,h=e.isFunction,v=function(e){return"string"==typeof e},m={},g={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},w={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",e.event={add:s,remove:l},e.proxy=function(n,r){var a=2 in arguments&&d.call(arguments,2);if(h(n)){var i=function(){return n.apply(r,a?a.concat(d.call(arguments)):arguments)};return i._zid=t(n),i}if(v(r))return a?(a.unshift(n[r],n),e.proxy.apply(null,a)):e.proxy(n[r],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,r){return this.on(e,t,n,r,1)};var x=function(){return!0},E=function(){return!1},C=/^([A-Z]|returnValue$|layer[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,r,a,i){var o,c,p=this;return t&&!v(t)?(e.each(t,function(e,t){p.on(e,n,r,t,i)}),p):(v(n)||h(a)||a===!1||(a=r,r=n,n=f),(a===f||r===!1)&&(a=r,r=f),a===!1&&(a=E),p.each(function(f,p){i&&(o=function(e){return l(p,e.type,a),a.apply(this,arguments)}),n&&(c=function(t){var r,i=e(t.target).closest(n,p).get(0);return i&&i!==p?(r=e.extend(u(t),{currentTarget:i,liveFired:p}),(o||a).apply(i,[r].concat(d.call(arguments,1)))):void 0}),s(p,t,a,r,n,c||o)}))},e.fn.off=function(t,n,r){var a=this;return t&&!v(t)?(e.each(t,function(e,t){a.off(e,n,t)}),a):(v(n)||h(r)||r===!1||(r=n,n=f),r===!1&&(r=E),a.each(function(){l(this,t,r,n)}))},e.fn.trigger=function(t,n){return t=v(t)||e.isPlainObject(t)?e.Event(t):c(t),t._args=n,this.each(function(){t.type in b&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,r){var a,i;return this.each(function(o,s){a=u(v(t)?e.Event(t):t),a._args=r,a.target=s,e.each(n(s,t.type||t),function(e,t){return i=t.proxy(a),a.isImmediatePropagationStopped()?!1:void 0})}),i},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){v(e)||(t=e,e=t.type);var n=document.createEvent(g[e]||"Events"),r=!0;if(t)for(var a in t)"bubbles"==a?r=!!t[a]:n[a]=t[a];return n.initEvent(e,r,!0),c(n)}}(Zepto),function(e){function t(t,n,r){var a=e.Event(n);return e(t).trigger(a,r),!a.isDefaultPrevented()}function n(e,n,r,a){return e.global?t(n||y,r,a):void 0}function r(t){t.global&&0===e.active++&&n(t,null,"ajaxStart")}function a(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function i(e,t){var r=t.context;return t.beforeSend.call(r,e,t)===!1||n(t,r,"ajaxBeforeSend",[e,t])===!1?!1:void n(t,r,"ajaxSend",[e,t])}function o(e,t,r,a){var i=r.context,o="success";r.success.call(i,e,o,t),a&&a.resolveWith(i,[e,o,t]),n(r,i,"ajaxSuccess",[t,r,e]),l(o,t,r)}function s(e,t,r,a,i){var o=a.context;a.error.call(o,r,t,e),i&&i.rejectWith(o,[r,t,e]),n(a,o,"ajaxError",[r,a,e||t]),l(t,r,a)}function l(e,t,r){var i=r.context;r.complete.call(i,t,e),n(r,i,"ajaxComplete",[t,r]),a(r)}function c(){}function u(e){return e&&(e=e.split(";",2)[0]),e&&(e==C?"html":e==E?"json":w.test(e)?"script":x.test(e)&&"xml")||"text"}function f(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function p(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=f(t.url,t.data),t.data=void 0)}function d(t,n,r,a){return e.isFunction(n)&&(a=r,r=n,n=void 0),e.isFunction(r)||(a=r,r=void 0),{url:t,data:n,success:r,dataType:a}}function h(t,n,r,a){var i,o=e.isArray(n),s=e.isPlainObject(n);e.each(n,function(n,l){i=e.type(l),a&&(n=r?a:a+"["+(s||"object"==i||"array"==i?n:"")+"]"),!a&&o?t.add(l.name,l.value):"array"==i||!r&&"object"==i?h(t,l,r,n):t.add(n,l)})}var v,m,g=0,y=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,w=/^(?:text|application)\/javascript/i,x=/^(?:text|application)\/xml/i,E="application/json",C="text/html",T=/^\s*$/,$=y.createElement("a");$.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var r,a,l=t.jsonpCallback,c=(e.isFunction(l)?l():l)||"jsonp"+ ++g,u=y.createElement("script"),f=window[c],p=function(t){e(u).triggerHandler("error",t||"abort")},d={abort:p};return n&&n.promise(d),e(u).on("load error",function(i,l){clearTimeout(a),e(u).off().remove(),"error"!=i.type&&r?o(r[0],d,t,n):s(null,l||"error",d,t,n),window[c]=f,r&&e.isFunction(f)&&f(r[0]),f=r=void 0}),i(d,t)===!1?(p("abort"),d):(window[c]=function(){r=arguments},u.src=t.url.replace(/\?(.+)=\?/,"?$1="+c),y.head.appendChild(u),t.timeout>0&&(a=setTimeout(function(){p("timeout")},t.timeout)),d)},e.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:E,xml:"application/xml, text/xml",html:C,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n,a,l=e.extend({},t||{}),d=e.Deferred&&e.Deferred();for(v in e.ajaxSettings)void 0===l[v]&&(l[v]=e.ajaxSettings[v]);r(l),l.crossDomain||(n=y.createElement("a"),n.href=l.url,n.href=n.href,l.crossDomain=$.protocol+"//"+$.host!=n.protocol+"//"+n.host),l.url||(l.url=window.location.toString()),(a=l.url.indexOf("#"))>-1&&(l.url=l.url.slice(0,a)),p(l);var h=l.dataType,g=/\?.+=\?/.test(l.url);if(g&&(h="jsonp"),l.cache!==!1&&(t&&t.cache===!0||"script"!=h&&"jsonp"!=h)||(l.url=f(l.url,"_="+Date.now())),"jsonp"==h)return g||(l.url=f(l.url,l.jsonp?l.jsonp+"=?":l.jsonp===!1?"":"callback=?")),e.ajaxJSONP(l,d);var b,w=l.accepts[h],x={},E=function(e,t){x[e.toLowerCase()]=[e,t]},C=/^([\w-]+:)\/\//.test(l.url)?RegExp.$1:window.location.protocol,k=l.xhr(),S=k.setRequestHeader;if(d&&d.promise(k),l.crossDomain||E("X-Requested-With","XMLHttpRequest"),E("Accept",w||"*/*"),(w=l.mimeType||w)&&(w.indexOf(",")>-1&&(w=w.split(",",2)[0]),k.overrideMimeType&&k.overrideMimeType(w)),(l.contentType||l.contentType!==!1&&l.data&&"GET"!=l.type.toUpperCase())&&E("Content-Type",l.contentType||"application/x-www-form-urlencoded"),l.headers)for(m in l.headers)E(m,l.headers[m]);if(k.setRequestHeader=E,k.onreadystatechange=function(){if(4==k.readyState){k.onreadystatechange=c,clearTimeout(b);var t,n=!1;if(k.status>=200&&k.status<300||304==k.status||0==k.status&&"file:"==C){h=h||u(l.mimeType||k.getResponseHeader("content-type")),t=k.responseText;try{"script"==h?(1,eval)(t):"xml"==h?t=k.responseXML:"json"==h&&(t=T.test(t)?null:e.parseJSON(t))}catch(r){n=r}n?s(n,"parsererror",k,l,d):o(t,k,l,d)}else s(k.statusText||null,k.status?"error":"abort",k,l,d)}},i(k,l)===!1)return k.abort(),s(null,"abort",k,l,d),k;if(l.xhrFields)for(m in l.xhrFields)k[m]=l.xhrFields[m];var A="async"in l?l.async:!0;k.open(l.type,l.url,A,l.username,l.password);for(m in x)S.apply(k,x[m]);return l.timeout>0&&(b=setTimeout(function(){k.onreadystatechange=c,k.abort(),s(null,"timeout",k,l,d)},l.timeout)),k.send(l.data?l.data:null),k},e.get=function(){return e.ajax(d.apply(null,arguments))},e.post=function(){var t=d.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=d.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,r){if(!this.length)return this;var a,i=this,o=t.split(/\s/),s=d(t,n,r),l=s.success;return o.length>1&&(s.url=o[0],a=o[1]),s.success=function(t){i.html(a?e("<div>").html(t.replace(b,"")).find(a):t),l&&l.apply(i,arguments)},e.ajax(s),this};var k=encodeURIComponent;e.param=function(t,n){var r=[];return r.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(k(t)+"="+k(n))},h(r,t,n),r.join("&").replace(/%20/g,"+")}}(Zepto),function(e){e.fn.serializeArray=function(){var t,n,r=[],a=function(e){return e.forEach?e.forEach(a):void r.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(r,i){n=i.type,t=i.name,t&&"fieldset"!=i.nodeName.toLowerCase()&&!i.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||i.checked)&&a(e(i).val())}),r},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(){try{getComputedStyle(void 0)}catch(e){var t=getComputedStyle;window.getComputedStyle=function(e){try{return t(e)}catch(n){return null}}}}(),function(e){var t,n=[];e.fn.remove=function(){return this.each(function(){this.parentNode&&("IMG"===this.tagName&&(n.push(this),this.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",t&&clearTimeout(t),t=setTimeout(function(){n=[]},6e4)),this.parentNode.removeChild(this))})}}(Zepto),function(e){e.Callbacks=function(t){t=e.extend({},t);var n,r,a,i,o,s,l=[],c=!t.once&&[],u=function(e){for(n=t.memory&&e,r=!0,s=i||0,i=0,o=l.length,a=!0;l&&o>s;++s)if(l[s].apply(e[0],e[1])===!1&&t.stopOnFalse){n=!1;break}a=!1,l&&(c?c.length&&u(c.shift()):n?l.length=0:f.disable())},f={add:function(){if(l){var r=l.length,s=function(n){e.each(n,function(e,n){"function"==typeof n?t.unique&&f.has(n)||l.push(n):n&&n.length&&"string"!=typeof n&&s(n)})};s(arguments),
a?o=l.length:n&&(i=r,u(n))}return this},remove:function(){return l&&e.each(arguments,function(t,n){for(var r;(r=e.inArray(n,l,r))>-1;)l.splice(r,1),a&&(o>=r&&--o,s>=r&&--s)}),this},has:function(t){return!(!l||!(t?e.inArray(t,l)>-1:l.length))},empty:function(){return o=l.length=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||f.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||r&&!c||(t=t||[],t=[e,t.slice?t.slice():t],a?c.push(t):u(t)),this},fire:function(){return f.fireWith(this,arguments)},fired:function(){return!!r}};return f}}(Zepto),function(e){function t(t,r){var l=t[s],c=l&&a[l];if(void 0===r)return c||n(t);if(c){if(r in c)return c[r];var u=o(r);if(u in c)return c[u]}return i.call(e(t),r)}function n(t,n,i){var l=t[s]||(t[s]=++e.uuid),c=a[l]||(a[l]=r(t));return void 0!==n&&(c[o(n)]=i),c}function r(t){var n={};return e.each(t.attributes||l,function(t,r){0==r.name.indexOf("data-")&&(n[o(r.name.replace("data-",""))]=e.zepto.deserializeValue(r.value))}),n}var a={},i=e.fn.data,o=e.camelCase,s=e.expando="Zepto"+ +new Date,l=[];e.fn.data=function(r,a){return void 0===a?e.isPlainObject(r)?this.each(function(t,a){e.each(r,function(e,t){n(a,e,t)})}):0 in this?t(this[0],r):void 0:this.each(function(){n(this,r,a)})},e.fn.removeData=function(t){return"string"==typeof t&&(t=t.split(/\s+/)),this.each(function(){var n=this[s],r=n&&a[n];r&&e.each(t||r,function(e){delete r[t?o(this):e]})})},["remove","empty"].forEach(function(t){var n=e.fn[t];e.fn[t]=function(){var e=this.find("*");return"remove"===t&&(e=e.add(this)),e.removeData(),n.call(this)}})}(Zepto),function(e){function t(n){var r=[["resolve","done",e.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",e.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",e.Callbacks({memory:1})]],a="pending",i={state:function(){return a},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var n=arguments;return t(function(t){e.each(r,function(r,a){var s=e.isFunction(n[r])&&n[r];o[a[1]](function(){var n=s&&s.apply(this,arguments);if(n&&e.isFunction(n.promise))n.promise().done(t.resolve).fail(t.reject).progress(t.notify);else{var r=this===i?t.promise():this,o=s?[n]:arguments;t[a[0]+"With"](r,o)}})}),n=null}).promise()},promise:function(t){return null!=t?e.extend(t,i):i}},o={};return e.each(r,function(e,t){var n=t[2],s=t[3];i[t[1]]=n.add,s&&n.add(function(){a=s},r[1^e][2].disable,r[2][2].lock),o[t[0]]=function(){return o[t[0]+"With"](this===o?i:this,arguments),this},o[t[0]+"With"]=n.fireWith}),i.promise(o),n&&n.call(o,o),o}var n=Array.prototype.slice;e.when=function(r){var a,i,o,s=n.call(arguments),l=s.length,c=0,u=1!==l||r&&e.isFunction(r.promise)?l:0,f=1===u?r:t(),p=function(e,t,r){return function(i){t[e]=this,r[e]=arguments.length>1?n.call(arguments):i,r===a?f.notifyWith(t,r):--u||f.resolveWith(t,r)}};if(l>1)for(a=new Array(l),i=new Array(l),o=new Array(l);l>c;++c)s[c]&&e.isFunction(s[c].promise)?s[c].promise().done(p(c,o,s)).fail(f.reject).progress(p(c,i,a)):--u;return u||f.resolveWith(o,s),f.promise()},e.Deferred=t}(Zepto),function(e){function t(e,t){var n=this.os={},r=this.browser={},a=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),i=e.match(/(Android);?[\s\/]+([\d.]+)?/),o=!!e.match(/\(Macintosh\; Intel /),s=e.match(/(iPad).*OS\s([\d_]+)/),l=e.match(/(iPod)(.*OS\s([\d_]+))?/),c=!s&&e.match(/(iPhone\sOS)\s([\d_]+)/),u=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),f=/Win\d{2}|Windows/.test(t),p=e.match(/Windows Phone ([\d.]+)/),d=u&&e.match(/TouchPad/),h=e.match(/Kindle\/([\d.]+)/),v=e.match(/Silk\/([\d._]+)/),m=e.match(/(BlackBerry).*Version\/([\d.]+)/),g=e.match(/(BB10).*Version\/([\d.]+)/),y=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),b=e.match(/PlayBook/),w=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),x=e.match(/Firefox\/([\d.]+)/),E=e.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),C=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),T=!w&&e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),$=T||e.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(r.webkit=!!a)&&(r.version=a[1]),i&&(n.android=!0,n.version=i[2]),c&&!l&&(n.ios=n.iphone=!0,n.version=c[2].replace(/_/g,".")),s&&(n.ios=n.ipad=!0,n.version=s[2].replace(/_/g,".")),l&&(n.ios=n.ipod=!0,n.version=l[3]?l[3].replace(/_/g,"."):null),p&&(n.wp=!0,n.version=p[1]),u&&(n.webos=!0,n.version=u[2]),d&&(n.touchpad=!0),m&&(n.blackberry=!0,n.version=m[2]),g&&(n.bb10=!0,n.version=g[2]),y&&(n.rimtabletos=!0,n.version=y[2]),b&&(r.playbook=!0),h&&(n.kindle=!0,n.version=h[1]),v&&(r.silk=!0,r.version=v[1]),!v&&n.android&&e.match(/Kindle Fire/)&&(r.silk=!0),w&&(r.chrome=!0,r.version=w[1]),x&&(r.firefox=!0,r.version=x[1]),E&&(n.firefoxos=!0,n.version=E[1]),C&&(r.ie=!0,r.version=C[1]),$&&(o||n.ios||f)&&(r.safari=!0,n.ios||(r.version=$[1])),T&&(r.webview=!0),n.tablet=!!(s||b||i&&!e.match(/Mobile/)||x&&e.match(/Tablet/)||C&&!e.match(/Phone/)&&e.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(i||c||u||m||g||w&&e.match(/Android/)||w&&e.match(/CriOS\/([\d.]+)/)||x&&e.match(/Mobile/)||C&&e.match(/Touch/)))}t.call(e,navigator.userAgent,navigator.platform),e.__detect=t}(Zepto),function(e,t){function n(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function r(e){return a?a+e:e.toLowerCase()}var a,i,o,s,l,c,u,f,p,d,h="",v={Webkit:"webkit",Moz:"",O:"o"},m=document.createElement("div"),g=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};e.each(v,function(e,n){return m.style[e+"TransitionProperty"]!==t?(h="-"+e.toLowerCase()+"-",a=n,!1):void 0}),i=h+"transform",y[o=h+"transition-property"]=y[s=h+"transition-duration"]=y[c=h+"transition-delay"]=y[l=h+"transition-timing-function"]=y[u=h+"animation-name"]=y[f=h+"animation-duration"]=y[d=h+"animation-delay"]=y[p=h+"animation-timing-function"]="",e.fx={off:a===t&&m.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:h,transitionEnd:r("TransitionEnd"),animationEnd:r("AnimationEnd")},e.fn.animate=function(n,r,a,i,o){return e.isFunction(r)&&(i=r,a=t,r=t),e.isFunction(a)&&(i=a,a=t),e.isPlainObject(r)&&(a=r.easing,i=r.complete,o=r.delay,r=r.duration),r&&(r=("number"==typeof r?r:e.fx.speeds[r]||e.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(n,r,a,i,o)},e.fn.anim=function(r,a,h,v,m){var b,w,x,E={},C="",T=this,$=e.fx.transitionEnd,k=!1;if(a===t&&(a=e.fx.speeds._default/1e3),m===t&&(m=0),e.fx.off&&(a=0),"string"==typeof r)E[u]=r,E[f]=a+"s",E[d]=m+"s",E[p]=h||"linear",$=e.fx.animationEnd;else{w=[];for(b in r)g.test(b)?C+=b+"("+r[b]+") ":(E[b]=r[b],w.push(n(b)));C&&(E[i]=C,w.push(i)),a>0&&"object"==typeof r&&(E[o]=w.join(", "),E[s]=a+"s",E[c]=m+"s",E[l]=h||"linear")}return x=function(t){if("undefined"!=typeof t){if(t.target!==t.currentTarget)return;e(t.target).unbind($,x)}else e(this).unbind($,x);k=!0,e(this).css(y),v&&v.call(this)},a>0&&(this.bind($,x),setTimeout(function(){k||x.call(T)},1e3*(a+m)+25)),this.size()&&this.get(0).clientLeft,this.css(E),0>=a&&setTimeout(function(){T.each(function(){x.call(this)})},0),this},m=null}(Zepto),function(e,t){function n(n,r,a,i,o){"function"!=typeof r||o||(o=r,r=t);var s={opacity:a};return i&&(s.scale=i,n.css(e.fx.cssPrefix+"transform-origin","0 0")),n.animate(s,r,null,o)}function r(t,r,a,i){return n(t,r,0,a,function(){o.call(e(this)),i&&i.call(this)})}var a=window.document,i=(a.documentElement,e.fn.show),o=e.fn.hide,s=e.fn.toggle;e.fn.show=function(e,r){return i.call(this),e===t?e=0:this.css("opacity",0),n(this,e,1,"1,1",r)},e.fn.hide=function(e,n){return e===t?o.call(this):r(this,e,"0,0",n)},e.fn.toggle=function(n,r){return n===t||"boolean"==typeof n?s.call(this,n):this.each(function(){var t=e(this);t["none"==t.css("display")?"show":"hide"](n,r)})},e.fn.fadeTo=function(e,t,r){return n(this,e,t,null,r)},e.fn.fadeIn=function(e,t){var n=this.css("opacity");return n>0?this.css("opacity",0):n=1,i.call(this).fadeTo(e,n,t)},e.fn.fadeOut=function(e,t){return r(this,e,null,t)},e.fn.fadeToggle=function(t,n){return this.each(function(){var r=e(this);r[0==r.css("opacity")||"none"==r.css("display")?"fadeIn":"fadeOut"](t,n)})}}(Zepto),function(e){function t(e){return"tagName"in e?e:e.parentNode}if(e.os.ios){var n,r={};e(document).bind("gesturestart",function(e){var a=Date.now();a-(r.last||a),r.target=t(e.target),n&&clearTimeout(n),r.e1=e.scale,r.last=a}).bind("gesturechange",function(e){r.e2=e.scale}).bind("gestureend",function(t){r.e2>0?(0!=Math.abs(r.e1-r.e2)&&e(r.target).trigger("pinch")&&e(r.target).trigger("pinch"+(r.e1-r.e2>0?"In":"Out")),r.e1=r.e2=r.last=0):"last"in r&&(r={})}),["pinch","pinchIn","pinchOut"].forEach(function(t){e.fn[t]=function(e){return this.bind(t,e)}})}}(Zepto),function(e){String.prototype.trim===e&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.reduce===e&&(Array.prototype.reduce=function(t){if(void 0===this||null===this)throw new TypeError;var n,r=Object(this),a=r.length>>>0,i=0;if("function"!=typeof t)throw new TypeError;if(0==a&&1==arguments.length)throw new TypeError;if(arguments.length>=2)n=arguments[1];else for(;;){if(i in r){n=r[i++];break}if(++i>=a)throw new TypeError}for(;a>i;)i in r&&(n=t.call(e,n,r[i],i,r)),i++;return n})}(),function(e){function t(t){return t=e(t),!(!t.width()&&!t.height())&&"none"!==t.css("display")}function n(e,t){e=e.replace(/=#\]/g,'="#"]');var n,r,a=s.exec(e);if(a&&a[2]in o&&(n=o[a[2]],r=a[3],e=a[1],r)){var i=Number(r);r=isNaN(i)?r.replace(/^["']|["']$/g,""):i}return t(e,n,r)}var r=e.zepto,a=r.qsa,i=r.matches,o=e.expr[":"]={visible:function(){return t(this)?this:void 0},hidden:function(){return t(this)?void 0:this},selected:function(){return this.selected?this:void 0},checked:function(){return this.checked?this:void 0},parent:function(){return this.parentNode},first:function(e){return 0===e?this:void 0},last:function(e,t){return e===t.length-1?this:void 0},eq:function(e,t,n){return e===n?this:void 0},contains:function(t,n,r){return e(this).text().indexOf(r)>-1?this:void 0},has:function(e,t,n){return r.qsa(this,n).length?this:void 0}},s=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),l=/^\s*>/,c="Zepto"+ +new Date;r.qsa=function(t,i){return n(i,function(n,o,s){try{var u;!n&&o?n="*":l.test(n)&&(u=e(t).addClass(c),n="."+c+" "+n);var f=a(t,n)}catch(p){throw console.error("error performing selector: %o",i),p}finally{u&&u.removeClass(c)}return o?r.uniq(e.map(f,function(e,t){return o.call(e,t,f,s)})):f})},r.matches=function(e,t){return n(t,function(t,n,r){return!(t&&!i(e,t)||n&&n.call(e,null,r)!==e)})}}(Zepto),function(e){e.fn.end=function(){return this.prevObject||e()},e.fn.andSelf=function(){return this.add(this.prevObject||e())},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings".split(",").forEach(function(t){var n=e.fn[t];e.fn[t]=function(){var e=n.apply(this,arguments);return e.prevObject=this,e}})}(Zepto),function(e){function t(e,t,n,r){return Math.abs(e-t)>=Math.abs(n-r)?e-t>0?"Left":"Right":n-r>0?"Up":"Down"}function n(){u=null,p.last&&(p.el.trigger("longTap"),p={})}function r(){u&&clearTimeout(u),u=null}function a(){s&&clearTimeout(s),l&&clearTimeout(l),c&&clearTimeout(c),u&&clearTimeout(u),s=l=c=u=null,p={}}function i(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function o(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}var s,l,c,u,f,p={},d=750;e(document).ready(function(){var h,v,m,g,y=0,b=0;"MSGesture"in window&&(f=new MSGesture,f.target=document.body),e(document).bind("MSGestureEnd",function(e){var t=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;t&&(p.el.trigger("swipe"),p.el.trigger("swipe"+t))}).on("touchstart MSPointerDown pointerdown",function(t){(!(g=o(t,"down"))||i(t))&&(m=g?t:t.touches[0],t.touches&&1===t.touches.length&&p.x2&&(p.x2=void 0,p.y2=void 0),h=Date.now(),v=h-(p.last||h),p.el=e("tagName"in m.target?m.target:m.target.parentNode),s&&clearTimeout(s),p.x1=m.pageX,p.y1=m.pageY,v>0&&250>=v&&(p.isDoubleTap=!0),p.last=h,u=setTimeout(n,d),f&&g&&f.addPointer(t.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){(!(g=o(e,"move"))||i(e))&&(m=g?e:e.touches[0],r(),p.x2=m.pageX,p.y2=m.pageY,y+=Math.abs(p.x1-p.x2),b+=Math.abs(p.y1-p.y2))}).on("touchend MSPointerUp pointerup",function(n){(!(g=o(n,"up"))||i(n))&&(r(),p.x2&&Math.abs(p.x1-p.x2)>30||p.y2&&Math.abs(p.y1-p.y2)>30?c=setTimeout(function(){p.el.trigger("swipe"),p.el.trigger("swipe"+t(p.x1,p.x2,p.y1,p.y2)),p={}},0):"last"in p&&(30>y&&30>b?l=setTimeout(function(){var t=e.Event("tap");t.cancelTouch=a,p.el.trigger(t),p.isDoubleTap?(p.el&&p.el.trigger("doubleTap"),p={}):s=setTimeout(function(){s=null,p.el&&p.el.trigger("singleTap"),p={}},250)},0):p={}),y=b=0)}).on("touchcancel MSPointerCancel pointercancel",a),e(window).on("scroll",a)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}})}(Zepto),/*! Created by Feil.Wang(wangfeilong@xuexibao.cn) on 2015/6/3. */
function(e,t,n){"use strict";var r={getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null},ellipsis:function(){n(".other-info li").each(function(){var e=n(this),t=parseInt(e.css("padding-left"))+parseInt(e.css("padding-right")),r=e.children("em").width(),a=e.children("span").width(),i=e.width()-t-r;a>i&&e.addClass("ellipsis hasmore")})},clipWbTxt:function(){n(".workbook-list .wb-txt").each(function(){var e=n(this),t=e.find("span"),r=e.width(),a=t.width(),i=r-20;a>=i&&t.width(i)})}};t.filters.centToYuan=function(e){var t=e/100;return t=t.toFixed(2)},t.filters.dateDiff=function(e){var t="",n=6e4,r=60*n,a=24*r,i=30*a,o=12*i,s=(new Date).getTime(),l=s-e,c=l/o,u=l/i,f=l/(7*a),p=l/a,d=l/r,h=l/n;return c>=1&&(t=parseInt(c)+"年前"),t=u>=1?parseInt(u)+"个月前":f>=1?parseInt(f)+"周前":p>=1?parseInt(p)+"天前":d>=1?parseInt(d)+"小时前":h>=1?parseInt(h)+"分钟前":"刚刚"},r.getUrlParam("debug")?(e.console=console,e.external=function(){var e={},t=["goToQRCodeView","workbookDetail","workbookList","hideLoading","errorTips","deleteMessage","goMessageList","goMessageDetail","goToFollowed"];for(var n in t){var r=t[n];e[r]=function(e){}}return e}()):e.console=function(){var e={},t=["log","debug","info","warn","error"];for(var n in t){var r=t[n];e[r]=function(e){}}return e}(),e.Util=r}(window,avalon,Zepto),/*! Created by Feil.Wang(wangfeilong@xuexibao.cn) on 2015/5/29. */
function(e,t){"use strict";var n="",r="",a=e.location.hostname,i=""==e.location.port?e.location.port:":"+e.location.port,o=window.location.pathname.split("/")[1],s="teacherDetail"==o?"":"/"+o,l={DEV:"192.168.10.7",TEST:"192.168.1.187",ONLINE:"teacher.91xuexibao.com"};switch(a){case l.DEV||"localhost":n="http://"+a+i+s,r="http://"+a+i+s;break;case l.TEST:n="http://"+a+i+s,r="http://"+a+i+s;break;case l.ONLINE:n="http://"+a+i,r="http://"+a+i+"/teacher"}e.WEB_SERVER=n,e.API_SERVER=r}(window,void 0),/*! Created by Feil.Wang(wangfeilong@xuexibao.cn) on 2015/7/3. */
function(e,t,n){"use strict";var r;(null==Util.getUrlParam("version")||null==Util.getUrlParam("viewMode"))&&(r="share"),"1"==Util.getUrlParam("viewMode")&&(r="v1.2"),"1.3"==Util.getUrlParam("version")&&(r="v1.3"),"1.4"==Util.getUrlParam("version")&&(r="v1.4"),e.viewMode=Util.getUrlParam("viewMode"),e.template=t.define({$id:"templateCtrl",version:r}),e.version=r,n(function(){FastClick.attach(document.body)})}(window,avalon,Zepto);