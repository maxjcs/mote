!function(){"use strict";function t(e,i){function r(t,e){return function(){return t.apply(e,arguments)}}var o;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=e,this.tapDelay=i.tapDelay||200,this.tapTimeout=i.tapTimeout||700,!t.notNeeded(e)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,l=0,c=a.length;c>l;l++)s[a[l]]=r(s[a[l]],s);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var r=Node.prototype.removeEventListener;"click"===t?r.call(e,t,n.hijacked||n,i):r.call(e,t,n,i)},e.addEventListener=function(t,n,i){var r=Node.prototype.addEventListener;"click"===t?r.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(e,t,n,i)}),"function"==typeof e.onclick&&(o=e.onclick,e.addEventListener("click",function(t){o(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,r=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=i&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(i&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;i&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],i){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!r){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},t.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,a,s,l,c,u=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(c=t.changedTouches[0],u=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=u.tagName.toLowerCase(),"label"===s){if(e=this.findControl(u)){if(this.focus(u),n)return!1;u=e}}else if(this.needsFocus(u))return t.timeStamp-a>100||i&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,t),i&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return i&&!r&&(l=u.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(u)||(t.preventDefault(),this.sendClick(u,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:!t.cancelable||this.needsClick(this.targetElement)&&!this.cancelNextClick?!0:(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,i,r,o;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],o>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}(),!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("Avalon requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(){avalon.config.debug&&console.log.apply(console,arguments)}function i(){return Object.create(null)}function r(){}function o(t,e){"string"==typeof t&&(t=t.match(Ct)||[]);for(var n={},i=void 0!==e?e:1,r=0,o=t.length;o>r;r++)n[t[r]]=i;return n}function s(){if(t.VBArray){var e=document.documentMode;return e?e:t.XMLHttpRequest?7:6}return 0}function l(t){if(t&&"object"==typeof t){var e=t.length,n=Ot.call(t);if(/(Array|List|Collection|Map|Arguments)\]$/.test(n))return!0;if("[object Object]"===n&&e===e>>>0)return!0}return!1}function c(t,e){if(t&&t.childNodes)for(var n,i=t.childNodes,r=0;n=i[r++];)if(n.tagName){var o=gt.createElementNS(Vt,n.tagName.toLowerCase());$t.forEach.call(n.attributes,function(t){o.setAttribute(t.name,t.value)}),c(n,o),e.appendChild(o)}}function u(t){for(var e in t)if(kt.call(t,e)){var n=t[e];"function"==typeof u.plugins[e]?u.plugins[e](n):"object"==typeof u[e]?avalon.mix(u[e],n):u[e]=n}return this}function h(t){return(t+"").replace(te,"\\$&")}function f(t,e,n){if(Array.isArray(t)){var r=t.concat();t.length=0;var o=w(t);return o.pushArray(r),o}if(!t||t.nodeType>0||t.$id&&t.$events)return t;var a=Array.isArray(t.$skipArray)?t.$skipArray:[];a.$special=e||i();var s={};n=n||{};var l=i(),c=i(),u=[];oe.forEach(function(e){delete t[e]});for(var h in t)!function(t,e,i){if(n[t]=e,T(t,e,a)){l[t]=[];var r=avalon.type(e);"object"===r&&Bt(e.get)&&Object.keys(e).length<=2?(i=d(t,e),u.push(i)):i=Et.test(r)?v(t,e,r,l[t]):p(t,e),c[t]=i}}(h,t[h]);s=Object.defineProperties(s,se(c));for(var f in t)c[f]||(s[f]=t[f]);s.$id=Ft(),s.$model=n,s.$events=l;for(h in ie)s[h]=ie[h];return Object.defineProperty(s,"hasOwnProperty",{value:function(t){return t in this.$model},writable:!1,enumerable:!1,configurable:!0}),s.$compute=function(){u.forEach(function(t){he.begin({callback:function(e,n){var i=n._name;if(n!==t){var r=e.$events[i];t.vm=s,M(r,t.digest)}}});try{t.get.call(s)}finally{he.end()}})},s.$compute(),s}function p(t,e){function n(t){var e=n._value;return arguments.length>0?(St||ae(t,e)||(n.updateValue(this,t),n.notify(this,t,e)),this):(he.collectDependency(this,n),e)}return b(n,t),n._value=e,n}function d(t,e){function n(t){var e=n._value,i="_value"in n;return arguments.length>0?St?this:(n.set.call(this,t),this):(t=n.get.call(this),e!==t&&(n.updateValue(this,t),i&&n.notify(this,t,e)),t)}e.set=e.set||r,n.set=e.set||r,n.get=e.get,b(n,t);var i;return n.digest=function(){n.updateValue=g,n.notify=r,n.call(n.vm),clearTimeout(i),i=setTimeout(function(){b(n,n._name),n.call(n.vm)})},n}function v(t,e,n,i){function r(e){var i=r._value,o=r._vmodel;if(arguments.length>0){if(St)return this;if("array"===n){var a=o._;o._=[],o.clear(),o._=a,o.pushArray(e)}else if("object"===n){var s=o.$proxy,l=this.$events[t]||[];o=r._vmodel=f(e),o.$proxy=s,l.length&&(l.forEach(function(t){var e=Wt[t.type];e&&(t.rollback&&t.rollback(),e(t,t.vmodels))}),o.$events[t]=l)}return r.updateValue(this,o.$model),r.notify(this,this._value,i),this}return he.collectDependency(this,r),o}b(r,t);var o=r._vmodel=f(e);return o.$events[wt]=i,r}function m(t,e){t.$model[this._name]=this._value=e}function g(t,e){t.$model[this._name]=e}function y(t,e,n){var i=this._name,r=t.$events[i];r&&(P(r),ie.$fire.call(t,i,e,n))}function b(t,e){t._name=e,t.updateValue=m,t.notify=y}function T(t,e,n){if(Bt(e)||e&&e.nodeType)return!1;if(-1!==n.indexOf(t))return!1;var i=n.$special;return t&&"$"===t.charAt(0)&&!i[t]?!1:!0}function w(t){var e=[];e.$id=Ft(),e.$model=t,e.$events={},e.$events[wt]=[],e._=f({length:t.length}),e._.$watch("length",function(t,n){e.$fire("length",t,n)});for(var n in ie)e[n]=ie[n];return e.$map={el:1},e.$proxy=[],avalon.mix(e,ce),e}function _(t,e,n,i,r,o,a){for(var s=this.length,l=2;--l;){switch(t){case"add":var c=e+n,u=this.$model.slice(e,c).map(function(t){return Et.test(avalon.type(t))?t.$id?t:f(t,0,t):t});le.apply(this,[e,0].concat(u));for(var h=e;c>h;h++){var p=E(h,this);this.$proxy.splice(h,0,p)}this._fire("add",e,n);break;case"del":var d=this._splice(e,n),v=this.$proxy.splice(e,n);ft(v,"each"),this._fire("del",e,n)}r&&(t=r,e=o,n=a,l=2,r=0)}return x(this.$proxy,i),this.length!==s&&(this._.length=this.length),d}function x(t,e){for(var n,i=t.length-1;n=t[e];e++)n.$index=e,n.$first=0===e,n.$last=e===i}function S(t,e){for(var n={},i=0,r=e.length;r>i;i++){n[i]=t[i];var o=e[i];o in n?(t[i]=n[o],delete n[o]):t[i]=t[o]}}function C(){var t={$index:0/0,$first:0/0,$last:0/0,$map:{},$host:{},$outer:{},$remove:avalon.noop,el:{get:function(){return this.$host[this.$index]},set:function(t){this.$host.set(this.$index,t)}}},e={$last:1,$first:1,$index:1},n=f(t,e);return n.$id=Ft("$proxy$each"),n}function E(t,e){var n=ue.shift();n?n.$compute():n=C();var i=e.length-1;return n.$host=e,n.$index=t,n.$first=0===t,n.$last=t===i,n.$map=e.$map,n.$remove=function(){return e.removeAt(n.$index)},n}function M(t,e){e=e||Rt[mt],t&&e&&avalon.Array.ensure(t,e)&&e.element&&k(e,t)}function P(t){if(t&&t.length){new Date-ve>444&&"object"==typeof t[0]&&O();for(var e,n=At.call(arguments,1),i=t.length;e=t[--i];){var o=e.element;if(o&&o.parentNode)try{if(e.$repeat)e.handler.apply(e,n);else if("on"!==e.type){var a=e.evaluator||r;e.handler(a.apply(0,e.args||[]),o,e)}}catch(s){}}}}function L(t){return t.uniqueNumber||(t.uniqueNumber=++pe)}function k(t,e){var n=t.element;t.uuid||(t.uuid=1!==n.nodeType?t.type+(t.pos||0)+"-"+L(n.parentNode):t.name+"-"+L(n));var i=t.lists||(t.lists=[]);avalon.Array.ensure(i,e),e.$uuid=e.$uuid||Ft(),de[t.uuid]||(de[t.uuid]=1,de.push(t))}function O(t){if(!avalon.optimize){for(var e=de.length,n=e,i=[],r={},o={};t=de[--e];){var a=t.type;o[a]?o[a]++:(o[a]=1,i.push(a))}var s=!1;if(i.forEach(function(t){me[t]!==o[t]&&(r[t]=1,s=!0)}),e=n,s)for(;t=de[--e];)if(t.element&&r[t.type]&&A(t.element)){de.splice(e,1),delete de[t.uuid];for(var l,c=t.lists,u=0;l=c[u++];)avalon.Array.remove(c,l),avalon.Array.remove(l,t);$(t)}me=o,ve=new Date}}function $(t){t.element=null,t.rollback&&t.rollback();for(var e in t)t[e]=null}function A(t){try{if(!t.parentNode)return!0}catch(e){return!0}return t.msRetain?0:1===t.nodeType?!Dt.contains(t):!avalon.contains(Dt,t)}function R(t){return t.replace(/([a-z\d])([A-Z]+)/g,"$1-$2").toLowerCase()}function N(t){return t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,function(t){return t.charAt(1).toUpperCase()})}function D(t){try{if("object"==typeof t)return t;t="true"===t?!0:"false"===t?!1:"null"===t?null:+t+""===t?+t:xe.test(t)?JSON.parse(t):t}catch(e){}return t}function j(t){return t.window&&t.document?t:9===t.nodeType?t.defaultView:!1}function z(t,e){if(t.offsetWidth<=0){var n=getComputedStyle(t,null);if(Pe.test(n.display)){var i={node:t};for(var r in Me)i[r]=n[r],t.style[r]=Me[r];e.push(i)}var o=t.parentNode;o&&1===o.nodeType&&z(o,e)}}function H(t){var e=t.tagName.toLowerCase();return"input"===e&&/checkbox|radio/.test(t.type)?"checked":e}function F(t,e,n,i){for(var r,o=[],a=" = "+n+".",s=/\$proxy\$each/.test(e.$id),l=t.length;r=t[--l];){var c=s&&e.$map[r]?"el":r;e.hasOwnProperty(c)&&(o.push(r+a+c),i.vars.push(r),"duplex"===i.type&&(t.get=n+"."+c),t.splice(l,1))}return o}function I(t){for(var e=[],n={},i=0;i<t.length;i++){var r=t[i],o=r&&"string"==typeof r.$id?r.$id:r;n[o]||(n[o]=e.push(r))}return e}function B(t,e){return e=e.replace(Be,"").replace(We,function(){return"],|"}).replace(Xe,function(t,e){return"["+ke(e)}).replace(Ye,function(){return'"],["'}).replace(Ve,function(){return'",'})+"]","return avalon.filters.$filter("+t+", "+e+")"}function W(t,e,i){var o=i.type,a=i.filters||"",s=e.map(function(t){return String(t.$id).replace(Ie,"$1")})+t+o+a,l=ze(t).concat(),c=[],u=[],h=[],f="";e=I(e),i.vars=[];for(var p=0,d=e.length;d>p;p++)if(l.length){var v="vm"+mt+"_"+p;u.push(v),h.push(e[p]),c.push.apply(c,F(l,e[p],v,i))}if(c.length||"duplex"!==o){"duplex"!==o&&(t.indexOf("||")>-1||t.indexOf("&&")>-1)&&i.vars.forEach(function(e){var n=new RegExp("\\b"+e+"(?:\\.\\w+|\\[\\w+\\])+","ig");t=t.replace(n,function(n){var i=n.charAt(e.length),r=It?t.slice(arguments[1]+n.length):RegExp.rightContext,o=/^\s*\(/.test(r);if("."===i||"["===i||o){var a="var"+String(Math.random()).replace(/^0\./,"");if(o){var s=n.split(".");if(s.length>2){var l=s.pop();return c.push(a+" = "+s.join(".")),a+"."+l}return n}return c.push(a+" = "+n),a}return n})}),i.args=h,delete i.vars;var m=He.get(s);if(m)return void(i.evaluator=m);if(f=c.join(", "),f&&(f="var "+f),/\S/.test(a)){if(!/text|html/.test(i.type))throw Error("ms-"+i.type+"不支持过滤器");t="\nvar ret"+mt+" = "+t+";\r\n",t+=B("ret"+mt,a)}else{if("duplex"===o){var g="'use strict';\nreturn function(vvv){\n	"+f+";\n	if(!arguments.length){\n		return "+t+"\n	}\n	"+(Fe.test(t)?t:l.get)+"= vvv;\n} ";try{m=Function.apply(r,u.concat(g)),i.evaluator=He.put(s,m)}catch(y){n("debug: parse error,"+y.message)}return}if("on"===o){-1===t.indexOf("(")?t+=".call(this, $event)":t=t.replace("(",".call(this,"),u.push("$event"),t="\nreturn "+t+";";var b=t.lastIndexOf("\nreturn"),T=t.slice(0,b),w=t.slice(b);t=T+"\n"+w}else t="\nreturn "+t+";"}try{m=Function.apply(r,u.concat("'use strict';\n"+f+t)),i.evaluator=He.put(s,m)}catch(y){n("debug: parse error,"+y.message)}finally{l=c=u=null}}}function X(t,e,n,i,r){Array.isArray(i)&&(t=i.map(function(t){return t.expr?"("+t.value+")":ke(t.value)}).join(" + ")),W(t,e,n),n.evaluator&&!r&&(n.handler=Xt[n.handlerName||n.type],avalon.injectBinding(n))}function Y(t,e,n){var i=setTimeout(function(){var r=t.innerHTML;clearTimeout(i),r===n?e():Y(t,e,r)})}function V(t,e){var n=t.getAttribute("avalonctrl")||e.$id;t.setAttribute("avalonctrl",n),e.$events.expr=t.tagName+'[avalonctrl="'+n+'"]'}function q(t,e){for(var n,i=0;n=t[i++];)n.vmodels=e,Wt[n.type](n,e),n.evaluator&&n.element&&1===n.element.nodeType&&n.element.removeAttribute(n.name);t.length=0}function U(t,e){return t.priority-e.priority}function Z(t,e,r){var o=!0;if(e.length){for(var a,s=t.attributes,l=[],c=[],u=i(),h=0;a=s[h++];)if(a.specified&&(r=a.name.match(Ge))){var f=r[1],p=r[2]||"",d=a.value,v=a.name;if(Ke[f]?(p=f,f="on"):Qe[f]&&("enabled"===f&&(n("warning!ms-enabled或ms-attr-enabled已经被废弃"),f="disabled",d="!("+d+")"),p=f,f="attr",v="ms-"+f+"-"+p,c.push([a.name,v,d])),u[v]=d,"function"==typeof Wt[f]){var m={type:f,param:p,element:t,name:v,value:d,priority:(Je[f]||10*f.charCodeAt(0))+(Number(p.replace(/\D/g,""))||0)};if("html"===f||"text"===f){var g=tt(d);avalon.mix(m,g),m.filters=m.filters.replace(nn,function(){return m.type="html",m.group=1,""})}else if("duplex"===f)var y=v;else"ms-if-loop"===v&&(m.priority+=100);l.push(m),"widget"===f&&(t.msData=t.msData||u)}}if(l.length){l.sort(U),c.forEach(function(e){n("warning!请改用"+e[1]+"代替"+e[0]+"!"),t.removeAttribute(e[0]),t.setAttribute(e[1],e[2])});var b=t.type;for(b&&y&&(u["ms-attr-checked"]&&n("warning!"+b+"控件不能同时定义ms-attr-checked与"+y),u["ms-attr-value"]&&n("warning!"+b+"控件不能同时定义ms-attr-value与"+y)),h=0;m=l[h];h++){if(f=m.type,tn.test(f))return q(l.slice(0,h+1),e);o&&(o=!en.test(f))}q(l,e)}}o&&!qe[t.tagName]&&Qt.test(t.innerHTML+t.textContent)&&(Ze&&Ze(t),G(t,e))}function G(t,e){var n=avalon.slice(t.childNodes);J(n,e)}function J(t,e){for(var n,i=0;n=t[i++];)K(n,n.nodeType,e)}function K(t,e,n){1===e?(Q(t,n),t.msCallback&&(t.msCallback(),t.msCallback=void 0)):3===e&&Jt.test(t.data)?nt(t,n):u.commentInterpolate&&8===e&&!Jt.test(t.nodeValue)&&nt(t,n)}function Q(t,e,n){var i=t.getAttribute("ms-skip"),r=t.getAttributeNode("ms-important"),o=t.getAttributeNode("ms-controller");if("string"!=typeof i){if(n=r||o){var a=avalon.vmodels[n.value];if(!a)return;e=n===r?[a]:[a].concat(e),t.removeAttribute(n.name),t.classList.remove(n.name),V(t,a)}Z(t,e)}}function tt(t,e){if(t.indexOf("|")>0){var n=t.replace(on,function(t){return Array(t.length+1).join("1")}),i=n.replace(rn,"ᄢ㍄").indexOf("|");if(i>-1)return{filters:t.slice(i),value:t.slice(0,i),pos:e||0,expr:!0}}return{value:t,filters:"",expr:!0}}function et(t){for(var e,n,i=[],r=0;(n=t.indexOf(Zt,r),-1!==n)&&(e=t.slice(r,n),e&&i.push({value:e,filters:"",expr:!1}),r=n+Zt.length,n=t.indexOf(Gt,r),-1!==n);)e=t.slice(r,n),e&&i.push(tt(e,r)),r=n+Gt.length;return e=t.slice(r),e&&i.push({value:e,expr:!1,filters:""}),i}function nt(t,e){var n=[];if(8===t.nodeType)var i=tt(t.nodeValue),r=[i];else r=et(t.data);if(r.length){for(var o=0;i=r[o++];){var a=gt.createTextNode(i.value);i.expr&&(i.type="text",i.element=a,i.filters=i.filters.replace(nn,function(){return i.type="html",""}),n.push(i)),jt.appendChild(a)}t.parentNode.replaceChild(jt,t),n.length&&q(n,e)}}function it(t,e,n){var i=t.templateCache&&t.templateCache[e];if(i){for(var r,o=gt.createDocumentFragment();r=i.firstChild;)o.appendChild(r);return o}return avalon.parseHTML(n)}function rt(t){return null==t?"":t}function ot(t,e,n){return e.param.replace(/\w+/g,function(i){var r=avalon.duplexHooks[i];r&&"function"==typeof r[n]&&(t=r[n](t,e))}),t}function at(){for(var t=mn.length-1;t>=0;t--){var e=mn[t];e()===!1&&mn.splice(t,1)}mn.length||clearInterval(vn)}function st(t,e,n,i){var r=t.template.cloneNode(!0),o=avalon.slice(r.childNodes);t.$with||r.insertBefore(gt.createComment(t.signature),r.firstChild),e.appendChild(r);var a=[n].concat(t.vmodels),s={nodes:o,vmodels:a};i.push(s)}function lt(t){for(var e=t.element,n=e.nodeValue.replace(":end",""),i=e.previousSibling,r=[];i;)i.nodeValue===n&&r.unshift(i),i=i.previousSibling;return r}function ct(t,e,n){for(;;){var i=e.previousSibling;if(!i)break;if(i.parentNode.removeChild(i),n&&n.call(i),i===t)break}}function ut(){var t=f({$key:"",$outer:{},$host:{},$val:{get:function(){return this.$host[this.$key]},set:function(t){this.$host[this.$key]=t}}},{$val:1});return t.$id=Ft("$proxy$with"),t}function ht(t,e,n){t=t||Tn.pop(),t||(t=ut());var i=n.$repeat;return t.$key=e,t.$host=i,t.$outer=n.$outer,i.$events?t.$events.$val=i.$events[e]:t.$events={},t}function ft(t){t.forEach(function(t){pt(t,ue)}),t.length=0}function pt(t,e){for(var n in t.$events)Array.isArray(t.$events[n])&&(t.$events[n].forEach(function(t){"object"==typeof t&&$(t)}),t.$events[n].length=0);t.$host=t.$outer={},e.unshift(t)>u.maxRepeatSize&&e.pop()}function dt(t,e){var n="_"+t;if(!dt[n]){var i=gt.createElement(t);Dt.appendChild(i),e=Nt?getComputedStyle(i,null).display:i.currentStyle.display,Dt.removeChild(i),dt[n]=e}return dt[n]}function vt(t,e,n,i){t=(t+"").replace(/[^0-9+\-Ee.]/g,"");var r=isFinite(+t)?+t:0,o=isFinite(+e)?Math.abs(e):3,a=i||",",s=n||".",l="",c=function(t,e){var n=Math.pow(10,e);return""+(Math.round(t*n)/n).toFixed(e)};return l=(o?c(r,o):""+Math.round(r)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(l[1]||"").length<o&&(l[1]=l[1]||"",l[1]+=new Array(o-l[1].length+1).join("0")),l.join(s)}var mt=Date.now(),gt=t.document,yt=gt.head;yt.insertAdjacentHTML("afterBegin",'<avalon ms-skip class="avalonHide"><style id="avalonStyle">.avalonHide{ display: none!important }</style></avalon>');var bt,Tt=yt.firstChild,wt="$"+mt,_t=t.require,xt=t.define,St=!1,Ct=/[^, ]+/g,Et=/^(?:object|array)$/,Mt=/^\[object SVG\w*Element\]$/,Pt=/^\[object (?:Window|DOMWindow|global)\]$/,Lt=Object.prototype,kt=Lt.hasOwnProperty,Ot=Lt.toString,$t=Array.prototype,At=$t.slice,Rt={},Nt=t.dispatchEvent,Dt=gt.documentElement,jt=gt.createDocumentFragment(),zt=gt.createElement("div"),Ht={};"Boolean Number String Function Array Date RegExp Object Error".replace(Ct,function(t){Ht["[object "+t+"]"]=t.toLowerCase()});var Ft=function(t){return t=t||"avalon",String(Math.random()+Math.random()).replace(/\d\.\d{4}/,t)},It=s();avalon=function(t){return new avalon.init(t)},avalon.profile=function(){t.console&&avalon.config.profile&&Function.apply.call(console.log,console,arguments)},avalon.nextTick=new function(){function e(){for(var t=o.length,e=0;t>e;e++)o[e]();o=o.slice(t)}var n=t.setImmediate,i=t.MutationObserver,r=Nt&&t.postMessage;if(n)return n.bind(t);var o=[];if(i){var a=document.createTextNode("avalon");return new i(e).observe(a,{characterData:!0}),function(t){o.push(t),a.data=Math.random()}}return r?(t.addEventListener("message",function(n){var i=n.source;i!==t&&null!==i||"process-tick"!==n.data||(n.stopPropagation(),e())}),function(e){o.push(e),t.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}},avalon.init=function(t){this[0]=this.element=t},avalon.fn=avalon.prototype=avalon.init.prototype,avalon.type=function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?Ht[Ot.call(t)]||"object":typeof t};var Bt=function(t){return"[object Function]"===Ot.call(t)};avalon.isFunction=Bt,avalon.isWindow=function(t){return Pt.test(Ot.call(t))},avalon.isPlainObject=function(t){return"[object Object]"===Ot.call(t)&&Object.getPrototypeOf(t)===Lt},avalon.mix=avalon.fn.mix=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},s++),"object"==typeof a||Bt(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(c&&i&&(avalon.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&avalon.isPlainObject(n)?n:{},a[e]=avalon.mix(c,o,i)):void 0!==i&&(a[e]=i));return a},avalon.mix({rword:Ct,subscribers:wt,version:1.44,ui:{},log:n,slice:function(t,e,n){return At.call(t,e,n)},noop:r,error:function(t,e){throw new(e||Error)(t)},oneObject:o,range:function(t,e,n){n||(n=1),null==e&&(e=t||0,t=0);for(var i=-1,r=Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t,t+=n;return o},eventHooks:{},bind:function(t,e,n,i){var r=avalon.eventHooks,o=r[e];return"object"==typeof o&&(e=o.type,o.deel&&(n=o.deel(t,e,n,i))),n.unbind||t.addEventListener(e,n,!!i),n},unbind:function(t,e,n,i){var o=avalon.eventHooks,a=o[e],s=n||r;"object"==typeof a&&(e=a.type,a.deel&&(n=a.deel(t,e,n,!1))),t.removeEventListener(e,s,!!i)},css:function(t,e,n){t instanceof avalon&&(t=t[0]);var i,r=/[_-]/.test(e)?N(e):e;if(e=avalon.cssName(r)||r,void 0===n||"boolean"==typeof n){i=Se[r+":get"]||Se["@:get"],"background"===e&&(e="backgroundColor");var o=i(t,e);return n===!0?parseFloat(o)||0:o}if(""===n)t.style[e]="";else{if(null==n||n!==n)return;isFinite(n)&&!avalon.cssNumber[r]&&(n+="px"),(i=Se[r+":set"]||Se["@:set"])(t,e,n)}},each:function(t,e){if(t){var n=0;if(l(t))for(var i=t.length;i>n&&e(n,t[n])!==!1;n++);else for(n in t)if(t.hasOwnProperty(n)&&e(n,t[n])===!1)break}},getWidgetData:function(t,e){var n=avalon(t).data(),i={};for(var r in n)0===r.indexOf(e)&&(i[r.replace(e,"").replace(/\w/,function(t){return t.toLowerCase()})]=n[r]);return i},Array:{ensure:function(t,e){return-1===t.indexOf(e)?t.push(e):void 0},removeAt:function(t,e){return!!t.splice(e,1).length},remove:function(t,e){var n=t.indexOf(e);return~n?avalon.Array.removeAt(t,n):!1}}});var Wt=avalon.bindingHandlers={},Xt=avalon.bindingExecutors={},Yt=new function(){function t(t){this.size=0,this.limit=t,this.head=this.tail=void 0,this._keymap={}}var e=t.prototype;return e.put=function(t,e){var n={key:t,value:e};return this._keymap[t]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit?this.shift():this.size++,e},e.shift=function(){var t=this.head;t&&(this.head=this.head.newer,this.head.older=t.newer=t.older=this._keymap[t.key]=void 0)},e.get=function(t){var e=this._keymap[t];return void 0!==e?e===this.tail?e.value:(e.newer&&(e===this.head&&(this.head=e.newer),e.newer.older=e.older),e.older&&(e.older.newer=e.newer),e.newer=void 0,e.older=this.tail,this.tail&&(this.tail.newer=e),this.tail=e,e.value):void 0},t};if(gt.contains||(Node.prototype.contains=function(t){return!!(16&this.compareDocumentPosition(t))}),avalon.contains=function(t,e){try{for(;e=e.parentNode;)if(e===t)return!0;return!1}catch(n){return!1}},t.SVGElement){var Vt="http://www.w3.org/2000/svg",qt=gt.createElementNS(Vt,"svg");qt.innerHTML='<circle cx="50" cy="50" r="40" fill="red" />',Mt.test(qt.firstChild)||Object.defineProperties(SVGElement.prototype,{outerHTML:{enumerable:!0,configurable:!0,get:function(){return(new XMLSerializer).serializeToString(this)},set:function(t){var e=this.tagName.toLowerCase(),n=this.parentNode,i=avalon.parseHTML(t);if("svg"===e)n.insertBefore(i,this);else{var r=gt.createDocumentFragment();c(i,r),n.insertBefore(r,this)}n.removeChild(this)}},innerHTML:{enumerable:!0,configurable:!0,get:function(){var t=this.outerHTML,e=new RegExp("<"+this.nodeName+'\\b(?:(["\'])[^"]*?(\\1)|[^>])*>',"i"),n=new RegExp("</"+this.nodeName+">$","i");return t.replace(e,"").replace(n,"")},set:function(t){if(avalon.clearHTML){avalon.clearHTML(this);var e=avalon.parseHTML(t);c(e,this)}}}})}var Ut=avalon.eventHooks;"onmouseenter"in Dt||avalon.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){Ut[t]={type:e,deel:function(e,n,i){return function(n){var r=n.relatedTarget;return r&&(r===e||16&e.compareDocumentPosition(r))?void 0:(delete n.type,n.type=t,i.call(e,n))}}}}),avalon.each({AnimationEvent:"animationend",WebKitAnimationEvent:"webkitAnimationEnd"},function(e,n){t[e]&&!Ut.animationend&&(Ut.animationend={type:n})}),void 0===gt.onmousewheel&&(Ut.mousewheel={type:"wheel",deel:function(t,e,n){return function(e){e.wheelDeltaY=e.wheelDelta=e.deltaY>0?-120:120,e.wheelDeltaX=0,Object.defineProperty(e,"type",{value:"mousewheel"}),n.call(t,e)}}});var Zt,Gt,Jt,Kt,Qt,te=/[-.*+?^${}()|[\]\/\\]/g,ee={loader:function(e){var n=bt&&e;t.require=n?bt:_t,t.define=n?bt.define:xt},interpolate:function(t){if(Zt=t[0],Gt=t[1],Zt===Gt)throw new SyntaxError("openTag!==closeTag");if(t+""=="<!--,-->")u.commentInterpolate=!0;else{var e=Zt+"test"+Gt;if(zt.innerHTML=e,zt.innerHTML!==e&&zt.innerHTML.indexOf("&lt;")>-1)throw new SyntaxError("此定界符不合法");zt.innerHTML=""}var n=h(Zt),i=h(Gt);Jt=new RegExp(n+"(.*?)"+i),Kt=new RegExp(n+"(.*?)"+i,"g"),Qt=new RegExp(n+".*?"+i+"|\\sms-")}};u.debug=!0,u.plugins=ee,u.plugins.interpolate(["{{","}}"]),u.paths={},u.shim={},u.maxRepeatSize=100,avalon.config=u;var ne=function(t){return gt.querySelectorAll(t)},ie={$watch:function(t,e){if("function"==typeof e){var n=this.$events[t];n?n.push(e):this.$events[t]=[e]}else this.$events=this.$watch.backup;return this},$unwatch:function(t,e){var n=arguments.length;if(0===n)this.$watch.backup=this.$events,this.$events={};else if(1===n)this.$events[t]=[];else for(var i=this.$events[t]||[],r=i.length;~--r<0;)if(i[r]===e)return i.splice(r,1);return this},$fire:function(t){var e,n,i,r;/^(\w+)!(\S+)$/.test(t)&&(e=RegExp.$1,t=RegExp.$2);var o=this.$events;if(o){var a=At.call(arguments,1),s=[t].concat(a);if("all"===e)for(n in avalon.vmodels)i=avalon.vmodels[n],i!==this&&i.$fire.apply(i,s);else if("up"===e||"down"===e){var l=o.expr?ne(o.expr):[];if(0===l.length)return;for(n in avalon.vmodels)if(i=avalon.vmodels[n],i!==this&&i.$events.expr){var c=ne(i.$events.expr);if(0===c.length)continue;$t.forEach.call(c,function(t){$t.forEach.call(l,function(n){var r="down"===e?n.contains(t):t.contains(n);r&&(t._avalon=i)})})}var u=gt.getElementsByTagName("*"),h=[];for($t.forEach.call(u,function(t){t._avalon&&(h.push(t._avalon),t._avalon="",t.removeAttribute("_avalon"))}),"up"===e&&h.reverse(),n=0;(r=h[n++])&&r.$fire.apply(r,s)!==!1;);}else{var f=o[t]||[],p=o.$all||[];for(n=0;r=f[n++];)Bt(r)&&r.apply(this,a);for(n=0;r=p[n++];)Bt(r)&&r.apply(this,arguments)}}}},re=avalon.vmodels={};avalon.define=function(t,e){var i=t.$id||t;if(i||n("warning: vm必须指定$id"),re[i]&&n("warning: "+i+" 已经存在于avalon.vmodels中"),"object"==typeof t)var o=f(t);else{var a={$watch:r};e(a),o=f(a),St=!0,e(o),St=!1}return o.$id=i,re[i]=o};var oe=String("$id,$watch,$unwatch,$fire,$events,$model,$skipArray,$proxy").match(Ct),ae=Object.is||function(t,e){return 0===t&&0===e?1/t===1/e:t!==t?e!==e:t===e},se=function(t){var e={};for(var n in t)e[n]={get:t[n],set:t[n],enumerable:!0,configurable:!0};return e},le=$t.splice,ce={_splice:le,_fire:function(t,e,n){P(this.$events[wt],t,e,n)},size:function(){return this._.length},pushArray:function(t){var e=t.length,n=this.length;return e&&($t.push.apply(this.$model,t),_.call(this,"add",n,e,Math.max(0,n-1))),e+n},push:function(){var t,e=[],n=arguments.length;for(t=0;n>t;t++)e[t]=arguments[t];return this.pushArray(e);

},unshift:function(){var t=arguments.length,e=this.length;return t&&($t.unshift.apply(this.$model,arguments),_.call(this,"add",0,t,0)),t+e},shift:function(){if(this.length){var t=this.$model.shift();return _.call(this,"del",0,1,0),t}},pop:function(){var t=this.length;if(t){var e=this.$model.pop();return _.call(this,"del",t-1,1,Math.max(0,t-2)),e}},splice:function(t){var e,n=arguments.length,i=[],r=le.apply(this.$model,arguments);return r.length&&(i.push("del",t,r.length,0),e=!0),n>2&&(e?i.splice(3,1,0,"add",t,n-2):i.push("add",t,n-2,0),e=!0),e?_.apply(this,i):[]},contains:function(t){return-1!==this.indexOf(t)},remove:function(t){return this.removeAt(this.indexOf(t))},removeAt:function(t){return t>=0?(this.$model.splice(t,1),_.call(this,"del",t,1,0)):[]},clear:function(){return ft(this.$proxy,"each"),this.$model.length=this.$proxy.length=this.length=this._.length=0,this._fire("clear",0),this},removeAll:function(t){if(Array.isArray(t))for(var e=this.length-1;e>=0;e--)-1!==t.indexOf(this[e])&&this.removeAt(e);else if("function"==typeof t)for(e=this.length-1;e>=0;e--)t(this[e],e)&&this.removeAt(e);else this.clear()},ensure:function(t){return this.contains(t)||this.push(t),this},set:function(t,e){if(t>=0){var n=avalon.type(e);e&&e.$model&&(e=e.$model);var i=this[t];if("object"===n)for(var r in e)i.hasOwnProperty(r)&&(i[r]=e[r]);else if("array"===n)i.clear().push.apply(i,e);else if(i!==e){this[t]=e,this.$model[t]=e;var o=this.$proxy[t];o&&P(o.$events.$index)}}return this}};"sort,reverse".replace(Ct,function(t){ce[t]=function(){var e,n=this.$model,i=n.concat(),r=Math.random(),o=[];$t[t].apply(n,arguments);for(var a=0,s=i.length;s>a;a++){var l=n[a],c=i[a];if(ae(l,c))o.push(a);else{var u=i.indexOf(l);o.push(u),i[u]=r,e=!0}}return e&&(S(this,o),S(this.$proxy,o),this._fire("move",o),x(this.$proxy,0)),this}});var ue=[],he=function(){var t,e=[];return{begin:function(n){e.push(t),t=n},end:function(){t=e.pop()},collectDependency:function(e,n){t&&t.callback(e,n)}}}(),fe=/^(duplex|on)$/;avalon.injectBinding=function(t){var e=t.evaluator;if(e){he.begin({callback:function(e,n){M(e.$events[n._name],t)}});try{var n=fe.test(t.type)?t:e.apply(0,t.args);t.handler(n,t.element,t)}catch(i){delete t.evaluator;var r=t.element;if(3===r.nodeType){var o=r.parentNode;u.commentInterpolate?o.replaceChild(gt.createComment(t.value),r):r.data=Zt+t.value+Gt}}finally{he.end()}}};var pe=0,de=avalon.$$subscribers=[],ve=new Date,me={},ge=new function(){avalon.mix(this,{option:gt.createElement("select"),thead:gt.createElement("table"),td:gt.createElement("tr"),area:gt.createElement("map"),tr:gt.createElement("tbody"),col:gt.createElement("colgroup"),legend:gt.createElement("fieldset"),_default:gt.createElement("div"),g:gt.createElementNS("http://www.w3.org/2000/svg","svg")}),this.optgroup=this.option,this.tbody=this.tfoot=this.colgroup=this.caption=this.thead,this.th=this.td};String("circle,defs,ellipse,image,line,path,polygon,polyline,rect,symbol,text,use").replace(Ct,function(t){ge[t]=ge.g});var ye=/<([\w:]+)/,be=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Te=o(["","text/javascript","text/ecmascript","application/ecmascript","application/javascript"]),we=gt.createElement("script"),_e=/<|&#?\w+;/;avalon.parseHTML=function(t){var e=jt.cloneNode(!1);if("string"!=typeof t)return e;if(!_e.test(t))return e.appendChild(gt.createTextNode(t)),e;t=t.replace(be,"<$1></$2>").trim();var n,i=(ye.exec(t)||["",""])[1].toLowerCase(),r=ge[i]||ge._default;r.innerHTML=t;var o=r.getElementsByTagName("script");if(o.length)for(var a,s=0;a=o[s++];)if(Te[a.type]){var l=we.cloneNode(!1);$t.forEach.call(a.attributes,function(t){l.setAttribute(t.name,t.value)}),l.text=a.text,a.parentNode.replaceChild(l,a)}for(;n=r.firstChild;)e.appendChild(n);return e},avalon.innerHTML=function(t,e){var n=this.parseHTML(e);this.clearHTML(t).appendChild(n)},avalon.clearHTML=function(t){for(t.textContent="";t.firstChild;)t.removeChild(t.firstChild);return t},"add,remove".replace(Ct,function(t){avalon.fn[t+"Class"]=function(e){var n=this[0];return e&&"string"==typeof e&&n&&1===n.nodeType&&e.replace(/\S+/g,function(e){n.classList[t](e)}),this}}),avalon.fn.mix({hasClass:function(t){var e=this[0]||{};return 1===e.nodeType&&e.classList.contains(t)},toggleClass:function(t,e){for(var n,i=0,r=String(t).split(/\s+/),o="boolean"==typeof e;n=r[i++];){var a=o?e:!this.hasClass(n);this[a?"addClass":"removeClass"](n)}return this},attr:function(t,e){return 2===arguments.length?(this[0].setAttribute(t,e),this):this[0].getAttribute(t)},data:function(t,e){switch(t="data-"+R(t||""),arguments.length){case 2:return this.attr(t,e),this;case 1:var n=this.attr(t);return D(n);case 0:var i={};return $t.forEach.call(this[0].attributes,function(e){e&&(t=e.name,t.indexOf("data-")||(t=N(t.slice(5)),i[t]=D(e.value)))}),i}},removeData:function(t){return t="data-"+R(t),this[0].removeAttribute(t),this},css:function(t,e){if(avalon.isPlainObject(t))for(var n in t)avalon.css(this,n,t[n]);else var i=avalon.css(this,t,e);return void 0!==i?i:this},position:function(){var t,e,n=this[0],i={top:0,left:0};return n?("fixed"===this.css("position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),"HTML"!==t[0].tagName&&(i=t.offset()),i.top+=avalon.css(t[0],"borderTopWidth",!0),i.left+=avalon.css(t[0],"borderLeftWidth",!0),i.top-=t.scrollTop(),i.left-=t.scrollLeft()),{top:e.top-i.top-avalon.css(n,"marginTop",!0),left:e.left-i.left-avalon.css(n,"marginLeft",!0)}):void 0},offsetParent:function(){for(var t=this[0].offsetParent;t&&"static"===avalon.css(t,"position");)t=t.offsetParent;return avalon(t||Dt)},bind:function(t,e,n){return this[0]?avalon.bind(this[0],t,e,n):void 0},unbind:function(t,e,n){return this[0]&&avalon.unbind(this[0],t,e,n),this},val:function(t){var e=this[0];if(e&&1===e.nodeType){var n=0===arguments.length,i=n?":get":":set",r=Le[H(e)+i];if(r)var o=r(e,t);else{if(n)return(e.value||"").replace(/\r/g,"");e.value=t}}return n?o:this}}),Dt.dataset&&(avalon.fn.data=function(t,e){t=t&&N(t);var n=this[0].dataset;switch(arguments.length){case 2:return n[t]=e,this;case 1:return e=n[t],D(e);case 0:var r=i();for(t in n)r[t]=D(n[t]);return r}});var xe=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/;avalon.parseJSON=JSON.parse,avalon.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){avalon.fn[t]=function(n){var i=this[0]||{},r=j(i),o="scrollTop"===t;return arguments.length?void(r?r.scrollTo(o?r[e]:n,o?n:r[e]):i[t]=n):r?r[e]:i[t]}});var Se=avalon.cssHooks=i(),Ce=["","-webkit-","-moz-","-ms-"],Ee={"float":"cssFloat"};avalon.cssNumber=o("columnCount,order,fillOpacity,fontWeight,lineHeight,opacity,orphans,widows,zIndex,zoom"),avalon.cssName=function(t,e,n){if(Ee[t])return Ee[t];e=e||Dt.style;for(var i=0,r=Ce.length;r>i;i++)if(n=N(Ce[i]+t),n in e)return Ee[t]=n;return null},Se["@:set"]=function(t,e,n){t.style[e]=n},Se["@:get"]=function(t,e){if(!t||!t.style)throw new Error("getComputedStyle要求传入一个节点 "+t);var n,i=getComputedStyle(t);return i&&(n="filter"===e?i.getPropertyValue(e):i[e],""===n&&(n=t.style[e])),n},Se["opacity:get"]=function(t){var e=Se["@:get"](t,"opacity");return""===e?"1":e},"top,left".replace(Ct,function(t){Se[t+":get"]=function(e){var n=Se["@:get"](e,t);return/px$/.test(n)?n:avalon(e).position()[t]+"px"}});var Me={position:"absolute",visibility:"hidden",display:"block"},Pe=/^(none|table(?!-c[ea]).+)/;"Width,Height".replace(Ct,function(t){var e=t.toLowerCase(),n="client"+t,i="scroll"+t,r="offset"+t;Se[e+":get"]=function(e,n,i){var o=-4;"number"==typeof i&&(o=i),n="Width"===t?["Left","Right"]:["Top","Bottom"];var a=e[r];return 2===o?a+avalon.css(e,"margin"+n[0],!0)+avalon.css(e,"margin"+n[1],!0):(0>o&&(a=a-avalon.css(e,"border"+n[0]+"Width",!0)-avalon.css(e,"border"+n[1]+"Width",!0)),-4===o&&(a=a-avalon.css(e,"padding"+n[0],!0)-avalon.css(e,"padding"+n[1],!0)),a)},Se[e+"&get"]=function(t){var n=[];z(t,n);for(var i,r=Se[e+":get"](t),o=0;i=n[o++];){t=i.node;for(var a in i)"string"==typeof i[a]&&(t.style[a]=i[a])}return r},avalon.fn[e]=function(o){var a=this[0];if(0===arguments.length){if(a.setTimeout)return a["inner"+t];if(9===a.nodeType){var s=a.documentElement;return Math.max(a.body[i],s[i],a.body[r],s[r],s[n])}return Se[e+"&get"](a)}return this.css(e,o)},avalon.fn["inner"+t]=function(){return Se[e+":get"](this[0],void 0,-2)},avalon.fn["outer"+t]=function(t){return Se[e+":get"](this[0],void 0,t===!0?2:0)}}),avalon.fn.offset=function(){var t=this[0];try{var e=t.getBoundingClientRect();if(e.width||e.height||t.getClientRects().length){var n=t.ownerDocument,i=n.documentElement,r=n.defaultView;return{top:e.top+r.pageYOffset-i.clientTop,left:e.left+r.pageXOffset-i.clientLeft}}}catch(o){return{left:0,top:0}}};var Le={"select:get":function(t,e){for(var n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],(n.selected||l===r)&&!n.disabled){if(e=n.value,o)return e;a.push(e)}return a},"select:set":function(t,e,n){e=[].concat(e);for(var i,r=0;i=t.options[r++];)(i.selected=e.indexOf(i.value)>-1)&&(n=!0);n||(t.selectedIndex=-1)}},ke=JSON.stringify,Oe=["break,case,catch,continue,debugger,default,delete,do,else,false","finally,for,function,if,in,instanceof,new,null,return,switch,this","throw,true,try,typeof,var,void,while,with","abstract,boolean,byte,char,class,const,double,enum,export,extends","final,float,goto,implements,import,int,interface,long,native","package,private,protected,public,short,static,super,synchronized","throws,transient,volatile","arguments,let,yield,undefined"].join(","),$e=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,Ae=/[^\w$]+/g,Re=new RegExp(["\\b"+Oe.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),Ne=/\b\d[^,]*/g,De=/^,+|,+$/g,je=new Yt(512),ze=function(t){var e=","+t.trim(),n=je.get(e);if(n)return n;var i=t.replace($e,"").replace(Ae,",").replace(Re,"").replace(Ne,"").replace(De,"").split(/^$|,+/);return je.put(e,I(i))},He=new Yt(128),Fe=/\w\[.*\]|\w\.\w/,Ie=/(\$proxy\$[a-z]+)\d+$/,Be=/\)\s*$/,We=/\)\s*\|/g,Xe=/\|\s*([$\w]+)/g,Ye=/"\s*\["/g,Ve=/"\s*\(/g;avalon.parseExprProxy=X,avalon.scan=function(t,e){t=t||Dt;var n=e?[].concat(e):[];Q(t,n)};var qe=o("area,base,basefont,br,col,command,embed,hr,img,input,link,meta,param,source,track,wbr,noscript,script,style,textarea".toUpperCase()),Ue=function(t,e,n){var i=t.getAttribute(e);if(i)for(var r,o=0;r=n[o++];)if(r.hasOwnProperty(i)&&"function"==typeof r[i])return r[i]},Ze=It&&t.MutationObserver?function(t){for(var e,n=t.firstChild;n;){var i=n.nextSibling;3===n.nodeType?e?(e.nodeValue+=n.nodeValue,t.removeChild(n)):e=n:e=null,n=i}}:0,Ge=/ms-(\w+)-?(.*)/,Je={"if":10,repeat:90,data:100,widget:110,each:1400,"with":1500,duplex:2e3,on:3e3},Ke=o("animationend,blur,change,input,click,dblclick,focus,keydown,keypress,keyup,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,scan,scroll,submit"),Qe=o("value,title,alt,checked,selected,disabled,readonly,enabled"),tn=/^if|widget|repeat$/,en=/^each|with|html|include$/,nn=/\|\s*html\s*/,rn=/\|\|/g,on=/(['"])(\\\1|.)+?\1/g,an=["autofocus,autoplay,async,allowTransparency,checked,controls","declare,disabled,defer,defaultChecked,defaultSelected","contentEditable,isMap,loop,multiple,noHref,noResize,noShade","open,readOnly,selected"].join(","),sn={};an.replace(Ct,function(t){sn[t.toLowerCase()]=t});var ln={"accept-charset":"acceptCharset","char":"ch",charoff:"chOff","class":"className","for":"htmlFor","http-equiv":"httpEquiv"},cn=["accessKey,bgColor,cellPadding,cellSpacing,codeBase,codeType,colSpan","dateTime,defaultValue,frameBorder,longDesc,maxLength,marginWidth,marginHeight","rowSpan,tabIndex,useMap,vSpace,valueType,vAlign"].join(",");cn.replace(Ct,function(t){ln[t.toLowerCase()]=t});var un=/<noscript.*?>(?:[\s\S]+?)<\/noscript>/gim,hn=/<noscript.*?>([\s\S]+?)<\/noscript>/im,fn=function(){return new(t.XMLHttpRequest||ActiveXObject)("Microsoft.XMLHTTP")},pn=avalon.templateCache={};Wt.attr=function(t,e){var n=t.value.trim(),i=!0;if(n.indexOf(Zt)>-1&&n.indexOf(Gt)>2&&(i=!1,Jt.test(n)&&""===RegExp.rightContext&&""===RegExp.leftContext&&(i=!0,n=RegExp.$1)),"include"===t.type){var r=t.element;t.includeRendered=Ue(r,"data-include-rendered",e),t.includeLoaded=Ue(r,"data-include-loaded",e);var o=t.includeReplace=!!avalon(r).data("includeReplace");avalon(r).data("includeCache")&&(t.templateCache={}),t.startInclude=gt.createComment("ms-include"),t.endInclude=gt.createComment("ms-include-end"),o?(t.element=t.startInclude,r.parentNode.insertBefore(t.startInclude,r),r.parentNode.insertBefore(t.endInclude,r.nextSibling)):(r.insertBefore(t.startInclude,r.firstChild),r.appendChild(t.endInclude))}t.handlerName="attr",X(n,e,t,i?0:et(t.value))},Xt.attr=function(e,n,i){var r=i.type,o=i.param;if("css"===r)avalon(n).css(o,e);else if("attr"===r){var a=e===!1||null===e||void 0===e;!Nt&&ln[o]&&(o=ln[o]);var s=sn[o];if("boolean"==typeof n[s]&&(n[s]=!!e,e||(a=!0)),a)return n.removeAttribute(o);var l=Mt.test(n)?!1:gt.namespaces&&isVML(n)?!0:o in n.cloneNode(!1);l?n[o]=e:n.setAttribute(o,e)}else if("include"===r&&e){var c=i.vmodels,u=i.includeRendered,h=i.includeLoaded,f=i.includeReplace,p=f?n.parentNode:n,d=function(t){if(h){var n=h.apply(p,[t].concat(c));"string"==typeof n&&(t=n)}u&&Y(p,function(){u.call(p)},0/0);var r=i.includeLastID;if(i.templateCache&&r&&r!==e){var o=i.templateCache[r];o||(o=i.templateCache[r]=gt.createElement("div"),Tt.appendChild(o))}for(i.includeLastID=e;;){var a=i.startInclude.nextSibling;if(!a||a===i.endInclude)break;p.removeChild(a),o&&o.appendChild(a)}var s=it(i,e,t),l=avalon.slice(s.childNodes);p.insertBefore(s,i.endInclude),J(l,c)};if("src"===i.param)if("string"==typeof pn[e])avalon.nextTick(function(){d(pn[e])});else if(Array.isArray(pn[e]))pn[e].push(d);else{var v=fn();v.onreadystatechange=function(){if(4===v.readyState){var t=v.status;if(t>=200&&300>t||304===t||1223===t){for(var n,i=v.responseText,r=0;n=pn[e][r++];)n(i);pn[e]=i}}},pn[e]=[d],v.open("GET",e,!0),"withCredentials"in v&&(v.withCredentials=!0),v.setRequestHeader("X-Requested-With","XMLHttpRequest"),v.send(null)}else{var m=e&&1===e.nodeType?e:gt.getElementById(e);if(m){if("NOSCRIPT"===m.tagName&&!m.innerHTML&&!m.fixIE78){v=fn(),v.open("GET",location,!1),v.send(null);for(var g=gt.getElementsByTagName("noscript"),y=(v.responseText||"").match(un)||[],b=y.length,T=0;b>T;T++){var w=g[T];w&&(w.style.display="none",w.fixIE78=(y[T].match(hn)||["","&nbsp;"])[1])}}avalon.nextTick(function(){d(m.fixIE78||m.value||m.innerText||m.innerHTML)})}}}else if(Dt.hasAttribute||"string"!=typeof e||"src"!==r&&"href"!==r||(e=e.replace(/&amp;/g,"&")),n[r]=e,t.chrome&&"EMBED"===n.tagName){var _=n.parentNode,x=document.createComment("ms-src");_.replaceChild(x,n),_.replaceChild(n,x)}},"title,alt,src,value,css,include,href".replace(Ct,function(t){Wt[t]=Wt.attr}),Wt["class"]=function(t,e){var i,r=t.param,o=t.value;if(t.handlerName="class",!r||isFinite(r)){t.param="";var a=o.replace(Kt,function(t){return t.replace(/./g,"0")}),s=a.indexOf(":");if(-1===s)var l=o;else{if(l=o.slice(0,s),i=o.slice(s+1),W(i,e,t),!t.evaluator)return n("debug: ms-class '"+(i||"").trim()+"' 不存在于VM中"),!1;t._evaluator=t.evaluator,t._args=t.args}var c=Jt.test(l);c||(t.immobileClass=l),X("",e,t,c?et(l):0)}else t.immobileClass=t.oldStyle=t.param,X(o,e,t)},Xt["class"]=function(t,e,n){var i=avalon(e),r=n.type;if("class"===r&&n.oldStyle)i.toggleClass(n.oldStyle,!!t);else switch(n.toggleClass=n._evaluator?!!n._evaluator.apply(e,n._args):!0,n.newClass=n.immobileClass||t,n.oldClass&&n.newClass!==n.oldClass&&i.removeClass(n.oldClass),n.oldClass=n.newClass,r){case"class":i.toggleClass(n.newClass,n.toggleClass);break;case"hover":case"active":if(!n.hasBindEvent){var o="mouseenter",a="mouseleave";if("active"===r){e.tabIndex=e.tabIndex||-1,o="mousedown",a="mouseup";var s=i.bind("mouseleave",function(){n.toggleClass&&i.removeClass(n.newClass)})}var l=i.bind(o,function(){n.toggleClass&&i.addClass(n.newClass)}),c=i.bind(a,function(){n.toggleClass&&i.removeClass(n.newClass)});n.rollback=function(){i.unbind("mouseleave",s),i.unbind(o,l),i.unbind(a,c)},n.hasBindEvent=!0}}},"hover,active".replace(Ct,function(t){Wt[t]=Wt["class"]}),Xt.data=function(t,e,n){var i="data-"+n.param;t&&"object"==typeof t?e[i]=t:e.setAttribute(i,String(t))};var dn=Wt.duplex=function(t,e){var i,a=t.element;if(X(t.value,e,t,0,1),t.changed=Ue(a,"data-duplex-changed",e)||r,t.evaluator&&t.args){var s=[],l=o("string,number,boolean,checked");"radio"===a.type&&""===t.param&&(t.param="checked"),a.msData&&(a.msData["ms-duplex"]=t.value),t.param.replace(/\w+/g,function(e){/^(checkbox|radio)$/.test(a.type)&&/^(radio|checked)$/.test(e)&&("radio"===e&&n("ms-duplex-radio已经更名为ms-duplex-checked"),e="checked",t.isChecked=!0),"bool"===e?(e="boolean",n("ms-duplex-bool已经更名为ms-duplex-boolean")):"text"===e&&(e="string",n("ms-duplex-text已经更名为ms-duplex-string")),l[e]&&(i=!0),avalon.Array.ensure(s,e)}),i||s.push("string"),t.param=s.join("-"),t.bound=function(e,n){a.addEventListener?a.addEventListener(e,n,!1):a.attachEvent("on"+e,n);var i=t.rollback;t.rollback=function(){a.avalonSetter=null,avalon.unbind(a,e,n),i&&i()}};for(var c in avalon.vmodels){var u=avalon.vmodels[c];u.$fire("avalon-ms-duplex-init",t)}var h=t.pipe||(t.pipe=ot);h(null,t,"init");var f=a.tagName;dn[f]&&dn[f](a,t.evaluator.apply(null,t.args),t)}};avalon.duplexHooks={checked:{get:function(t,e){return!e.element.oldValue}},string:{get:function(t){return t},set:rt},"boolean":{get:function(t){return"true"===t},set:rt},number:{get:function(t,e){var n=parseFloat(t);if(-t===-n)return n;var i=/strong|medium|weak/.exec(e.element.getAttribute("data-duplex-number"))||["medium"];switch(i[0]){case"strong":return 0;case"medium":return""===t?"":0;case"weak":return t}},set:rt}};var vn,mn=[];avalon.tick=function(t){1===mn.push(t)&&(vn=setInterval(at,60))};var gn=r,yn=/text|password|hidden/;!new function(){function t(t){if(avalon.optimize||this.parentNode){if(e[this.tagName].call(this,t),!yn.test(this.type))return;!this.msFocus&&this.avalonSetter&&this.avalonSetter()}}try{var e={},n=HTMLInputElement.prototype,i=HTMLTextAreaElement.prototype,r=HTMLInputElement.prototype;Object.getOwnPropertyNames(r),e.INPUT=Object.getOwnPropertyDescriptor(n,"value").set,Object.defineProperty(n,"value",{set:t}),e.TEXTAREA=Object.getOwnPropertyDescriptor(i,"value").set,Object.defineProperty(i,"value",{set:t})}catch(o){gn=avalon.tick}},dn.INPUT=function(t,e,i){function r(t){i.changed.call(this,t,i)}function o(){u=!0}function a(){u=!1}var s=t.type,l=i.bound,c=avalon(t),u=!1,h=function(){if(!u){var n=t.oldValue=t.value,o=i.pipe(n,i,"get");c.data("duplexObserve")!==!1&&(e(o),r.call(t,o),c.data("duplex-focus")&&avalon.nextTick(function(){t.focus()}))}};if(i.handler=function(){var n=i.pipe(e(),i,"set")+"";n!==t.oldValue&&(t.value=n)},i.isChecked||"radio"===s)h=function(){if(c.data("duplexObserve")!==!1){var n=i.pipe(t.value,i,"get");e(n),r.call(t,n)}},i.handler=function(){var n=e(),r=i.isChecked?!!n:n+""===t.value;t.checked=t.oldValue=r},l("click",h);else if("checkbox"===s)h=function(){if(c.data("duplexObserve")!==!1){var o=t.checked?"ensure":"remove",a=e();Array.isArray(a)||(n("ms-duplex应用于checkbox上要对应一个数组"),a=[a]),avalon.Array[o](a,i.pipe(t.value,i,"get")),r.call(t,a)}},i.handler=function(){var n=[].concat(e());t.checked=n.indexOf(i.pipe(t.value,i,"get"))>-1},l("change",h);else{var f=t.getAttribute("data-duplex-event")||"input";t.attributes["data-event"]&&n("data-event指令已经废弃，请改用data-duplex-event"),f.replace(Ct,function(t){switch(t){case"input":l("input",h),l("DOMAutoComplete",h),It||(l("compositionstart",o),l("compositionend",a));break;default:l(t,h)}}),l("focus",function(){t.msFocus=!0}),l("blur",function(){t.msFocus=!1}),yn.test(s)&&gn(function(){if(avalon.optimize||t.parentNode)t.msFocus||t.oldValue===t.value||h();else if(!t.msRetain)return!1}),t.avalonSetter=h}t.oldValue=t.value,avalon.injectBinding(i),r.call(t,t.value)},dn.TEXTAREA=dn.INPUT,dn.SELECT=function(t,e,i){function r(){if(o.data("duplexObserve")!==!1){var n=o.val();n=Array.isArray(n)?n.map(function(t){return i.pipe(t,i,"get")}):i.pipe(n,i,"get"),n+""!==t.oldValue&&e(n),i.changed.call(t,n,i)}}var o=avalon(t);i.handler=function(){var i=e();i=i&&i.$model||i,Array.isArray(i)?t.multiple||n("ms-duplex在<select multiple=true>上要求对应一个数组"):t.multiple&&n("ms-duplex在<select multiple=false>不能对应一个数组"),i=Array.isArray(i)?i.map(String):i+"",i+""!==t.oldValue&&(o.val(i),t.oldValue=i+"")},i.bound("change",r),t.msCallback=function(){avalon.injectBinding(i),i.changed.call(t,e(),i)}},Xt.html=function(t,e,n){var i=1!==e.nodeType,r=i?e.parentNode:e;if(r&&(t=null==t?"":t,n.oldText!==t)){if(n.oldText=t,3===e.nodeType){var o=Ft("html");r.insertBefore(gt.createComment(o),e),n.element=gt.createComment(o+":end"),r.replaceChild(n.element,e),e=n.element}if("object"!=typeof t)var a=avalon.parseHTML(String(t));else if(11===t.nodeType)a=t;else if(1===t.nodeType||t.item){var s=1===t.nodeType?t.childNodes:t.item;for(a=jt.cloneNode(!0);s[0];)a.appendChild(s[0])}if(s=avalon.slice(a.childNodes),i){for(var l=e.nodeValue.slice(0,-4);;){var c=e.previousSibling;if(!c||8===c.nodeType&&c.nodeValue===l)break;r.removeChild(c)}r.insertBefore(a,e)}else avalon.clearHTML(e).appendChild(a);J(s,n.vmodels)}},Wt["if"]=Wt.data=Wt.text=Wt.html=function(t,e){X(t.value,e,t)},Xt["if"]=function(t,e,n){try{if(!e.parentNode)return}catch(i){return}if(t)8===e.nodeType&&(e.parentNode.replaceChild(n.template,e),e=n.element=n.template),e.getAttribute(n.name)&&(e.removeAttribute(n.name),Z(e,n.vmodels)),n.rollback=null;else if(1===e.nodeType){var r=n.element=gt.createComment("ms-if");e.parentNode.replaceChild(r,e),n.template=e,Tt.appendChild(e),n.rollback=function(){e.parentNode===Tt&&Tt.removeChild(e)}}};var bn=/\(([^)]*)\)/;Wt.on=function(t,e){var n=t.value;t.type="on";var i=t.param.replace(/-\d+$/,"");if("function"==typeof Wt.on[i+"Hook"]&&Wt.on[i+"Hook"](t),n.indexOf("(")>0&&n.indexOf(")")>-1){var r=(n.match(bn)||["",""])[1].trim();(""===r||"$event"===r)&&(n=n.replace(bn,""))}X(n,e,t)},Xt.on=function(t,e,n){t=function(t){var e=n.evaluator||r;return e.apply(this,n.args.concat(t))};var i=n.param.replace(/-\d+$/,"");if("scan"===i)t.call(e,{type:i});else if("function"==typeof n.specialBind)n.specialBind(e,t);else var o=avalon.bind(e,i,t);n.rollback=function(){"function"==typeof n.specialUnbind?n.specialUnbind():avalon.unbind(e,i,o)}},Wt.repeat=function(t,e){var n=t.type;X(t.value,e,t,0,1);var i=!1;try{var r=t.$repeat=t.evaluator.apply(0,t.args||[]),o=avalon.type(r);"object"!==o&&"array"!==o&&(i=!0,avalon.log("warning:"+t.value+"只能是对象或数组"))}catch(a){i=!0}var s=t.value.split(".")||[];if(s.length>1){s.pop();for(var l,c=s[0],u=0;l=e[u++];)if(l&&l.hasOwnProperty(c)){var h=l[c].$events||{};h[wt]=h[wt]||[],h[wt].push(t);break}}var f=t.element;if(1===f.nodeType){f.removeAttribute(t.name),t.sortedCallback=Ue(f,"data-with-sorted",e),t.renderedCallback=Ue(f,"data-"+n+"-rendered",e);var p=Ft(n),d=gt.createComment(p),v=gt.createComment(p+":end");if(t.signature=p,t.template=jt.cloneNode(!1),"repeat"===n){var m=f.parentNode;m.replaceChild(v,f),m.insertBefore(d,v),t.template.appendChild(f)}else{for(;f.firstChild;)t.template.appendChild(f.firstChild);f.appendChild(d),f.appendChild(v)}t.element=v,t.handler=Xt.repeat,t.rollback=function(){var e=t.element;e&&t.handler("clear")}}if(!i){t.$outer={};var g="$key",y="$val";if(Array.isArray(r)){if(!r.$map){r.$map={el:1};var b=r.length,T=[];for(u=0;b>u;u++)T.push(E(u,r));r.$proxy=T}r.$map[t.param||"el"]=1,g="$first",y="$last"}for(u=0;l=e[u++];)if(l.hasOwnProperty(g)&&l.hasOwnProperty(y)){t.$outer=l;break}var w=r.$events,_=(w||{})[wt];M(_,t),"object"===o?(t.$with=!0,r.$proxy||(r.$proxy={}),t.handler("append",r)):r.length&&t.handler("add",0,r.length)}},Xt.repeat=function(t,e,n){if(t){var i,o,a=this,s=a.element,l=lt(a),c=s.parentNode,u=jt.cloneNode(!1);switch(t){case"add":for(var h=e+n,f=[],p=a.$repeat,d=e;h>d;d++){var v=p.$proxy[d];v.$outer=a.$outer,st(a,u,v,f)}var m=new Date-0;for(avalon.optimize=avalon.optimize||m,d=0;o=f[d++];)J(o.nodes,o.vmodels),o.nodes=o.vmodels=null;avalon.optimize===m&&delete avalon.optimize,c.insertBefore(u,l[e]||s),avalon.profile("插入操作花费了 "+(new Date-m));break;case"del":ct(l[e],l[e+n]||s);break;case"clear":i=l[0],i&&ct(i,s);break;case"move":if(i=l[0]){var g,y=i.nodeValue,b=[],T=[];for(ct(i,s,function(){T.unshift(this),this.nodeValue===y&&(b.unshift(T),T=[])}),S(b,e);T=b.shift();)for(;g=T.shift();)u.appendChild(g);c.insertBefore(u,s)}break;case"append":var w=e,_=w.$proxy,x=[];f=[];for(var C in _)w.hasOwnProperty(C)||(pt(_[C],Tn),delete _[C]);for(C in w)w.hasOwnProperty(C)&&"hasOwnProperty"!==C&&"$proxy"!==C&&x.push(C);if(a.sortedCallback){var E=a.sortedCallback.call(c,x);E&&Array.isArray(E)&&E.length&&(x=E)}for(d=0;C=x[d++];)"hasOwnProperty"!==C&&(_[C]=ht(_[C],C,a),st(a,u,_[C],f));for(c.insertBefore(u,s),d=0;o=f[d++];)J(o.nodes,o.vmodels),o.nodes=o.vmodels=null}"clear"===t&&(t="del");var M=a.renderedCallback||r,P=arguments;Y(c,function(){M.apply(c,P),c.oldValue&&"SELECT"===c.tagName&&avalon(c).val(c.oldValue.split(","))},0/0)}},"with,each".replace(Ct,function(t){Wt[t]=Wt.repeat}),avalon.pool=ue;var Tn=[];Xt.text=function(t,e){if(t=null==t?"":t,3===e.nodeType)try{e.data=t}catch(n){}else e.textContent=t},avalon.parseDisplay=dt,Wt.visible=function(t,e){var n=avalon(t.element),i=n.css("display");if("none"===i){var r=n[0].style,o=/visibility/i.test(r.cssText),a=n.css("visibility");r.display="",r.visibility="hidden",i=n.css("display"),"none"===i&&(i=dt(n[0].nodeName)),r.visibility=o?a:""}t.display=i,X(t.value,e,t)},Xt.visible=function(t,e,n){e.style.display=t?n.display:"none"},Wt.widget=function(e,i){var o=e.value.match(Ct),a=e.element,s=o[0],l=o[1];l&&"$"!==l||(l=Ft(s));var c=o[2]||s,u=avalon.ui[s];if("function"==typeof u){i=a.vmodels||i;for(var h,f=0;h=i[f++];)if(h.hasOwnProperty(c)&&"object"==typeof h[c]){var p=h[c];p=p.$model||p;break}if(p){var d=p[s+"Id"];"string"==typeof d&&(n("warning!不再支持"+s+"Id"),l=d)}var v=avalon.getWidgetData(a,s);e.value=[s,l,c].join(","),e[s+"Id"]=l,e.evaluator=r,a.msData["ms-widget-id"]=l;var m=e[s+"Options"]=avalon.mix({},u.defaults,p||{},v);a.removeAttribute("ms-widget");var g=u(a,e,i)||{};if(g.$id){avalon.vmodels[l]=g,V(a,g);try{g.$init(function(){avalon.scan(a,[g].concat(i)),"function"==typeof m.onInit&&m.onInit.call(a,g,m,i)})}catch(y){}e.rollback=function(){try{g.widgetElement=null,g.$remove()}catch(t){}a.msData={},delete avalon.vmodels[g.$id]},k(e,wn),t.chrome&&a.addEventListener("DOMNodeRemovedFromDocument",function(){setTimeout(O)})}else avalon.scan(a,i)}else i.length&&(a.vmodels=i)};var wn=[],_n=/<script[^>]*>([\S\s]*?)<\/script\s*>/gim,xn=/\s+(on[^=\s]+)(?:=("[^"]*"|'[^']*'|[^\s>]+))?/g,Sn=/<\w+\b(?:(["'])[^"]*?(\1)|[^>])*>/gi,Cn={a:/\b(href)\=("javascript[^"]*"|'javascript[^']*')/gi,img:/\b(src)\=("javascript[^"]*"|'javascript[^']*')/gi,form:/\b(action)\=("javascript[^"]*"|'javascript[^']*')/gi},En=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mn=/([^\#-~| |!])/g,Pn=avalon.filters={uppercase:function(t){return t.toUpperCase()},lowercase:function(t){return t.toLowerCase()},truncate:function(t,e,n){return e=e||30,n="string"==typeof n?n:"...",t.length>e?t.slice(0,e-n.length)+n:String(t)},$filter:function(t){for(var e=1,n=arguments.length;n>e;e++){var i=arguments[e],r=avalon.filters[i.shift()];if("function"==typeof r){var o=[t].concat(i);t=r.apply(null,o)}}return t},camelize:N,sanitize:function(t){return t.replace(_n,"").replace(Sn,function(t){var e=t.toLowerCase().match(/<(\w+)\s/);if(e){var n=Cn[e[1]];n&&(t=t.replace(n,function(t,e,n){var i=n.charAt(0);return e+"="+i+"javascript:void(0)"+i}))}return t.replace(xn," ").replace(/\s+/g," ")})},escape:function(t){return String(t).replace(/&/g,"&amp;").replace(En,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(Mn,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")},currency:function(t,e,n){return(e||"￥")+vt(t,isFinite(n)?n:2)},number:vt};!new function(){function t(t){return parseInt(t,10)||0}function e(t,e,n){var i="";for(0>t&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function n(t,n,i,r){return function(o){var a=o["get"+t]();return(i>0||a>-i)&&(a+=i),0===a&&-12===i&&(a=12),e(a,n,r)}}function i(t,e){return function(n,i){var r=n["get"+t](),o=(e?"SHORT"+t:t).toUpperCase();return i[o][r]}}function r(t){var n=-1*t.getTimezoneOffset(),i=n>=0?"+":"";return i+=e(Math[n>0?"floor":"ceil"](n/60),2)+e(Math.abs(n%60),2)}function o(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}var a={yyyy:n("FullYear",4),yy:n("FullYear",2,0,!0),y:n("FullYear",1),MMMM:i("Month"),MMM:i("Month",!0),MM:n("Month",2,1),M:n("Month",1,1),dd:n("Date",2),d:n("Date",1),HH:n("Hours",2),H:n("Hours",1),hh:n("Hours",2,-12),h:n("Hours",1,-12),mm:n("Minutes",2),m:n("Minutes",1),ss:n("Seconds",2),s:n("Seconds",1),sss:n("Milliseconds",3),EEEE:i("Day"),EEE:i("Day",!0),a:o,Z:r},s=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,l=/^\/Date\((\d+)\)\/$/;Pn.date=function(e,n){var i,r,o=Pn.date.locate,c="",u=[];if(n=n||"mediumDate",n=o[n]||n,"string"==typeof e)if(/^\d+$/.test(e))e=t(e);else if(l.test(e))e=+RegExp.$1;else{var h=e.trim(),f=[0,0,0,0,0,0,0],p=new Date(0);h=h.replace(/^(\d+)\D(\d+)\D(\d+)/,function(e,n,i,r){var o=4===r.length?[r,n,i]:[n,i,r];return f[0]=t(o[0]),f[1]=t(o[1])-1,f[2]=t(o[2]),""});var d=p.setFullYear,v=p.setHours;h=h.replace(/[T\s](\d+):(\d+):?(\d+)?\.?(\d)?/,function(e,n,i,r,o){return f[3]=t(n),f[4]=t(i),f[5]=t(r),o&&(f[6]=Math.round(1e3*parseFloat("0."+o))),""});var m=0,g=0;h=h.replace(/Z|([+-])(\d\d):?(\d\d)/,function(e,n,i,r){return d=p.setUTCFullYear,v=p.setUTCHours,n&&(m=t(n+i),g=t(n+r)),""}),f[3]-=m,f[4]-=g,d.apply(p,f.slice(0,3)),v.apply(p,f.slice(3)),e=p}if("number"==typeof e&&(e=new Date(e)),"date"===avalon.type(e)){for(;n;)r=s.exec(n),r?(u=u.concat(r.slice(1)),n=u.pop()):(u.push(n),n=null);return u.forEach(function(t){i=a[t],c+=i?i(e,o):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}};var c={AMPMS:{0:"上午",1:"下午"},DAY:{0:"星期日",1:"星期一",2:"星期二",3:"星期三",4:"星期四",5:"星期五",6:"星期六"},MONTH:{0:"1月",1:"2月",2:"3月",3:"4月",4:"5月",5:"6月",6:"7月",7:"8月",8:"9月",9:"10月",10:"11月",11:"12月"},SHORTDAY:{0:"周日",1:"周一",2:"周二",3:"周三",4:"周四",5:"周五",6:"周六"},fullDate:"y年M月d日EEEE",longDate:"y年M月d日",medium:"yyyy-M-d H:mm:ss",mediumDate:"yyyy-M-d",mediumTime:"H:mm:ss","short":"yy-M-d ah:mm",shortDate:"yy-M-d",shortTime:"ah:mm"};c.SHORTMONTH=c.MONTH,Pn.date.locate=c};var Ln=avalon.modules={"domReady!":{exports:avalon,state:3},avalon:{exports:avalon,state:4}};Ln.exports=Ln.avalon,new function(){function e(t,e){var i="js";t=t.replace(/^(\w+)\!/,function(t,e){return i=e,""}),"ready"===i&&(n("debug: ready!已经被废弃，请使用domReady!"),i="domReady");var r="";t=t.replace(N,function(t){return r=t,""});var o="."+i,a=/js|css/.test(o)?o:"";t=t.replace(/\.[a-z0-9]+$/g,function(t){return t===o?(a=t,""):t});var s=avalon.mix({query:r,ext:a,res:i,name:t,toUrl:m},e);return s.toUrl(t),s}function o(t){var e=t.name,n=t.res,i=Ln[e],r=e&&t.urlNoQuery;if(i&&i.state>=1)return e;if(i=Ln[r],i&&i.state>=3)return bt(i.deps||[],i.factory,r),r;if(e&&!i){i=Ln[r]={id:r,state:1};var o=function(r){R[n]=r,r.load(e,t,function(t){arguments.length&&void 0!==t&&(i.exports=t),i.state=4,c()})};R[n]?o(R[n]):bt([n],o)}return e?r:n+"!"}function s(t,e){for(var n,i=0;n=t[i++];)if(4!==Ln[n].state&&(n===e||s(Ln[n].deps,e)))return!0}function l(t,e){var i=f(t.src);return t.onload=t.onerror=null,e?(setTimeout(function(){yt.removeChild(t),t=null}),void n("debug: 加载 "+i+" 失败"+e+" "+!Ln[i].state)):!0}function c(){t:for(var t,e=C.length;t=C[--e];){var n=Ln[t],i=n.deps;if(i){for(var r,o=0;r=i[o];o++)if(4!==Object(Ln[r]).state)continue t;4!==n.state&&(C.splice(e,1),v(n.id,n.deps,n.factory),c())}}}function h(t,e,i){var r=gt.createElement("script");r.className=wt,r.onload=function(){var r=E.pop();r&&r.require(e),i&&i(),n("debug: 已成功加载 "+t),e&&C.push(e),c()},r.onerror=function(){l(r,!0)},yt.insertBefore(r,yt.firstChild),
r.src=t,n("debug: 正准备加载 "+t)}function f(t){return(t||"").replace(N,"")}function p(t){return/^(?:[a-z]+:)?\/\//i.test(String(t))}function d(){var t;try{a.b.c()}catch(e){t=e.stack}if(t)return t=t.split(/[@ ]/g).pop(),t="("===t[0]?t.slice(1,-1):t.replace(/\s/,""),f(t.replace(/(:\d+)?:\d+$/i,""));for(var n,i=yt.getElementsByTagName("script"),r=i.length;n=i[--r];)if(n.className===wt&&"interactive"===n.readyState){var o=n.src;return n.className=f(o)}}function v(e,r,o){var a=Object(Ln[e]);a.state=4;for(var s,l=0,c=[];s=r[l++];)if("exports"===s){var u=a.exports||(a.exports=i());c.push(u)}else c.push(Ln[s].exports);try{var h=o.apply(t,c)}catch(f){n("执行["+e+"]模块的factory抛错： "+f)}return void 0!==h&&(a.exports=h),D.test(e)&&delete Ln[e],delete a.factory,h}function m(t){0===t.indexOf(this.res+"!")&&(t=t.slice(this.res.length+1));var e=t,n=0,i=this.baseUrl,r=this.parentUrl||i;w(t,u.paths,function(t,i){e=e.replace(i,t),n=1}),n||w(t,u.packages,function(t,n,i){e=e.replace(i.name,i.location)}),this.mapUrl&&w(this.mapUrl,u.map,function(t){w(e,t,function(t,n){e=e.replace(n,t),r=i})});var o=this.ext;o&&n&&e.slice(-o.length)===o&&(e=e.slice(0,-o.length)),p(e)||(r=this.built||/^\w/.test(e)?i:r,e=x(r,e));var a=e+o;return e=a+this.query,w(t,u.urlArgs,function(t){e+=(-1===e.indexOf("?")?"?":"&")+t}),this.url=e,this.urlNoQuery=a}function g(t,e,n){var i=T(t,e,n);return i.sort(_),i}function y(t){return new RegExp("^"+t+"(/|$)")}function b(e){return function(){var n;return e.init&&(n=e.init.apply(t,arguments)),n||e.exports&&S(e.exports)}}function T(t,e,n){var i=[];for(var r in t){var o={name:r,val:t[r]};i.push(o),o.reg="*"===r&&e?/^/:y(r),n&&"*"!==r&&(o.reg=new RegExp("/"+r.replace(/^\//,"")+"(/|$)"))}return i}function w(t,e,n){e=e||[];for(var i,r=0;i=e[r++];)if(i.reg.test(t))return n(i.val,i.name,i),!1}function _(t,e){var n=t.name,i=e.name;return"*"===i?-1:"*"===n?1:i.length-n.length}function x(t,e){if("/"!==t.charAt(t.length-1)&&(t+="/"),"./"===e.slice(0,2))return t+e.slice(2);if(".."===e.slice(0,2)){for(t+=e;j.test(t);)t=t.replace(j,"");return t}return"/"===e.slice(0,1)?t+e.slice(1):t+e}function S(e){if(!e)return e;var n=t;return e.split(".").forEach(function(t){n=n[t]}),n}var C=[],E=[],M=/\.js$/i,P=[],L=!1;bt=avalon.require=function(t,n,a,s){if(L){Array.isArray(t)||avalon.error("require方法的第一个参数应为数组 "+t);var l=[],h=i(),f=a||"callback"+setTimeout("1");s=s||i(),s.baseUrl=u.baseUrl;var p=!!s.built;if(a&&(s.parentUrl=a.substr(0,a.lastIndexOf("/")),s.mapUrl=a.replace(M,"")),p){var d=e(s.defineName,s);f=d.urlNoQuery}else t.forEach(function(t){var n=e(t,s),i=o(n);i&&(h[i]||(l.push(i),h[i]="司徒正美"))});var v=Ln[f];v&&4===v.state||(Ln[f]={id:f,deps:p?t.concat():l,factory:n||r,state:3}),v||C.push(f),c()}else if(P.push(avalon.slice(arguments)),arguments.length<=2){L=!0;for(var m,g=P.splice(0,P.length);m=g.shift();)bt.apply(null,m)}},bt.define=function(t,e,n){"string"!=typeof t&&(n=e,e=t,t="anonymous"),Array.isArray(e)||(n=e,e=[]);var i={built:!L,defineName:t},r=[e,n,i];n.require=function(t){if(r.splice(2,0,t),Ln[t]){Ln[t].state=3;var e=!1;try{e=s(Ln[t].deps,t)}catch(i){}e&&avalon.error(t+"模块与之前的模块存在循环依赖，请不要直接用script标签引入"+t+"模块")}delete n.require,bt.apply(null,r)};var o=i.built?"unknown":d();if(o){var a=Ln[o];a&&(a.state=2),n.require(o)}else E.push(n)},bt.config=u,bt.define.amd=Ln;var k=u["orig.paths"]=i(),O=u["orig.map"]=i(),$=u.packages=[],A=u["orig.args"]=i();avalon.mix(ee,{paths:function(t){avalon.mix(k,t),u.paths=g(k)},map:function(t){avalon.mix(O,t);var e=g(O,1,1);avalon.each(e,function(t,e){e.val=g(e.val)}),u.map=e},packages:function(t){t=t.concat($);for(var e,n=i(),r=[],o=0;e=t[o++];){e="string"==typeof e?{name:e}:e;var a=e.name;if(!n[a]){var s=x(e.location||a,e.main||"main");s=s.replace(M,""),r.push(e),n[a]=e.location=s,e.reg=y(a)}}u.packages=r.sort()},urlArgs:function(t){"string"==typeof t&&(t={"*":t}),avalon.mix(A,t),u.urlArgs=g(A,1)},baseUrl:function(t){if(!p(t)){var e=yt.getElementsByTagName("base")[0];e&&yt.removeChild(e);var n=gt.createElement("a");n.href=t,t=n.href,e&&yt.insertBefore(e,yt.firstChild)}t.length>3&&(u.baseUrl=t)},shim:function(t){for(var e in t){var n=t[e];Array.isArray(n)&&(n=t[e]={deps:n}),n.exportsFn||!n.exports&&!n.init||(n.exportsFn=b(n))}u.shim=t}});var R=bt.plugins={ready:{load:r},js:{load:function(t,e,n){var i=e.url,r=e.urlNoQuery,o=u.shim[t.replace(M,"")];o?bt(o.deps||[],function(){var t=avalon.slice(arguments);h(i,r,function(){n(o.exportsFn?o.exportsFn.apply(0,t):void 0)})}):h(i,r)}},css:{load:function(t,e,i){var r=e.url;yt.insertAdjacentHTML("afterBegin",'<link rel="stylesheet" href="'+r+'">'),n("debug: 已成功加载 "+r),i()}},text:{load:function(t,e,i){var r=e.url,o=fn();o.onload=function(){var t=o.status;t>399&&600>t?avalon.error(r+" 对应资源不存在或没有开启 CORS"):(n("debug: 已成功加载 "+r),i(o.responseText))};var a="_="+(new Date-0),s=-1===r.indexOf("?")?r+"?"+a:r+"&"+a;o.open("GET",s,!0),"withCredentials"in o&&(o.withCredentials=!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(),n("debug: 正准备加载 "+r)}}};bt.checkDeps=c;var N=/(\?[^#]*)$/,D=/^callback\d+$/,j=/\/\w+\/\.\./,z=gt.scripts[gt.scripts.length-1],H=z.getAttribute("data-main");if(H){ee.baseUrl(H);var F=u.baseUrl;u.baseUrl=F.slice(0,F.lastIndexOf("/")+1),h(F.replace(M,"")+".js")}else{var I=f(z.src);u.baseUrl=I.slice(0,I.lastIndexOf("/")+1)}};var kn,On=[],$n=function(t){for(kn=!0,bt&&(Ln["domReady!"].state=4,bt.checkDeps());t=On.shift();)t(avalon)};"complete"===gt.readyState?setTimeout($n):gt.addEventListener("DOMContentLoaded",$n),t.addEventListener("load",$n),avalon.ready=function(t){kn?t(avalon):On.push(t)},avalon.config({loader:!0}),avalon.ready(function(){avalon.scan(gt.body)}),"function"==typeof define&&define.amd&&define("avalon",[],function(){return avalon});var An=t.avalon;return avalon.noConflict=function(e){return e&&t.avalon===avalon&&(t.avalon=An),avalon},void 0===e&&(t.avalon=avalon),avalon});var Zepto=function(){function t(t){return null==t?String(t):U[Z.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function i(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function r(e){return"object"==t(e)}function o(t){return r(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function a(t){return"number"==typeof t.length}function s(t){return k.call(t,function(t){return null!=t})}function l(t){return t.length>0?S.fn.concat.apply([],t):t}function c(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(t){return t in R?R[t]:R[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function h(t,e){return"number"!=typeof e||N[c(t)]?e:e+"px"}function f(t){var e,n;return A[t]||(e=$.createElement(t),$.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),A[t]=n),A[t]}function p(t){return"children"in t?O.call(t.children):S.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function d(t,e){var n,i=t?t.length:0;for(n=0;i>n;n++)this[n]=t[n];this.length=i,this.selector=e||""}function v(t,e,n){for(x in e)n&&(o(e[x])||Q(e[x]))?(o(e[x])&&!o(t[x])&&(t[x]={}),Q(e[x])&&!Q(t[x])&&(t[x]=[]),v(t[x],e[x],n)):e[x]!==_&&(t[x]=e[x])}function m(t,e){return null==e?S(t):S(t).filter(e)}function g(t,n,i,r){return e(n)?n.call(t,i,r):n}function y(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function b(t,e){var n=t.className||"",i=n&&n.baseVal!==_;return e===_?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function T(t){try{return t?"true"==t||("false"==t?!1:"null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?S.parseJSON(t):t):t}catch(e){return t}}function w(t,e){e(t);for(var n=0,i=t.childNodes.length;i>n;n++)w(t.childNodes[n],e)}var _,x,S,C,E,M,P=[],L=P.concat,k=P.filter,O=P.slice,$=window.document,A={},R={},N={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},D=/^\s*<(\w+|!)[^>]*>/,j=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,H=/^(?:body|html)$/i,F=/([A-Z])/g,I=["val","css","html","text","data","width","height","offset"],B=["after","prepend","before","append"],W=$.createElement("table"),X=$.createElement("tr"),Y={tr:$.createElement("tbody"),tbody:W,thead:W,tfoot:W,td:X,th:X,"*":$.createElement("div")},V=/complete|loaded|interactive/,q=/^[\w-]*$/,U={},Z=U.toString,G={},J=$.createElement("div"),K={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Q=Array.isArray||function(t){return t instanceof Array};return G.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=J).appendChild(t),i=~G.qsa(r,e).indexOf(t),o&&J.removeChild(t),i},E=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},M=function(t){return k.call(t,function(e,n){return t.indexOf(e)==n})},G.fragment=function(t,e,n){var i,r,a;return j.test(t)&&(i=S($.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(z,"<$1></$2>")),e===_&&(e=D.test(t)&&RegExp.$1),e in Y||(e="*"),a=Y[e],a.innerHTML=""+t,i=S.each(O.call(a.childNodes),function(){a.removeChild(this)})),o(n)&&(r=S(i),S.each(n,function(t,e){I.indexOf(t)>-1?r[t](e):r.attr(t,e)})),i},G.Z=function(t,e){return new d(t,e)},G.isZ=function(t){return t instanceof G.Z},G.init=function(t,n){var i;if(!t)return G.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&D.test(t))i=G.fragment(t,RegExp.$1,n),t=null;else{if(n!==_)return S(n).find(t);i=G.qsa($,t)}else{if(e(t))return S($).ready(t);if(G.isZ(t))return t;if(Q(t))i=s(t);else if(r(t))i=[t],t=null;else if(D.test(t))i=G.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==_)return S(n).find(t);i=G.qsa($,t)}}return G.Z(i,t)},S=function(t,e){return G.init(t,e)},S.extend=function(t){var e,n=O.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){v(t,n,e)}),t},G.qsa=function(t,e){var n,i="#"==e[0],r=!i&&"."==e[0],o=i||r?e.slice(1):e,a=q.test(o);return t.getElementById&&a&&i?(n=t.getElementById(o))?[n]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:O.call(a&&!i&&t.getElementsByClassName?r?t.getElementsByClassName(o):t.getElementsByTagName(e):t.querySelectorAll(e))},S.contains=$.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},S.type=t,S.isFunction=e,S.isWindow=n,S.isArray=Q,S.isPlainObject=o,S.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},S.inArray=function(t,e,n){return P.indexOf.call(e,t,n)},S.camelCase=E,S.trim=function(t){return null==t?"":String.prototype.trim.call(t)},S.uuid=0,S.support={},S.expr={},S.noop=function(){},S.map=function(t,e){var n,i,r,o=[];if(a(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&o.push(n);else for(r in t)n=e(t[r],r),null!=n&&o.push(n);return l(o)},S.each=function(t,e){var n,i;if(a(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},S.grep=function(t,e){return k.call(t,e)},window.JSON&&(S.parseJSON=JSON.parse),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){U["[object "+e+"]"]=e.toLowerCase()}),S.fn={constructor:G.Z,length:0,forEach:P.forEach,reduce:P.reduce,push:P.push,sort:P.sort,splice:P.splice,indexOf:P.indexOf,concat:function(){var t,e,n=[];for(t=0;t<arguments.length;t++)e=arguments[t],n[t]=G.isZ(e)?e.toArray():e;return L.apply(G.isZ(this)?this.toArray():this,n)},map:function(t){return S(S.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return S(O.apply(this,arguments))},ready:function(t){return V.test($.readyState)&&$.body?t(S):$.addEventListener("DOMContentLoaded",function(){t(S)},!1),this},get:function(t){return t===_?O.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return P.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):S(k.call(this,function(e){return G.matches(e,t)}))},add:function(t,e){return S(M(this.concat(S(t,e))))},is:function(t){return this.length>0&&G.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==_)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):a(t)&&e(t.item)?O.call(t):S(t);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return S(n)},has:function(t){return this.filter(function(){return r(t)?S.contains(this,t):S(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!r(t)?t:S(t)},last:function(){var t=this[this.length-1];return t&&!r(t)?t:S(t)},find:function(t){var e,n=this;return e=t?"object"==typeof t?S(t).filter(function(){var t=this;return P.some.call(n,function(e){return S.contains(e,t)})}):1==this.length?S(G.qsa(this[0],t)):this.map(function(){return G.qsa(this,t)}):S()},closest:function(t,e){var n=this[0],r=!1;for("object"==typeof t&&(r=S(t));n&&!(r?r.indexOf(n)>=0:G.matches(n,t));)n=n!==e&&!i(n)&&n.parentNode;return S(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=S.map(n,function(t){return(t=t.parentNode)&&!i(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return m(e,t)},parent:function(t){return m(M(this.pluck("parentNode")),t)},children:function(t){return m(this.map(function(){return p(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||O.call(this.childNodes)})},siblings:function(t){return m(this.map(function(t,e){return k.call(p(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return S.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=f(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var i=S(t).get(0),r=i.parentNode||this.length>1;return this.each(function(e){S(this).wrapAll(n?t.call(this,e):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){S(this[0]).before(t=S(t));for(var e;(e=t.children()).length;)t=e.first();S(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var i=S(this),r=i.contents(),o=n?t.call(this,e):t;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){S(this).replaceWith(S(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=S(this);(t===_?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return S(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return S(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var n=this.innerHTML;S(this).empty().append(g(this,t,e,n))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var n=g(this,t,e,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(t,e){var n;return"string"!=typeof t||1 in arguments?this.each(function(n){if(1===this.nodeType)if(r(t))for(x in t)y(this,x,t[x]);else y(this,t,g(this,e,n,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:_},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){y(this,t)},this)})},prop:function(t,e){return t=K[t]||t,1 in arguments?this.each(function(n){this[t]=g(this,e,n,this[t])}):this[0]&&this[0][t]},data:function(t,e){var n="data-"+t.replace(F,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,e):this.attr(n);return null!==i?T(i):_},val:function(t){return 0 in arguments?this.each(function(e){this.value=g(this,t,e,this.value)}):this[0]&&(this[0].multiple?S(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var n=S(this),i=g(this,t,e,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(!this.length)return null;if(!S.contains($.documentElement,this[0]))return{top:0,left:0};var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var i,r=this[0];if(!r)return;if(i=getComputedStyle(r,""),"string"==typeof e)return r.style[E(e)]||i.getPropertyValue(e);if(Q(e)){var o={};return S.each(e,function(t,e){o[e]=r.style[E(e)]||i.getPropertyValue(e)}),o}}var a="";if("string"==t(e))n||0===n?a=c(e)+":"+h(e,n):this.each(function(){this.style.removeProperty(c(e))});else for(x in e)e[x]||0===e[x]?a+=c(x)+":"+h(x,e[x])+";":this.each(function(){this.style.removeProperty(c(x))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(S(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?P.some.call(this,function(t){return this.test(b(t))},u(t)):!1},addClass:function(t){return t?this.each(function(e){if("className"in this){C=[];var n=b(this),i=g(this,t,e,n);i.split(/\s+/g).forEach(function(t){S(this).hasClass(t)||C.push(t)},this),C.length&&b(this,n+(n?" ":"")+C.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===_)return b(this,"");C=b(this),g(this,t,e,C).split(/\s+/g).forEach(function(t){C=C.replace(u(t)," ")}),b(this,C.trim())}})},toggleClass:function(t,e){return t?this.each(function(n){var i=S(this),r=g(this,t,n,b(this));r.split(/\s+/g).forEach(function(t){(e===_?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===_?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===_?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=H.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(S(t).css("margin-top"))||0,n.left-=parseFloat(S(t).css("margin-left"))||0,i.top+=parseFloat(S(e[0]).css("border-top-width"))||0,i.left+=parseFloat(S(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||$.body;t&&!H.test(t.nodeName)&&"static"==S(t).css("position");)t=t.offsetParent;return t})}},S.fn.detach=S.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});S.fn[t]=function(r){var o,a=this[0];return r===_?n(a)?a["inner"+e]:i(a)?a.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){a=S(this),a.css(t,g(this,r,e,a[t]()))})}}),B.forEach(function(e,n){var i=n%2;S.fn[e]=function(){var e,r,o=S.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:G.fragment(n)}),a=this.length>1;return o.length<1?this:this.each(function(t,e){r=i?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null;var s=S.contains($.documentElement,r);o.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!r)return S(t).remove();r.insertBefore(t,e),s&&w(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},S.fn[i?e+"To":"insert"+(n?"Before":"After")]=function(t){return S(t)[e](this),this}}),G.Z.prototype=d.prototype=S.fn,G.uniq=M,G.deserializeValue=T,S.zepto=G,S}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function e(t){return t._zid||(t._zid=f++)}function n(t,n,o,a){if(n=i(n),n.ns)var s=r(n.ns);return(m[e(t)]||[]).filter(function(t){return!(!t||n.e&&t.e!=n.e||n.ns&&!s.test(t.ns)||o&&e(t.fn)!==e(o)||a&&t.sel!=a)})}function i(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function r(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t,e){return t.del&&!y&&t.e in b||!!e}function a(t){return T[t]||y&&b[t]||t}function s(n,r,s,l,u,f,p){var d=e(n),v=m[d]||(m[d]=[]);r.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(s);var r=i(e);r.fn=s,r.sel=u,r.e in T&&(s=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?r.fn.apply(this,arguments):void 0}),r.del=f;var d=f||s;r.proxy=function(t){if(t=c(t),!t.isImmediatePropagationStopped()){t.data=l;var e=d.apply(n,t._args==h?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},r.i=v.length,v.push(r),"addEventListener"in n&&n.addEventListener(a(r.e),r.proxy,o(r,p))})}function l(t,i,r,s,l){var c=e(t);(i||"").split(/\s/).forEach(function(e){n(t,e,r,s).forEach(function(e){delete m[c][e.i],"removeEventListener"in t&&t.removeEventListener(a(e.e),e.proxy,o(e,l))})})}function c(e,n){return(n||!e.isDefaultPrevented)&&(n||(n=e),t.each(S,function(t,i){var r=n[t];e[t]=function(){return this[i]=w,r&&r.apply(n,arguments)},e[i]=_}),(n.defaultPrevented!==h?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=w)),e}function u(t){var e,n={originalEvent:t};for(e in t)x.test(e)||t[e]===h||(n[e]=t[e]);return c(n,t)}var h,f=1,p=Array.prototype.slice,d=t.isFunction,v=function(t){return"string"==typeof t},m={},g={},y="onfocusin"in window,b={focus:"focusin",blur:"focusout"},T={mouseenter:"mouseover",mouseleave:"mouseout"};g.click=g.mousedown=g.mouseup=g.mousemove="MouseEvents",t.event={add:s,remove:l},t.proxy=function(n,i){var r=2 in arguments&&p.call(arguments,2);if(d(n)){var o=function(){return n.apply(i,r?r.concat(p.call(arguments)):arguments)};return o._zid=e(n),o}if(v(i))return r?(r.unshift(n[i],n),t.proxy.apply(null,r)):t.proxy(n[i],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var w=function(){return!0},_=function(){return!1},x=/^([A-Z]|returnValue$|layer[XY]$)/,S={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,i,r,o){var a,c,f=this;return e&&!v(e)?(t.each(e,function(t,e){f.on(t,n,i,e,o)}),f):(v(n)||d(r)||r===!1||(r=i,i=n,n=h),(r===h||i===!1)&&(r=i,i=h),r===!1&&(r=_),f.each(function(h,f){o&&(a=function(t){return l(f,t.type,r),r.apply(this,arguments)}),n&&(c=function(e){var i,o=t(e.target).closest(n,f).get(0);return o&&o!==f?(i=t.extend(u(e),{currentTarget:o,liveFired:f}),(a||r).apply(o,[i].concat(p.call(arguments,1)))):void 0}),s(f,e,r,i,n,c||a)}))},t.fn.off=function(e,n,i){var r=this;return e&&!v(e)?(t.each(e,function(t,e){r.off(t,n,e)}),r):(v(n)||d(i)||i===!1||(i=n,n=h),i===!1&&(i=_),r.each(function(){l(this,e,i,n)}))},t.fn.trigger=function(e,n){return e=v(e)||t.isPlainObject(e)?t.Event(e):c(e),e._args=n,this.each(function(){e.type in b&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,i){var r,o;return this.each(function(a,s){r=u(v(e)?t.Event(e):e),r._args=i,r.target=s,t.each(n(s,e.type||e),function(t,e){return o=e.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){v(t)||(e=t,t=e.type);var n=document.createEvent(g[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),c(n)}}(Zepto),function(t){function e(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.isDefaultPrevented()}function n(t,n,i,r){return t.global?e(n||y,i,r):void 0}function i(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function r(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(t,e){var i=e.context;return e.beforeSend.call(i,t,e)===!1||n(e,i,"ajaxBeforeSend",[t,e])===!1?!1:void n(e,i,"ajaxSend",[t,e])}function a(t,e,i,r){var o=i.context,a="success";i.success.call(o,t,a,e),r&&r.resolveWith(o,[t,a,e]),n(i,o,"ajaxSuccess",[e,i,t]),l(a,e,i)}function s(t,e,i,r,o){var a=r.context;r.error.call(a,i,e,t),o&&o.rejectWith(a,[i,e,t]),n(r,a,"ajaxError",[i,r,t||e]),l(e,i,r)}function l(t,e,i){var o=i.context;i.complete.call(o,e,t),n(i,o,"ajaxComplete",[e,i]),r(i)}function c(){}function u(t){return t&&(t=t.split(";",2)[0]),t&&(t==x?"html":t==_?"json":T.test(t)?"script":w.test(t)&&"xml")||"text"}function h(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function f(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=h(e.url,e.data),e.data=void 0)}function p(e,n,i,r){return t.isFunction(n)&&(r=i,i=n,n=void 0),t.isFunction(i)||(r=i,i=void 0),{url:e,data:n,success:i,dataType:r}}function d(e,n,i,r){var o,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,l){o=t.type(l),r&&(n=i?r:r+"["+(s||"object"==o||"array"==o?n:"")+"]"),!r&&a?e.add(l.name,l.value):"array"==o||!i&&"object"==o?d(e,l,i,n):e.add(n,l)})}var v,m,g=0,y=window.document,b=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,T=/^(?:text|application)\/javascript/i,w=/^(?:text|application)\/xml/i,_="application/json",x="text/html",S=/^\s*$/,C=y.createElement("a");C.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var i,r,l=e.jsonpCallback,c=(t.isFunction(l)?l():l)||"jsonp"+ ++g,u=y.createElement("script"),h=window[c],f=function(e){t(u).triggerHandler("error",e||"abort")},p={abort:f};return n&&n.promise(p),t(u).on("load error",function(o,l){clearTimeout(r),t(u).off().remove(),"error"!=o.type&&i?a(i[0],p,e,n):s(null,l||"error",p,e,n),window[c]=h,i&&t.isFunction(h)&&h(i[0]),h=i=void 0}),o(p,e)===!1?(f("abort"),p):(window[c]=function(){i=arguments},u.src=e.url.replace(/\?(.+)=\?/,"?$1="+c),y.head.appendChild(u),e.timeout>0&&(r=setTimeout(function(){f("timeout")},e.timeout)),p)},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:_,xml:"application/xml, text/xml",html:x,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n,r,l=t.extend({},e||{}),p=t.Deferred&&t.Deferred();for(v in t.ajaxSettings)void 0===l[v]&&(l[v]=t.ajaxSettings[v]);i(l),l.crossDomain||(n=y.createElement("a"),n.href=l.url,n.href=n.href,l.crossDomain=C.protocol+"//"+C.host!=n.protocol+"//"+n.host),l.url||(l.url=window.location.toString()),(r=l.url.indexOf("#"))>-1&&(l.url=l.url.slice(0,r)),f(l);var d=l.dataType,g=/\?.+=\?/.test(l.url);if(g&&(d="jsonp"),l.cache!==!1&&(e&&e.cache===!0||"script"!=d&&"jsonp"!=d)||(l.url=h(l.url,"_="+Date.now())),"jsonp"==d)return g||(l.url=h(l.url,l.jsonp?l.jsonp+"=?":l.jsonp===!1?"":"callback=?")),t.ajaxJSONP(l,p);var b,T=l.accepts[d],w={},_=function(t,e){w[t.toLowerCase()]=[t,e]},x=/^([\w-]+:)\/\//.test(l.url)?RegExp.$1:window.location.protocol,E=l.xhr(),M=E.setRequestHeader;if(p&&p.promise(E),l.crossDomain||_("X-Requested-With","XMLHttpRequest"),_("Accept",T||"*/*"),(T=l.mimeType||T)&&(T.indexOf(",")>-1&&(T=T.split(",",2)[0]),E.overrideMimeType&&E.overrideMimeType(T)),(l.contentType||l.contentType!==!1&&l.data&&"GET"!=l.type.toUpperCase())&&_("Content-Type",l.contentType||"application/x-www-form-urlencoded"),l.headers)for(m in l.headers)_(m,l.headers[m]);if(E.setRequestHeader=_,E.onreadystatechange=function(){if(4==E.readyState){E.onreadystatechange=c,clearTimeout(b);var e,n=!1;if(E.status>=200&&E.status<300||304==E.status||0==E.status&&"file:"==x){d=d||u(l.mimeType||E.getResponseHeader("content-type")),e=E.responseText;try{"script"==d?(1,eval)(e):"xml"==d?e=E.responseXML:"json"==d&&(e=S.test(e)?null:t.parseJSON(e))}catch(i){n=i}n?s(n,"parsererror",E,l,p):a(e,E,l,p)}else s(E.statusText||null,E.status?"error":"abort",E,l,p)}},o(E,l)===!1)return E.abort(),s(null,"abort",E,l,p),E;if(l.xhrFields)for(m in l.xhrFields)E[m]=l.xhrFields[m];var P="async"in l?l.async:!0;E.open(l.type,l.url,P,l.username,l.password);for(m in w)M.apply(E,w[m]);return l.timeout>0&&(b=setTimeout(function(){E.onreadystatechange=c,E.abort(),s(null,"timeout",E,l,p)},l.timeout)),E.send(l.data?l.data:null),E},t.get=function(){return t.ajax(p.apply(null,arguments))},t.post=function(){var e=p.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=p.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var r,o=this,a=e.split(/\s/),s=p(e,n,i),l=s.success;return a.length>1&&(s.url=a[0],r=a[1]),s.success=function(e){o.html(r?t("<div>").html(e.replace(b,"")).find(r):e),l&&l.apply(o,arguments)},t.ajax(s),this};var E=encodeURIComponent;t.param=function(e,n){var i=[];return i.add=function(e,n){t.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(E(e)+"="+E(n))},d(i,e,n),i.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e,n,i=[],r=function(t){return t.forEach?t.forEach(r):void i.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(i,o){n=o.type,e=o.name,e&&"fieldset"!=o.nodeName.toLowerCase()&&!o.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||o.checked)&&r(t(o).val())}),i},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(){try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t){try{return e(t)}catch(n){return null}}}}(),function(t){var e,n=[];t.fn.remove=function(){return this.each(function(){this.parentNode&&("IMG"===this.tagName&&(n.push(this),this.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",e&&clearTimeout(e),e=setTimeout(function(){n=[]},6e4)),this.parentNode.removeChild(this))})}}(Zepto),function(t){t.Callbacks=function(e){e=t.extend({},e);var n,i,r,o,a,s,l=[],c=!e.once&&[],u=function(t){for(n=e.memory&&t,i=!0,s=o||0,o=0,a=l.length,r=!0;l&&a>s;++s)if(l[s].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}r=!1,l&&(c?c.length&&u(c.shift()):n?l.length=0:h.disable())},h={add:function(){if(l){var i=l.length,s=function(n){t.each(n,function(t,n){"function"==typeof n?e.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!=typeof n&&s(n)})};s(arguments),
r?a=l.length:n&&(o=i,u(n))}return this},remove:function(){return l&&t.each(arguments,function(e,n){for(var i;(i=t.inArray(n,l,i))>-1;)l.splice(i,1),r&&(a>=i&&--a,s>=i&&--s)}),this},has:function(e){return!(!l||!(e?t.inArray(e,l)>-1:l.length))},empty:function(){return a=l.length=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||h.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!l||i&&!c||(e=e||[],e=[t,e.slice?e.slice():e],r?c.push(e):u(e)),this},fire:function(){return h.fireWith(this,arguments)},fired:function(){return!!i}};return h}}(Zepto),function(t){function e(e,i){var l=e[s],c=l&&r[l];if(void 0===i)return c||n(e);if(c){if(i in c)return c[i];var u=a(i);if(u in c)return c[u]}return o.call(t(e),i)}function n(e,n,o){var l=e[s]||(e[s]=++t.uuid),c=r[l]||(r[l]=i(e));return void 0!==n&&(c[a(n)]=o),c}function i(e){var n={};return t.each(e.attributes||l,function(e,i){0==i.name.indexOf("data-")&&(n[a(i.name.replace("data-",""))]=t.zepto.deserializeValue(i.value))}),n}var r={},o=t.fn.data,a=t.camelCase,s=t.expando="Zepto"+ +new Date,l=[];t.fn.data=function(i,r){return void 0===r?t.isPlainObject(i)?this.each(function(e,r){t.each(i,function(t,e){n(r,t,e)})}):0 in this?e(this[0],i):void 0:this.each(function(){n(this,i,r)})},t.fn.removeData=function(e){return"string"==typeof e&&(e=e.split(/\s+/)),this.each(function(){var n=this[s],i=n&&r[n];i&&t.each(e||i,function(t){delete i[e?a(this):t]})})},["remove","empty"].forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=this.find("*");return"remove"===e&&(t=t.add(this)),t.removeData(),n.call(this)}})}(Zepto),function(t){function e(n){var i=[["resolve","done",t.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",t.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",t.Callbacks({memory:1})]],r="pending",o={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var n=arguments;return e(function(e){t.each(i,function(i,r){var s=t.isFunction(n[i])&&n[i];a[r[1]](function(){var n=s&&s.apply(this,arguments);if(n&&t.isFunction(n.promise))n.promise().done(e.resolve).fail(e.reject).progress(e.notify);else{var i=this===o?e.promise():this,a=s?[n]:arguments;e[r[0]+"With"](i,a)}})}),n=null}).promise()},promise:function(e){return null!=e?t.extend(e,o):o}},a={};return t.each(i,function(t,e){var n=e[2],s=e[3];o[e[1]]=n.add,s&&n.add(function(){r=s},i[1^t][2].disable,i[2][2].lock),a[e[0]]=function(){return a[e[0]+"With"](this===a?o:this,arguments),this},a[e[0]+"With"]=n.fireWith}),o.promise(a),n&&n.call(a,a),a}var n=Array.prototype.slice;t.when=function(i){var r,o,a,s=n.call(arguments),l=s.length,c=0,u=1!==l||i&&t.isFunction(i.promise)?l:0,h=1===u?i:e(),f=function(t,e,i){return function(o){e[t]=this,i[t]=arguments.length>1?n.call(arguments):o,i===r?h.notifyWith(e,i):--u||h.resolveWith(e,i)}};if(l>1)for(r=new Array(l),o=new Array(l),a=new Array(l);l>c;++c)s[c]&&t.isFunction(s[c].promise)?s[c].promise().done(f(c,a,s)).fail(h.reject).progress(f(c,o,r)):--u;return u||h.resolveWith(a,s),h.promise()},t.Deferred=e}(Zepto),function(t){function e(t,e){var n=this.os={},i=this.browser={},r=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),o=t.match(/(Android);?[\s\/]+([\d.]+)?/),a=!!t.match(/\(Macintosh\; Intel /),s=t.match(/(iPad).*OS\s([\d_]+)/),l=t.match(/(iPod)(.*OS\s([\d_]+))?/),c=!s&&t.match(/(iPhone\sOS)\s([\d_]+)/),u=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),h=/Win\d{2}|Windows/.test(e),f=t.match(/Windows Phone ([\d.]+)/),p=u&&t.match(/TouchPad/),d=t.match(/Kindle\/([\d.]+)/),v=t.match(/Silk\/([\d._]+)/),m=t.match(/(BlackBerry).*Version\/([\d.]+)/),g=t.match(/(BB10).*Version\/([\d.]+)/),y=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),b=t.match(/PlayBook/),T=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),w=t.match(/Firefox\/([\d.]+)/),_=t.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),x=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),S=!T&&t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),C=S||t.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(i.webkit=!!r)&&(i.version=r[1]),o&&(n.android=!0,n.version=o[2]),c&&!l&&(n.ios=n.iphone=!0,n.version=c[2].replace(/_/g,".")),s&&(n.ios=n.ipad=!0,n.version=s[2].replace(/_/g,".")),l&&(n.ios=n.ipod=!0,n.version=l[3]?l[3].replace(/_/g,"."):null),f&&(n.wp=!0,n.version=f[1]),u&&(n.webos=!0,n.version=u[2]),p&&(n.touchpad=!0),m&&(n.blackberry=!0,n.version=m[2]),g&&(n.bb10=!0,n.version=g[2]),y&&(n.rimtabletos=!0,n.version=y[2]),b&&(i.playbook=!0),d&&(n.kindle=!0,n.version=d[1]),v&&(i.silk=!0,i.version=v[1]),!v&&n.android&&t.match(/Kindle Fire/)&&(i.silk=!0),T&&(i.chrome=!0,i.version=T[1]),w&&(i.firefox=!0,i.version=w[1]),_&&(n.firefoxos=!0,n.version=_[1]),x&&(i.ie=!0,i.version=x[1]),C&&(a||n.ios||h)&&(i.safari=!0,n.ios||(i.version=C[1])),S&&(i.webview=!0),n.tablet=!!(s||b||o&&!t.match(/Mobile/)||w&&t.match(/Tablet/)||x&&!t.match(/Phone/)&&t.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(o||c||u||m||g||T&&t.match(/Android/)||T&&t.match(/CriOS\/([\d.]+)/)||w&&t.match(/Mobile/)||x&&t.match(/Touch/)))}e.call(t,navigator.userAgent,navigator.platform),t.__detect=e}(Zepto),function(t,e){function n(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function i(t){return r?r+t:t.toLowerCase()}var r,o,a,s,l,c,u,h,f,p,d="",v={Webkit:"webkit",Moz:"",O:"o"},m=document.createElement("div"),g=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};t.each(v,function(t,n){return m.style[t+"TransitionProperty"]!==e?(d="-"+t.toLowerCase()+"-",r=n,!1):void 0}),o=d+"transform",y[a=d+"transition-property"]=y[s=d+"transition-duration"]=y[c=d+"transition-delay"]=y[l=d+"transition-timing-function"]=y[u=d+"animation-name"]=y[h=d+"animation-duration"]=y[p=d+"animation-delay"]=y[f=d+"animation-timing-function"]="",t.fx={off:r===e&&m.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:d,transitionEnd:i("TransitionEnd"),animationEnd:i("AnimationEnd")},t.fn.animate=function(n,i,r,o,a){return t.isFunction(i)&&(o=i,r=e,i=e),t.isFunction(r)&&(o=r,r=e),t.isPlainObject(i)&&(r=i.easing,o=i.complete,a=i.delay,i=i.duration),i&&(i=("number"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),a&&(a=parseFloat(a)/1e3),this.anim(n,i,r,o,a)},t.fn.anim=function(i,r,d,v,m){var b,T,w,_={},x="",S=this,C=t.fx.transitionEnd,E=!1;if(r===e&&(r=t.fx.speeds._default/1e3),m===e&&(m=0),t.fx.off&&(r=0),"string"==typeof i)_[u]=i,_[h]=r+"s",_[p]=m+"s",_[f]=d||"linear",C=t.fx.animationEnd;else{T=[];for(b in i)g.test(b)?x+=b+"("+i[b]+") ":(_[b]=i[b],T.push(n(b)));x&&(_[o]=x,T.push(o)),r>0&&"object"==typeof i&&(_[a]=T.join(", "),_[s]=r+"s",_[c]=m+"s",_[l]=d||"linear")}return w=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(C,w)}else t(this).unbind(C,w);E=!0,t(this).css(y),v&&v.call(this)},r>0&&(this.bind(C,w),setTimeout(function(){E||w.call(S)},1e3*(r+m)+25)),this.size()&&this.get(0).clientLeft,this.css(_),0>=r&&setTimeout(function(){S.each(function(){w.call(this)})},0),this},m=null}(Zepto),function(t,e){function n(n,i,r,o,a){"function"!=typeof i||a||(a=i,i=e);var s={opacity:r};return o&&(s.scale=o,n.css(t.fx.cssPrefix+"transform-origin","0 0")),n.animate(s,i,null,a)}function i(e,i,r,o){return n(e,i,0,r,function(){a.call(t(this)),o&&o.call(this)})}var r=window.document,o=(r.documentElement,t.fn.show),a=t.fn.hide,s=t.fn.toggle;t.fn.show=function(t,i){return o.call(this),t===e?t=0:this.css("opacity",0),n(this,t,1,"1,1",i)},t.fn.hide=function(t,n){return t===e?a.call(this):i(this,t,"0,0",n)},t.fn.toggle=function(n,i){return n===e||"boolean"==typeof n?s.call(this,n):this.each(function(){var e=t(this);e["none"==e.css("display")?"show":"hide"](n,i)})},t.fn.fadeTo=function(t,e,i){return n(this,t,e,null,i)},t.fn.fadeIn=function(t,e){var n=this.css("opacity");return n>0?this.css("opacity",0):n=1,o.call(this).fadeTo(t,n,e)},t.fn.fadeOut=function(t,e){return i(this,t,null,e)},t.fn.fadeToggle=function(e,n){return this.each(function(){var i=t(this);i[0==i.css("opacity")||"none"==i.css("display")?"fadeIn":"fadeOut"](e,n)})}}(Zepto),function(t){function e(t){return"tagName"in t?t:t.parentNode}if(t.os.ios){var n,i={};t(document).bind("gesturestart",function(t){var r=Date.now();r-(i.last||r),i.target=e(t.target),n&&clearTimeout(n),i.e1=t.scale,i.last=r}).bind("gesturechange",function(t){i.e2=t.scale}).bind("gestureend",function(e){i.e2>0?(0!=Math.abs(i.e1-i.e2)&&t(i.target).trigger("pinch")&&t(i.target).trigger("pinch"+(i.e1-i.e2>0?"In":"Out")),i.e1=i.e2=i.last=0):"last"in i&&(i={})}),["pinch","pinchIn","pinchOut"].forEach(function(e){t.fn[e]=function(t){return this.bind(e,t)}})}}(Zepto),function(t){String.prototype.trim===t&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.reduce===t&&(Array.prototype.reduce=function(e){if(void 0===this||null===this)throw new TypeError;var n,i=Object(this),r=i.length>>>0,o=0;if("function"!=typeof e)throw new TypeError;if(0==r&&1==arguments.length)throw new TypeError;if(arguments.length>=2)n=arguments[1];else for(;;){if(o in i){n=i[o++];break}if(++o>=r)throw new TypeError}for(;r>o;)o in i&&(n=e.call(t,n,i[o],o,i)),o++;return n})}(),function(t){function e(e){return e=t(e),!(!e.width()&&!e.height())&&"none"!==e.css("display")}function n(t,e){t=t.replace(/=#\]/g,'="#"]');var n,i,r=s.exec(t);if(r&&r[2]in a&&(n=a[r[2]],i=r[3],t=r[1],i)){var o=Number(i);i=isNaN(o)?i.replace(/^["']|["']$/g,""):o}return e(t,n,i)}var i=t.zepto,r=i.qsa,o=i.matches,a=t.expr[":"]={visible:function(){return e(this)?this:void 0},hidden:function(){return e(this)?void 0:this},selected:function(){return this.selected?this:void 0},checked:function(){return this.checked?this:void 0},parent:function(){return this.parentNode},first:function(t){return 0===t?this:void 0},last:function(t,e){return t===e.length-1?this:void 0},eq:function(t,e,n){return t===n?this:void 0},contains:function(e,n,i){return t(this).text().indexOf(i)>-1?this:void 0},has:function(t,e,n){return i.qsa(this,n).length?this:void 0}},s=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),l=/^\s*>/,c="Zepto"+ +new Date;i.qsa=function(e,o){return n(o,function(n,a,s){try{var u;!n&&a?n="*":l.test(n)&&(u=t(e).addClass(c),n="."+c+" "+n);var h=r(e,n)}catch(f){throw console.error("error performing selector: %o",o),f}finally{u&&u.removeClass(c)}return a?i.uniq(t.map(h,function(t,e){return a.call(t,e,h,s)})):h})},i.matches=function(t,e){return n(e,function(e,n,i){return!(e&&!o(t,e)||n&&n.call(t,null,i)!==t)})}}(Zepto),function(t){t.fn.end=function(){return this.prevObject||t()},t.fn.andSelf=function(){return this.add(this.prevObject||t())},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings".split(",").forEach(function(e){var n=t.fn[e];t.fn[e]=function(){var t=n.apply(this,arguments);return t.prevObject=this,t}})}(Zepto),function(t){function e(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"}function n(){u=null,f.last&&(f.el.trigger("longTap"),f={})}function i(){u&&clearTimeout(u),u=null}function r(){s&&clearTimeout(s),l&&clearTimeout(l),c&&clearTimeout(c),u&&clearTimeout(u),s=l=c=u=null,f={}}function o(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function a(t,e){return t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e}var s,l,c,u,h,f={},p=750;t(document).ready(function(){var d,v,m,g,y=0,b=0;"MSGesture"in window&&(h=new MSGesture,h.target=document.body),t(document).bind("MSGestureEnd",function(t){var e=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;e&&(f.el.trigger("swipe"),f.el.trigger("swipe"+e))}).on("touchstart MSPointerDown pointerdown",function(e){(!(g=a(e,"down"))||o(e))&&(m=g?e:e.touches[0],e.touches&&1===e.touches.length&&f.x2&&(f.x2=void 0,f.y2=void 0),d=Date.now(),v=d-(f.last||d),f.el=t("tagName"in m.target?m.target:m.target.parentNode),s&&clearTimeout(s),f.x1=m.pageX,f.y1=m.pageY,v>0&&250>=v&&(f.isDoubleTap=!0),f.last=d,u=setTimeout(n,p),h&&g&&h.addPointer(e.pointerId))}).on("touchmove MSPointerMove pointermove",function(t){(!(g=a(t,"move"))||o(t))&&(m=g?t:t.touches[0],i(),f.x2=m.pageX,f.y2=m.pageY,y+=Math.abs(f.x1-f.x2),b+=Math.abs(f.y1-f.y2))}).on("touchend MSPointerUp pointerup",function(n){(!(g=a(n,"up"))||o(n))&&(i(),f.x2&&Math.abs(f.x1-f.x2)>30||f.y2&&Math.abs(f.y1-f.y2)>30?c=setTimeout(function(){f.el.trigger("swipe"),f.el.trigger("swipe"+e(f.x1,f.x2,f.y1,f.y2)),f={}},0):"last"in f&&(30>y&&30>b?l=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=r,f.el.trigger(e),f.isDoubleTap?(f.el&&f.el.trigger("doubleTap"),f={}):s=setTimeout(function(){s=null,f.el&&f.el.trigger("singleTap"),f={}},250)},0):f={}),y=b=0)}).on("touchcancel MSPointerCancel pointercancel",r),t(window).on("scroll",r)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(Zepto),!function(t){"use strict";t||(t=window);var e="__S";"undefined"==typeof t[e]&&(t[e]={}),e=t[e],e.plugins={},e.Logger={log:function(){}}}(window),function(t){"use strict";t||(t=window),Array.prototype.forEach||(Array.prototype.forEach=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=arguments.length>=2?arguments[1]:void 0,r=0;n>r;r++)r in e&&t.call(i,e[r],r,e)});var e,n,i,r=t.__S||(t.__S={}),o=t.document.documentElement.style,a=["webkit","Moz","ms"],s=t.navigator,l=s&&s.userAgent,c=l&&l.match(/Windows Phone (?:OS[ /])?(\d+)\.(\d+)/),u=l&&l.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),h=l&&l.match(/Android/),f=!!c,p=!f&&!!u,d=!f&&!!h,v=u&&u[1]>=8,m=!1,g=!1;if("transition"in o)m=!0,n="";else for(i=0;i<a.length;i++)e=a[i]+"Transition","undefined"!==o[e]&&(m=!0,n=a[i]);if("undefined"!=typeof o.transform)g=!0;else for(i=0;i<a.length;i++)e=a[i]+"Transform","undefined"!=typeof o[e]&&(g=!0,n=a[i]);r.support={prefix:n,transition:m,transform:g,matrix:!(!t.WebKitCSSMatrix&&!t.MSCSSMatrix),touch:"ontouchstart"in t,pointers:t.navigator.pointerEnabled,msPointers:t.navigator.msPointerEnabled,touchScroll:v,isWP:f,isIOS:p,isAndroid:d}}(window),function(t){"use strict";function e(e,n){for(var i=["Top","Right","Bottom","Left"],r=t.getComputedStyle(n),o="width"===e,a=o?1:0,s=0;4>a;a+=2)s+=parseInt(r["margin"+i[a]],10);return s+(o?n.offsetWidth:n.offsetHeight)}t||(t=window);var n=t.__S||(t.__S={}),i=n.support,r=i&&i.prefix,o={};return i?(i.transition&&i.transform&&(o=""!==r?{transform:r+"Transform",transition:r+"Transition",transitionProperty:r+"TransitionProperty",transitionTimingFunction:r+"TransitionTimingFunction",transitionDuration:r+"TransitionDuration",transformOrigin:r+"TransformOrigin",boxSizing:r+"BoxSizing",matrix:t.WebKitCSSMatrix||t.MSCSSMatrix}:{transform:"transform",transition:"transition",transitionProperty:"transitionProperty",transitionTimingFunction:"transitionTimingFunction",transitionDuration:"transitionDuration",transformOrigin:"transformOrigin",boxSizing:"boxSizing",matrix:t.WebKitCSSMatrix||t.MSCSSMatrix}),o.getHeight=function(t){return e("height",t)},o.getWidth=function(t){return e("width",t)},void(n.styles=o)):void t.console.log("Scroller Dependency error! browser support detection needed")}(window),function(t){"use strict";t||(t=window);var e=t.__S||(t.__S={}),n={simpleMerge:function(t,e){var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i},parseDOM:function(e){var n;return e&&e.length?"string"==typeof e?(n=t.document.createElement("div"),n.innerHTML=e,Array.prototype.slice.call(n.children,0)):Array.prototype.slice.call(e,0):void 0},bind:function(t,e,n,i){t.addEventListener(e,n,!!i)},unbind:function(t,e,n,i){t.removeEventListener(e,n,!!i)}};e.helpers=n}(window),function(t){"use strict";t||(t=window);for(var e=0,n="CancelAnimationFrame",i=["ms","moz","webkit","o"],r=0;r<i.length&&!t.requestAnimationFrame;++r)t.requestAnimationFrame=t[i[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[i[r]+n]||t[i[r]+n];t.requestAnimationFrame||(t.requestAnimationFrame=function(n,i){var r=(new Date).getTime(),o=Math.max(0,16-(r-e)),a=t.setTimeout(function(){n(r+o)},o);return e=r+o,a}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(e){t.clearTimeout(e)})}(window),function(t){function e(t){if(this._element=t,t.className!=this._classCache){if(this._classCache=t.className,!this._classCache)return;var e,n=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(e=0;e<n.length;e++)s.call(this,n[e])}}function n(t,e){t.className=e.join(" ")}function i(t,e,n){Object.defineProperty?Object.defineProperty(t,e,{get:n}):t.__defineGetter__(e,n)}if(t||(t=window),!("undefined"==typeof t.Element||"classList"in document.documentElement)){Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){for(var n=e||0,i=this.length;i>n;n++)if(this[n]===t)return n;return-1});var r=Array.prototype,o=r.indexOf,a=r.slice,s=r.push,l=r.splice,c=r.join;e.prototype={add:function(t){this.contains(t)||(s.call(this,t),n(this._element,a.call(this,0)))},contains:function(t){return-1!==o.call(this,t)},item:function(t){return this[t]||null},remove:function(t){var e=o.call(this,t);-1!==e&&(l.call(this,e,1),n(this._element,a.call(this,0)))},toString:function(){return c.call(this," ")},toggle:function(t){return this.contains(t)?this.remove(t):this.add(t),this.contains(t)}},window.DOMTokenList=e,i(Element.prototype,"classList",function(){return new e(this)})}}(window),function(t){"use strict";function e(t,e,n,r){function o(t,e){return 1-3*e+3*t}function a(t,e){return 3*e-6*t}function s(t){return 3*t}function l(t,e,n){return((o(e,n)*t+a(e,n))*t+s(e))*t}function c(t,e,n){return 3*o(e,n)*t*t+2*a(e,n)*t+s(e)}function u(e){var r,o,a,s=e,u=i;for(a=0;u>a;a++){if(r=c(s,t,n),0===r)return s;o=l(s,t,n)-e,s-=o/r}return s}var h;return h=function(i){return t===e&&n===r?i:l(u(i),e,r)},h.toString=function(){return"cubic-bezier("+t+", "+e+", "+n+", "+r+")"},h}t||(t=window);var n=t.__S||(t.__S={}),i=4;n.CubicBezier=e}(window),function(t){"use strict";function e(t,e){e||(e={}),this._initializeScroller(),this._setConfig(e),this._setElement(t),this._setSize(),this._initializePlugins(e),this._initialize(),this._handleEvents("bind")}t||(t=window);var n=Date.now||function(){return(new Date).getTime()},i=t.requestAnimationFrame,r=t.cancelAnimationFrame,o=t.__S||{},a=o.plugins,s=o.helpers,l=o.support,c=o.styles,u=o.CubicBezier,h=o.Logger,f=l.isIOS,p="lock",d="gestureStart",v="gestureMove",m="scrollMove",g="gestureEnd",y="animationStart",b="animationMove",T="animationEnd",w="scroll",_="mutationObserver",x="before",S="after",C={touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:4,MSPointerMove:4,MSPointerUp:4},E="vertical",M="horizontal",P="bidirectional",L={subtree:!0,childList:!0,attributes:!1},k={enabled:!0,bounceTime:600,useCSSTransition:!1,useNativeScroller:!1,dualListeners:!1,minThreshold:5,minDirectionThreshold:2,lockOnDirection:null,itemHeight:null,itemWidth:null,bindToWrapper:!1,scroll:E,pullToRefresh:!1,pullToLoadMore:!1,scrollbars:!1,infiniteLoading:!1,gpuOptimization:!1,debounce:!0,observeDomChanges:!0,observeDomConfig:L},O=u(.33,.66,.66,1),$=u(.33,.33,.66,.81),A={regular:{style:O.toString(),fn:O},bounce:{style:$.toString(),fn:$}},R=.1,N=5e-4,D=20,j=!1;e.DEFAULTS=k,e.CubicBezier=u,e.EASING_REGULAR=O,e.EASING_BOUNCE=$,e.EASING=A,e.MIN_VELOCITY=R,e.ACCELERATION_CONSTANT=N,e.SCROLL_VERTICAL=E,e.SCROLL_HORIZONTAL=M,e.MOUSE_WHEEL_SPEED=D,e.MOUSE_WHEEL_INVERTED=j,e.Logger=h,e.plugins=a,e.registerPlugin=function(t,e){this.plugins[t]&&h.log("Overriding plugin: ",t),this.plugins[t]=e},e.prototype={_initializeScroller:function(){this._events={},this.x=0,this.y=0},_initialize:function(){this._fire("_initialize")},_initializePlugins:function(t){var e=this.opts.plugins,n=a.SurfaceManager,i=a.PullToRefresh,r=a.PullToLoadMore,o=!this.opts.useCSSTransition&&this.opts.gpuOptimization,s=this.opts.onPullToRefresh,l=this.opts.onPullToLoadMore;s&&i&&this.plug(i),l&&r&&this.plug(r),o&&n&&this.plug(n),e&&e.forEach(function(t){this.plug(t)},this)},_observeChanges:function(){return window.MutationObserver&&this.opts.observeDomChanges&&!this.opts.gpuOptimization},_initializeDOMObserver:function(){var t=this,e=this.opts.observeDomConfig,n=this.observer=new MutationObserver(function(){t._observedDOMChange.apply(t,arguments)});n.observe(this.wrapper,e)},_observedDOMChange:function(t){this.refresh(_)},_mergeConfigOptions:function(t,e){return s.simpleMerge(t,e)},setEnable:function(t){this.enabled=t},_setConfig:function(t){var e=this.opts=this._mergeConfigOptions(k,t);this.enabled=e.enabled,this.scroll=e.scroll,this.itemHeight=e.itemHeight,this.itemWidth=e.itemWidth,this.acceleration=e.acceleration||N,this.scrollVertical=this.scroll===E,this.scrollHorizontal=this.scroll===M,e.infiniteLoading&&e.pullToLoadMore&&(h.log("You cannot have infiniteLoading and pullToShowMore at the same time.Switching to infiniteLoading"),this.opts.pullToLoadMore=!1),this.scrollHorizontal&&(e.pullToRefresh||e.pullToLoadMore)&&(h.log("The attributes: pullToRefresh or pullToShowMore are not available in horizontal mode yet. Switching them to false"),this.opts.pullToRefresh=!1,this.opts.pullToLoadMore=!1),this.opts.scroll===P&&(this.opts.debounce=!1)},_setElement:function(e){this.wrapper="string"==typeof e?t.document.querySelector(e):e,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style;var n=this.scroll===P?"scroll-bidirectional":this.scrollVertical?"scroll-vertical":"scroll-horizontal";this.scroller.classList.add("scroller"),this.wrapper.classList.add("scroller-wrapper"),this.wrapper.classList.add(n),this.opts.useNativeScroller&&this.wrapper.classList.add("native")},_setWrapperSize:function(){var t=this.wrapperSize;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.wrapperSize=this.scrollVertical?this.wrapperHeight:this.wrapperWidth,this.opts.useNativeScroller&&t!==this.wrapperSize&&(this.scroller.style.height=this.wrapperSize+"px")},_setSize:function(t){var e=this.scroller,n=this.opts.pullToLoadMore;t||(this._setWrapperSize(),this._sizePullToShowMore()),this.scrollerWidth=e.offsetWidth,this.scrollerHeight=n?e.offsetHeight-this.getPTLSize():e.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.maxScrollX=this.maxScrollX>0?0:this.maxScrollX,this.maxScrollY=this.maxScrollY>0?0:this.maxScrollY,this.hasScrollX=this.maxScrollX<0,this.hasScrollY=this.maxScrollY<0},_sizePullToShowMore:function(){},getPTLSize:function(){return 0},_getCustomAppendedElements:function(){return 0},_destroy:function(){this._handleEvents("unbind")},_iosScrollFixture:function(t){0===this.scroller.scrollTop&&(this.scroller.scrollTop=1)},_handleEvents:function(t){var e=this,n="bind"===t?s.bind:s.unbind,i=this.wrapper,r=this.opts.bindToWrapper?i:window,o=!1;return this.scroller,n(window,"orientationchange",this),n(window,"resize",this),this._observeChanges()&&this._initializeDOMObserver(),this.opts.useNativeScroller?(n(this.scroller,"scroll",this),void(f&&!this.opts.pullToRefresh&&n(i,"touchstart",function(t){e._iosScrollFixture.apply(e,arguments)}))):(l.touch&&!this.opts.disableTouch&&(n(i,"touchstart",this),n(r,"touchmove",this),n(r,"touchcancel",this),n(r,"touchend",this)),!l.pointers&&!l.msPointers||this.opts.disablePointers||(l.pointers?(n(i,"pointerdown",this),n(r,"pointermove",this),n(r,"pointercancel",this),n(r,"pointerup",this)):(n(i,"MSPointerDown",this),n(r,"MSPointerMove",this),n(r,"MSPointerCancel",this),n(r,"MSPointerUp",this)),o=!0),!this.opts.disableMouse&&(!o||o&&this.opts.dualListeners)&&(n(i,"mousedown",this),n(r,"mousemove",this),n(r,"mousecancel",this),n(r,"mouseup",this)),this.opts.disableWheel||this.opts.useNativeScroller||(n(i,"wheel",this),n(i,"mousewheel",this),n(i,"DOMMouseScroll",this)),n(this.scroller,"transitionend",this),void n(this.scroller,l.prefix+"TransitionEnd",this))},_fire:function(t){var e,n=this._events[t],i=n&&n.length,r=Array.prototype.slice.call(arguments,1);if(i)for(var o=0;i>o;o++)e=n[o],e.fn.apply(e.context||this,r)},_hook:function(t,e,n){var i=this[e];i&&(t===S?this[e]=function(){i.apply(this,arguments),n.apply(this,arguments)}:t===x&&(this[e]=function(){n.apply(this,arguments),i.apply(this,arguments)}))},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this.resize();break;case"transitionend":case l.prefix+"TransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"scroll":this._nativeScroll(t)}},_start:function(t){if(this.enabled&&(!this._initiated||C[t.type]===this._initiated)){var e=t.touches?t.touches[0]:t;this._initiated=C[t.type],this.moved=!1,this.distX=0,this.distY=0,this.velocity=0,this.scrollDirection=null,this._transitionTime(),this._isAnimating=!1,this._isScrolling&&(this._stopMomentum(),this._isScrolling=!1,this._onStopScrolling(t)),this.startX=this.x,this.startY=this.y,this.pointX=e.pageX,this.pointY=e.pageY,this.startTime=n(),this._lastPosition=this.scrollVertical?this.startY:this.startX,this._fire("beforeScrollStart",d,t)}},_onStopScrolling:function(t){t.preventDefault()},_trackVelocity:function(t){var e,n=this._lastPosition,i=this.scrollVertical?this.y:this.x,r=17,o=i-n;this._lastPosition=i,e=o/r,this.velocity=.6*e+.4*this.velocity},_startMoveRAF:function(){function t(n){e._translate(e.x,e.y),e._trackVelocity(n),e._update(),e._fire(m,v,e.x,e.y),e._rafMoving=i(t)}var e=this;t()},_endMoveRAF:function(){r(this._rafMoving)},_update:function(){this._fire("_update")},_needsLocking:function(){return this.opts.lockOnDirection&&this.scrollDirection&&this.opts.lockOnDirection===this.scrollDirection},_lockScroller:function(){this._initiated=!1,this._fire(p,this.scrollDirection)},_getScrollDirection:function(t,e){var n=this.opts.minDirectionThreshold;return this.scrollDirection=t>e+n?M:e>t+n?E:null,this.scrollDirection&&this.opts.lockOnDirection&&this.scroll===P&&(this.scrollVertical=this.scrollDirection===E),this.scrollDirection},_isOutOfScroll:function(t,e){return this.scrollVertical?e>0||e<this.maxScrollY:t>0||t<this.maxScrollX},_setNormalizedXY:function(t,e){this.opts.lockOnDirection||this.scroll!==P?this.scrollVertical?this.y=e:this.x=t:(this.x=t,this.y=e)},_move:function(t){if(!this.enabled||C[t.type]!==this._initiated||t.cancelScrolling)return void(t.scrollDirection=this.scrollDirection);var e,i,r,o,a=t.touches?t.touches[0]:t,s=a.pageX-this.pointX,l=a.pageY-this.pointY,c=n();return this.moved||!s&&!l||(this.moved=!0,this._translate(this.x,this.y),this._fire("scrollStart",d,t),(!this.opts.useCSSTransition||this.opts.debounce)&&this._startMoveRAF()),this.pointX=a.pageX,this.pointY=a.pageY,this.distX=this.distX+s,this.distY=this.distY+l,r=Math.abs(this.distX),o=Math.abs(this.distY),e=this.x+s,i=this.y+l,t.scrollDirection=this.scrollDirection||this._getScrollDirection(r,o),this._needsLocking()?void this._lockScroller():this.opts.minThreshold&&r<this.opts.minThreshold&&o<this.opts.minThreshold?void this._fire(m,v,this.x,this.y,t):(this._isOutOfScroll(e,i)&&(i=this.y+l/3,e=this.x+s/3),this._setNormalizedXY(e,i),void(this.opts.useCSSTransition&&!this.opts.debounce&&(this._translate(this.x,this.y),this._fire(m,v,this.x,this.y,t),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y))))},_end:function(t){if(this._endMoveRAF(),!this.enabled||!this.moved||C[t.type]!==this._initiated)return void(this._initiated=!1);this._initiated=!1;var e,i=n()-this.startTime;if(A.regular,!this._resetPosition(this.opts.bounceTime))if(this._isScrolling=!0,this.scrollVertical)e=this._momentum(this.y,this.startY,i,this.maxScrollY,this.wrapperHeight),this._scrollTo(this.x,e.destination,e.time,e.bounce);else if(this.scrollHorizontal)e=this._momentum(this.x,this.startX,i,this.maxScrollX,this.wrapperWidth),this._scrollTo(e.destination,this.y,e.time,e.bounce);else{var r=this._momentum(this.x,this.startX,i,this.maxScrollX,this.wrapperWidth),o=this._momentum(this.y,this.startY,i,this.maxScrollY,this.wrapperHeight);this._scrollTo(r.destination,o.destination,Math.max(r.time,o.time),r.bounce)}},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var n,r,o,a,s=this,l=e.MOUSE_WHEEL_SPEED,c=e.MOUSE_WHEEL_INVERTED?-1:1;if("deltaX"in t)n=-t.deltaX,r=-t.deltaY;else if("wheelDeltaX"in t)n=t.wheelDeltaX/120*l,r=t.wheelDeltaY/120*l;else if("wheelDelta"in t)n=r=t.wheelDelta/120*l;else{if(!("detail"in t))return;n=r=-t.detail/3*l}n*=c,r*=c,this.scrollHorizontal&&(n=r,r=0),o=this.x+Math.round(this.hasScrollX?n:0),a=this.y+Math.round(this.hasScrollY?r:0),o>0?o=0:o<this.maxScrollX&&(o=this.maxScrollX),a>0?a=0:a<this.maxScrollY&&(a=this.maxScrollY),this.x=o,this.y=a,this._rafWheel||(this._rafWheel=i(function(t){s._isScrolling=!0,s._getScrollDirection(n,r),s.distY=r,s.distX=n,s._wheelRAF()}))}},_wheelRAF:function(){this._translate(this.x,this.y),this._update(),this._rafWheel=!1,this._isScrolling=!1,this._fire(m,b,this.x,this.y)},_getVelocity:function(t,e,n){var i=this.opts.debounce?this.velocity:(t-e)/n;return Math.abs(i)<R&&(i=0),this.velocity=i,i},_computeMomentum:function(t,e){var n=this.acceleration,i=Math.abs(t)/n,r=t/2*i;return{destination:e+r,time:i}},_computeSnap:function(t,e,n,i){var r=t+e/2*(n/8);return{destination:r,time:Math.abs((r-i)/n)}},_momentum:function(t,e,n,i,r){var o=this._getVelocity(t,e,n),a=this._computeMomentum(o,t);return a.destination<i?(a=this._computeSnap(i,r,o,t),a.bounce=A.bounce):a.destination>0&&(a=this._computeSnap(0,r,o,t),a.bounce=A.bounce),a},_stopMomentum:function(){var e,n,i,o,a=c.transform,s=c.transition;this.opts.useCSSTransition?(e=t.getComputedStyle(this.scroller,null),l.matrix?(n=new c.matrix(e[a]),this.scrollerStyle[s]="",i=n.m41,o=n.m42):(n=e[a].split(")")[0].split(", "),i=+(n[12]||n[4]),o=+(n[13]||n[5])),this._translate(i,o)):r(this._rafReq)},_customResetPosition:function(){return this.opts.pullToRefresh||this.opts.pullToLoadMore},_resetPosition:function(t,e){t||(t=0);var n,i=this.x,r=this.y;return this._customResetPosition()&&(this.opts.pullToRefresh&&this.isTriggeredPTR()?n=this.getResetPositionPTR():this.opts.pullToLoadMore&&this.isTriggeredPTL()&&(n=this.resetPositionPTL())),n?(r=n.y,i=n.x,t=n.time||t):(!this.hasScrollY||this.y>0?r=0:this.y<this.maxScrollY&&(r=this.maxScrollY),!this.hasScrollX||this.x>0?i=0:this.x<this.maxScrollX&&(i=this.maxScrollX)),r===this.y&&i===this.x?!1:(this._scrollTo(i,r,t,A.regular),!0)},_transitionEasing:function(t){this.scrollerStyle[c.transitionTimingFunction]=t},_transitionTime:function(t){t||(t=0),this.scrollerStyle[c.transitionDuration]=t+"ms"},_translate:function(t,e){!this.opts.useNativeScroller||this.forceTranslate?this.scrollerStyle[c.transform]="translate3d("+t+"px,"+e+"px, 0)":this._wrapperScrollTo(t,e),this.x=t,this.y=e},_transitionEnd:function(t){this.opts.useCSSTransition&&t.target===this.scroller&&(this._transitionTime(),this._resetPosition(this.opts.bounceTime)||(this._isScrolling=!1,this._fire("scrollEnd",T)))},_animate:function(t,e,r,o){function a(){var d,v,g,y=n();return y>=p?(s._isAnimating=!1,s._rafReq=null,s._translate(t,e),void(s._resetPosition(s.opts.bounceTime)||(s._fire("scrollEnd",T),s._isScrolling=!1))):(y=(y-u)/r,g=o(y),d=h*g+l,v=f*g+c,s._translate(d,v),s._fire(m,b,d,v),s._update(),void(s._isAnimating&&(s._rafReq=i(a))))}var s=this,l=this.x,c=this.y,u=n(),h=t-l,f=e-c,p=u+r;this._isAnimating=!0,a();

},_prependData:function(e){var n=t.document.createDocumentFragment(),i=this.scroller,r=i.firstChild;e.forEach(function(t){n.appendChild(t)}),i.lastChild===r?i.appendChild(n):i.insertBefore(n,r.nextSibling)},_appendData:function(e){var n,i=t.document.createDocumentFragment(),r=this.scroller;for(n=0;n<e.length;n++)i.appendChild(e[n]);r.appendChild(i)},_scrollTo:function(t,e,n,i){i||(i=A.regular),!n||this.opts.useCSSTransition?(this._transitionEasing(i.style),this._transitionTime(n),this._translate(t,e),this._update(),n?this._fire(y,y):(this._isScrolling=!1,this._fire(g))):this._animate(t,e,n,i.fn)},_nativeScroll:function(t){l.isIOS?this._nativeScrollIOS(t):this._nativeScrollRAF(t)},_nativeScrollIOS:function(t){this._rafNativeScroll||(this._rafNativeScroll=i(this._nativeScrollRAF.bind(this,t)))},_nativeScrollRAF:function(t){var e=-this.scroller.scrollLeft,n=-this.scroller.scrollTop;this._fire(m,w,e,n,t),this.distX=e-this.x,this.distY=n-this.y,this._isScrolling=!0,this._update(),this.x=e,this.y=n,this._isScrolling=!1,this._rafNativeScroll=!1},_wrapperScrollTo:function(t,e){this.wrapper.scrollTop=this.scrollVertical?Math.abs(e):this.wrapper.scrollTop,this.wrapper.scrollLeft=this.scrollVertical?this.wrapper.scrollLeft:Math.abs(t)},on:function(t,e,n){var i=this._events[t]||(this._events[t]=[]);i.push({fn:e,context:n})},resize:function(){var t=this;i(function(){t._translate(0,0),t._setSize()})},refresh:function(){var t=this;this._rafRefresh||(this._rafRefresh=i(function(){t._fire("_refresh"),t._setSize(),t._rafRefresh=null}))},plug:function(t){var e,n="string"==typeof t?a[t]:t,i=n&&n.prototype||n,r=["init"];if(i){for(e in i)-1===r.indexOf(e)&&(this[e]=i[e]);i.init&&i.init.call(this)}else console.log("Error adding plugin:",t)},scrollTo:function(t,e,n){(this.x!==t||this.y!==e)&&(this._stopMomentum(),this.distX=t-this.x,this.distY=e-this.y,this._isScrolling=!0,this._scrollTo.apply(this,arguments))},scrollToTop:function(t,e){this.scrollTo(0,0,t,e)},scrollToBottom:function(t,e){var n=this.maxScrollX,i=this.maxScrollY;this.scrollVertical?n=0:i=0,this.scrollTo(n,i,t,e)},prependItems:function(t){var e=s.parseDOM(t);e&&(this._prependData(e),this._setSize())},appendItems:function(t){var e=s.parseDOM(t);e&&(this._appendData(e),this._setSize())},destroy:function(){this._destroy(),this._fire("destroy")}},t.Scroller=o.constructor=e}(window),function(t){"use strict";function e(){}t||(t=window);var n=t.__S||(t.__S={}),i=t.requestAnimationFrame,r=n.plugins||(n.plugins={}),o=n.styles,a=n.helpers,s=n.support,l={synthetic:"synthetic","native":"native",ios:"ios"},c={labelPull:"下拉刷新",labelClick:"点击刷新",labelRelease:"松开更新",labelUpdate:"更新中...",labelSubtitle:"",labelError:"更新失败",type:void 0},u=200,h=1e3,f="update",p="pull",d="icon",v="error",m="label",g="sub";e.DEFAULTS=c,e.prototype={init:function(){this._mergePullToRefreshConfig(),this.on("_initialize",this._initializePullToRefresh),this.on("scrollMove",this._onScrollMovePTR),this.on("_customResetPosition",this._onResetPositionPTR),this.on("destroy",this._destroyPTR)},_getPTRType:function(){var t=this.opts.useNativeScroller;return t?s.isIOS?(this._iosPTR=!0,l.ios):(this._nativePTR=!0,l["native"]):(this._synthPTR=!0,l.synthetic)},_mergePullToRefreshConfig:function(){var t=this._mergeConfigOptions(c,this.opts.pullToRefreshConfig);void 0===t.type&&(t.type=this._getPTRType()),this.opts.pullToRefreshConfig=t},_createPullToRefreshMarkup:function(){var e=this,n=t.document.createElement("div"),i=this.opts.pullToRefreshConfig.labelPull,r=this.opts.pullToRefreshConfig.labelClick,o=this._nativePTR?r:i,a=this.opts.pullToRefreshConfig.labelSubtitle;return n.innerHTML=['<span class="'+d+'"></span>','<span class="'+m+'">'+o+"</span>",'<span class="'+g+'">'+a+"</span>"].join(""),n.className="pullToRefresh",this._nativePTR&&n.addEventListener("click",function(t){e.triggerPTR()}),n},_initializePullToRefresh:function(){this._iosPTR?(this._bindTouchEventsIOS(),this.on("_refresh",this._onRefreshPTR)):this._nativePTR&&this.on("_refresh",this._onRefreshPTR),this._appendPullToRefresh()},_destroyPTR:function(){},_bindTouchEventsIOS:function(){this.on("scrollEnd",this._onScrollEndPTR),a.bind(this.wrapper,"touchstart",function(t){this.y>=0&&(this._start(t),this.forceTranslate=!0)}.bind(this)),a.bind(this.wrapper,"touchmove",function(t){var e=t.touches?t.touches[0]:t,n=(e.pageX-this.pointX,e.pageY-this.pointY);(this._iosTouching||n>0&&0===this.scroller.scrollTop)&&(t.preventDefault(),this._iosTouching=!0,t.preventDefault(),this._move(t))}.bind(this)),a.bind(this.wrapper,"touchend",function(t){this._iosTouching=!1,this._end(t)}.bind(this))},_appendPullToRefresh:function(){var t=this._createPullToRefreshMarkup(),e=this._iosPTR,n=e?this.wrapper:this.scroller;n.firstChild?n.insertBefore(t,n.firstChild):n.appendChild(t),this.ptrDOM=t,this.ptrIcon=t.getElementsByClassName(d)[0],this.ptrLabel=t.getElementsByClassName(m)[0],this._ptrSize=t.offsetHeight,this._ptrSnapTime=u,this._nativePTR&&(this.ptrDOM.style.position="relative",this.scrollTo(0,this.getPTRSize())),this.togglePullToRefresh(this.opts.pullToRefresh,!0)},_onResetPositionPTR:function(t){if(this._ptrTriggered){var e=this._getPTRSize();t=t||this._getPTRSnapTime(),this.scrollTo(0,e,t)}else this._resetPosition(t,!0)},_onRefreshPTR:function(){var t=this.y;0!==t||this._ptrLoading||this.scrollTo(0,-this.getPTRSize())},_setPTRLoadingState:function(t){var e=this.opts.pullToRefreshConfig.labelUpdate,n=this.opts.pullToRefreshConfig.labelPull,i=this.opts.pullToRefreshConfig.labelClick,r=this._nativePTR?i:n;t?(this.ptrDOM.classList.add(f),this.ptrLabel.textContent=e,this._ptrLoading=!0):(this.ptrDOM.classList.remove(f),this.ptrDOM.classList.remove(p),this.ptrLabel.textContent=r,this._ptrLoading=!1,this._nativePTR&&this.scrollTo(0,-this.getPTRSize(),300))},_setPullState:function(t){t?(this.ptrDOM.classList.add(p),this.ptrLabel.textContent=this.opts.pullToRefreshConfig.labelRelease,this._ptrTriggered=!0):(this.ptrDOM.classList.remove(p),this.ptrLabel.textContent=this.opts.pullToRefreshConfig.labelPull,this._ptrTriggered=!1)},_setPTRErrorState:function(t){var e=this.opts.pullToRefreshConfig.labelError;"boolean"!=typeof t||t?(this._setPTRLoadingState(!1),this.ptrDOM.classList.add(v),this.ptrLabel.textContent=t.labelError||e):(this.ptrDOM.classList.remove(v),this._setPullState(!1))},_onScrollMovePTR:function(t,e,n){var i="gestureMove"===t,r=this._nativePTR;return this._iosPTR&&n>0&&(this.ptrDOM.style[o.transform]="translate3d(0,"+n+"px,0)"),i&&n>0?this._needsPullToRefresh(n):void(r&&n>-this._ptrSize&&(this.ptrDOM.style[o.transform]="translate3d(0,"+(50+n)+"px,0)"))},_onScrollEndPTR:function(t){this._iosPTR&&!this._ptrTriggered&&(this.forceTranslate=!1)},_needsPullToRefresh:function(t){this._ptrTriggered&&t<this._ptrSize?this._setPullState(!1):!this._ptrTriggered&&t>this._ptrSize&&this._setPullState(!0)},_ptrToggle:function(t,e){var n=this.ptrDOM;n&&("disable"===t&&(this.opts.pullToRefresh||e)?(n.style.display="none",this._ptrSize=0,this.opts.pullToRefresh=!1):"enable"!==t||this.opts.pullToRefresh&&!e||(n.style.display="",this._ptrSize=n.offsetHeight,this.opts.pullToRefresh=!0))},_ptrExecTrigger:function(){var e=this,n=this.opts.onPullToRefresh,i=function(){e._ptrExecTriggerCallback.apply(e,arguments)};n?n(i):t.setTimeout(function(){e._ptrExecTriggerCallback("handler not defined")},600)},_ptrExecTriggerCallback:function(e,n){var r=this;e?(this._setPTRErrorState(e),this._ptrTriggered=!1,t.setTimeout(function(){r._resetPosition(r._ptrSnapTime),r._setPTRErrorState(!1)},h)):(this.prependItems(n),this._ptrTriggered=!1,this._setPTRLoadingState(!1),i(function(){r._resetPosition(r._ptrSnapTime)}))},isTriggeredPTR:function(){return this._ptrTriggered},getPTRSize:function(){return this._ptrSize},getPTRSnapTime:function(){return this._ptrSnapTime},triggerPTR:function(){this._ptrLoading||this._setPTRLoadingState(!0),this._ptrExecTrigger()},getResetPositionPTR:function(){return this._triggerPTRAfterReset?(this._triggerPTRAfterReset=!1,this.triggerPTR()):(this._setPTRLoadingState(!0),this._triggerPTRAfterReset=!0),{x:this.x,y:this.getPTRSize(),time:this.getPTRSnapTime()}},togglePullToRefresh:function(t,e){var n=void 0!==t,i=n?t?"enable":"disable":"";n?this._ptrToggle(i,e):this._ptrToggle(this.opts.pullToRefresh?"disable":"enable",e)}},r.PullToRefresh=e}(window),function(t){"use strict";function e(){}t||(t=window);var n=t.__S||(t.__S={}),i=t.requestAnimationFrame,r=n.plugins||(n.plugins={}),o=(n.styles,n.helpers,n.support),a={synthetic:"synthetic","native":"native",ios:"ios"},s={labelPull:"加载更多",labelRelease:"松开加载",labelUpdate:"加载中...",labelClick:"点击加载更多...",labelSubtitle:"",labelError:"加载失败"},l=200,c=1e3,u="update",h="pull",f="icon",p="error",d="label",v="sub",m="pullToLoadMore";e.prototype={init:function(){this._mergePullToLoadMoreConfig(),this.on("_initialize",this._appendPullToLoad),this.on("scrollMove",this._onScrollMovePTL)},_getPTLType:function(){var t=this.opts.useNativeScroller;return t?o.isIOS?(this._iosPTL=!0,a.ios):(this._nativePTL=!0,a["native"]):a.synthetic},_mergePullToLoadMoreConfig:function(){var t=this._mergeConfigOptions(s,this.opts.pullToLoadMoreConfig);void 0===t.type&&(t.type=this._getPTLType()),this.opts.pullToLoadMoreConfig=t},triggerPTL:function(){this._ptlLoading||this._setPTLLoadingState(!0),this._ptlExecTrigger()},_createPullToLoadMarkup:function(){var e=this,n=t.document.createElement("div"),i=this.opts.pullToLoadMoreConfig.labelPull,r=this.opts.pullToLoadMoreConfig.labelClick,o=this._nativePTL?r:i,a=this.opts.pullToLoadMoreConfig.labelSubtitle;return n.innerHTML=['<span class="'+f+'"></span>','<span class="'+d+'">'+o+"</span>",'<span class="'+v+'">'+a+"</span>"].join(""),this._nativePTL&&n.addEventListener("click",function(t){e.triggerPTL()}),n.className=m,n},_createPullToLoadSpacer:function(){var e=t.document.createElement("div");return e.classList.add("spacer-pull-to-load-more"),e},_sizePullToShowMore:function(){var t=this.ptlSpacer,e=this.wrapperHeight-t.offsetTop;e=e>0?e:0,e!==this.ptlSpacerSize&&(this.ptlSpacerSize=e,t.style.height=this.ptlSpacerSize+"px")},_appendPullToLoad:function(){var t=this._createPullToLoadMarkup(),e=this._createPullToLoadSpacer();this.scroller.appendChild(e),this.scroller.appendChild(t),this.ptlSpacer=e,this.ptlDOM=t,this.ptlIcon=t.firstChild,this.ptlLabel=t.getElementsByClassName(d)[0],this._ptlThreshold=t.offsetHeight,this._ptlSnapTime=l,this.togglePullToLoadMore(this.opts.pullToLoadMore,!0),this._setSize()},_appendData:function(e){var n=t.document.createDocumentFragment(),i=this.scroller,r=this.ptlSpacer;e.forEach(function(t){n.appendChild(t)}),r?i.insertBefore(n,r):i.appendChild(n)},_ptlIsEnabled:function(){return this.opts.pullToLoadMore},_ptlToggle:function(t,e){var n=this.ptlDOM;n&&("disable"===t&&(this.opts.pullToLoadMore||e)?(n.style.display="none",this._ptlThreshold=0,this.opts.pullToLoadMore=!1):"enable"!==t||this.opts.pullToLoadMore&&!e||(n.style.display="",this._ptlThreshold=n.offsetHeight,this.opts.pullToLoadMore=!0))},_onScrollMovePTL:function(t,e,n){"gestureMove"===t&&n<this.maxScrollY&&this._needsPullToLoadMore(n)},_needsPullToLoadMore:function(t){if(this.opts.pullToLoadMore){var e=this.maxScrollY-this._ptlThreshold;this._ptlTriggered&&t>e?(this._setPTLPullState(!1),this._ptlTriggered=!1):!this._ptlTriggered&&e>t&&(this._setPTLPullState(!0),this._ptlTriggered=!0)}},_setPTLPullState:function(t){t?(this.ptlDOM.classList.add(h),this.ptlLabel.textContent=this.opts.pullToLoadMoreConfig.labelRelease,this._ptlTriggered=!0):(this.ptlDOM.classList.remove(h),this.ptlLabel.textContent=this.opts.pullToLoadMoreConfig.labelPull,this._ptlTriggered=!1)},_setPTLLoadingState:function(t){t?(this.ptlDOM.classList.add(u),this.ptlLabel.textContent=this.opts.pullToLoadMoreConfig.labelUpdate,this._ptlLoading=!0):(this.ptlDOM.classList.remove(u),this.ptlDOM.classList.remove(h),this.ptlLabel.textContent=this.opts.pullToLoadMoreConfig.labelPull,this._ptlLoading=!1)},_setPTLErrorState:function(t){var e=this.opts.pullToLoadMoreConfig.labelError;"boolean"!=typeof t||t?(this._setPTLLoadingState(!1),this.ptlDOM.classList.add(p),this.ptlLabel.textContent=t.labelError||e):(this.ptlDOM.classList.remove(p),this._setPTLPullState(!1))},_ptlExecTrigger:function(){var e=this,n=this.opts.onPullToLoadMore,i=function(){e._ptlExecTriggerCallback.apply(e,arguments)};n?n(i):t.setTimeout(function(){e._ptlExecTriggerCallback("no fnc")},600)},_ptlExecTriggerCallback:function(e,n){var r=this;e?(this._setPTLErrorState(e),this._ptlTriggered=!1,t.setTimeout(function(){r._resetPosition(r._ptlSnapTime),r._setPTLErrorState(!1)},c)):(this.appendItems(n),this._ptlTriggered=!1,this._setPTLLoadingState(!1),i(function(){r._resetPosition(r._ptlSnapTime)}))},_getCustomAppendedElements:function(){return 2},getPTLSize:function(){return this._ptlThreshold||(this._ptlThreshold=this.ptlDOM.offsetHeight),this._ptlThreshold},getPTLSnapTime:function(){return this._ptlSnapTime},isTriggeredPTL:function(){return this._ptlTriggered},resetPositionPTL:function(){return this._triggerPTLAfterReset?(this._triggerPTLAfterReset=!1,this.triggerPTL()):(this._setPTLLoadingState(!0),this._triggerPTLAfterReset=!0),{x:this.x,y:this.maxScrollY-this.getPTLSize(),time:this.getPTLSnapTime()}},togglePullToLoadMore:function(t,e){var n=void 0!==t,i=n?t?"enable":"disable":"";n?this._ptlToggle(i,e):this._ptlToggle(this.opts.pullToLoadMore?"disable":"enable",e)}},r.PullToLoadMore=e}(window),/*! Created by Feil.Wang(wangfeilong@xuexibao.cn) on 2015.08.06 */
function(t,e,n){"use strict";t.vm=e.define({$id:"activityCtrl",initialized:!1,chargetNotice:{},listRecharge:[],listLastId:0}),e.scan(document.body),document.addEventListener("touchmove",function(t){t.preventDefault()},!1);var i={addRecharge:function(t,e){n.ajax({method:"post",dataType:"json",data:{token:TOKEN,studentPhoneNumber:t},url:WEB_SERVER+"api/teacherrecharge/addRecharge",success:function(t){console.log(t),e(t)}})},getChargetNotice:function(t){n.ajax({method:"post",dataType:"json",data:{token:TOKEN},url:WEB_SERVER+"api/teacherrecharge/getChargetNotice",success:function(e){console.log(e),t(e)}})},getListRecharge:function(t,e){n.ajax({method:"post",dataType:"json",data:{token:TOKEN,lastId:t},url:WEB_SERVER+"api/teacherrecharge/listRecharge",success:function(t){console.log(t),e(t)}})}};i.getChargetNotice(function(t){t.success&&(vm.chargetNotice=t.data)}),i.getListRecharge(0,function(t){t.success&&(vm.listRecharge=t.data,vm.listLastId=t.data[t.data.length-1].id)}),n(function(){FastClick.attach(document.body);var e=n(window).width(),r={},o=345/640*e,a=1/320*e;r.top=255/640*e,r.left=.375*e,r.right=.06875*e,n("#titileBar").css({top:r.top,left:r.left,right:r.right,"-webkit-transform":"scale("+a+") rotate(-4deg)",transform:"scale("+a+") rotate(-4deg)"}),n(".main-container").css("top",o),t.scroller=new Scroller("#recordScroller",{pullToRefresh:!0,onPullToRefresh:function(t){i.getListRecharge(0,function(e){e.success&&(vm.listRecharge=e.data,t(null))})},pullToLoadMore:!0,onPullToLoadMore:function(t){i.getListRecharge(vm.listLastId,function(e){e.success&&(0!=e.data.length?(vm.listRecharge=vm.listRecharge.$model.concat(e.data),vm.listLastId=e.data[e.data.length-1].id,t(null)):t(null))})}}),vm.initialized=!0,n("#submitBtn").on("click",function(){var t=n.trim(n("#phoneNumber").val());""!=t&&/^1[3|4|5|7|8][0-9]{9}$/.test(t)?i.addRecharge(t,function(t){alert(t.msg),t.success}):alert("请输入正确的11位手机号！")})})}(window,avalon,Zepto);